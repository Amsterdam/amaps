{"version":3,"file":"pointquery.es.js","sources":["../../node_modules/whatwg-fetch/fetch.js","../../nlmaps/dist/nlmaps.es.js","../../node_modules/proj4/lib/global.js","../../node_modules/proj4/lib/constants/values.js","../../node_modules/proj4/lib/constants/PrimeMeridian.js","../../node_modules/proj4/lib/constants/units.js","../../node_modules/proj4/lib/match.js","../../node_modules/proj4/lib/projString.js","../../node_modules/wkt-parser/parser.js","../../node_modules/wkt-parser/process.js","../../node_modules/wkt-parser/index.js","../../node_modules/proj4/lib/defs.js","../../node_modules/proj4/lib/parseCode.js","../../node_modules/proj4/lib/extend.js","../../node_modules/proj4/lib/common/msfnz.js","../../node_modules/proj4/lib/common/sign.js","../../node_modules/proj4/lib/common/adjust_lon.js","../../node_modules/proj4/lib/common/tsfnz.js","../../node_modules/proj4/lib/common/phi2z.js","../../node_modules/proj4/lib/projections/merc.js","../../node_modules/proj4/lib/projections/longlat.js","../../node_modules/proj4/lib/projections.js","../../node_modules/proj4/lib/constants/Ellipsoid.js","../../node_modules/proj4/lib/deriveConstants.js","../../node_modules/proj4/lib/constants/Datum.js","../../node_modules/proj4/lib/datum.js","../../node_modules/proj4/lib/nadgrid.js","../../node_modules/proj4/lib/Proj.js","../../node_modules/proj4/lib/datumUtils.js","../../node_modules/proj4/lib/datum_transform.js","../../node_modules/proj4/lib/adjust_axis.js","../../node_modules/proj4/lib/common/toPoint.js","../../node_modules/proj4/lib/checkSanity.js","../../node_modules/proj4/lib/transform.js","../../node_modules/proj4/lib/core.js","../../node_modules/mgrs/mgrs.js","../../node_modules/proj4/lib/Point.js","../../node_modules/proj4/lib/common/pj_enfn.js","../../node_modules/proj4/lib/common/pj_mlfn.js","../../node_modules/proj4/lib/common/pj_inv_mlfn.js","../../node_modules/proj4/lib/projections/tmerc.js","../../node_modules/proj4/lib/common/sinh.js","../../node_modules/proj4/lib/common/hypot.js","../../node_modules/proj4/lib/common/log1py.js","../../node_modules/proj4/lib/common/asinhy.js","../../node_modules/proj4/lib/common/gatg.js","../../node_modules/proj4/lib/common/clens.js","../../node_modules/proj4/lib/common/cosh.js","../../node_modules/proj4/lib/common/clens_cmplx.js","../../node_modules/proj4/lib/projections/etmerc.js","../../node_modules/proj4/lib/common/adjust_zone.js","../../node_modules/proj4/lib/projections/utm.js","../../node_modules/proj4/lib/common/srat.js","../../node_modules/proj4/lib/projections/gauss.js","../../node_modules/proj4/lib/projections/sterea.js","../../node_modules/proj4/lib/projections/stere.js","../../node_modules/proj4/lib/projections/somerc.js","../../node_modules/proj4/lib/projections/omerc.js","../../node_modules/proj4/lib/projections/lcc.js","../../node_modules/proj4/lib/projections/krovak.js","../../node_modules/proj4/lib/common/mlfn.js","../../node_modules/proj4/lib/common/e0fn.js","../../node_modules/proj4/lib/common/e1fn.js","../../node_modules/proj4/lib/common/e2fn.js","../../node_modules/proj4/lib/common/e3fn.js","../../node_modules/proj4/lib/common/gN.js","../../node_modules/proj4/lib/common/adjust_lat.js","../../node_modules/proj4/lib/common/imlfn.js","../../node_modules/proj4/lib/projections/cass.js","../../node_modules/proj4/lib/common/qsfnz.js","../../node_modules/proj4/lib/projections/laea.js","../../node_modules/proj4/lib/common/asinz.js","../../node_modules/proj4/lib/projections/aea.js","../../node_modules/proj4/lib/projections/gnom.js","../../node_modules/proj4/lib/common/iqsfnz.js","../../node_modules/proj4/lib/projections/cea.js","../../node_modules/proj4/lib/projections/eqc.js","../../node_modules/proj4/lib/projections/poly.js","../../node_modules/proj4/lib/projections/nzmg.js","../../node_modules/proj4/lib/projections/mill.js","../../node_modules/proj4/lib/projections/sinu.js","../../node_modules/proj4/lib/projections/moll.js","../../node_modules/proj4/lib/projections/eqdc.js","../../node_modules/proj4/lib/projections/vandg.js","../../node_modules/proj4/lib/projections/aeqd.js","../../node_modules/proj4/lib/projections/ortho.js","../../node_modules/proj4/lib/projections/qsc.js","../../node_modules/proj4/lib/projections/robin.js","../../node_modules/proj4/lib/projections/geocent.js","../../node_modules/proj4/lib/projections/tpers.js","../../node_modules/proj4/lib/projections/geos.js","../../node_modules/proj4/projs.js","../../node_modules/proj4/lib/index.js","../../src/lib.js","../../node_modules/leaflet.markercluster/dist/leaflet.markercluster-src.js","../../node_modules/emitonoff/index.js","../../src/pointquery.js"],"sourcesContent":["(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","function createCommonjsModule(e,o){return o={exports:{}},e(o,o.exports),o.exports}function err(e){throw e}function mergeConfig(e,o){return _extends({},e,o)}function parseBase(e){var o=mergeConfig(CONFIG.BASE_DEFAULTS,e.defaults);(!e.layers||e.layers.length<0)&&err(\"no basemap defined, please define a basemap in the configuration\"),e.layers.forEach(function(e){e.name&&void 0===CONFIG.BASEMAP_PROVIDERS[e.name]||err(\"basemap names need to be defined and unique: \"+e.name),CONFIG.BASEMAP_PROVIDERS[e.name]=formatBasemapUrl(mergeConfig(o,e))})}function parseWMS(e){var o=mergeConfig(CONFIG.WMS_DEFAULTS,e.defaults);e.layers&&e.layers.forEach(function(e){e.name&&void 0===CONFIG.WMS_PROVIDERS[e.name]||err(\"wms names need to be defined and unique: \"+e.name),CONFIG.WMS_PROVIDERS[e.name]=applyTemplate(mergeConfig(o,e))})}function parseGeocoder(e){CONFIG.GEOCODER.lookupUrl=e.lookupUrl,CONFIG.GEOCODER.suggestUrl=e.suggestUrl,CONFIG.GEOCODER.placeholder=e.placeholder}function parseMap(e){CONFIG.MAP=mergeConfig(CONFIG.MAP,e)}function formatBasemapUrl(e){switch(e.type){case\"wmts\":e.url=e.url+\"/\"+e.type+\"/\"+e.layerName+\"/\"+e.crs+\"/{z}/{x}/{y}.\"+e.format;break;case\"tms\":e.url=e.url+\"/\"+e.layerName+\"/{z}/{x}/{y}.\"+e.format;break;default:e.url=e.url+\"/\"+e.type+\"/\"+e.layerName+\"/\"+e.crs+\"/{z}/{x}/{y}.\"+e.format}return e}function applyTemplate(e){var o=e.url.indexOf(\"{\");if(o>-1){var t=e.url.indexOf(\"}\");\"workspacename\"===e.url.slice(o+1,t).toLowerCase()?e.url=e.url.slice(0,o)+e.workSpaceName+e.url.slice(t+1,-1):err(\"only workspacename templates are supported for now\")}return e}function parseFeatureQuery(e){CONFIG.FEATUREQUERYBASEURL=e}function parseClasses(e){CONFIG.CLASSNAMES=mergeConfig(CONFIG.CLASSNAMES,e)}function parseMarker(e){CONFIG.MARKER=e}function httpGetAsync(e){return new Promise(function(o,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&200==r.status&&o(JSON.parse(r.responseText))},r.open(\"GET\",e,!0),r.send(null)})}function wktPointToGeoJson(e){if(!e.includes(\"POINT\"))throw TypeError(\"Provided WKT geometry is not a point.\");var o=e.split(\"(\")[1].split(\")\")[0];return{type:\"Point\",coordinates:[parseFloat(o.split(\" \")[0]),parseFloat(o.split(\" \")[1])]}}function parseClasses$1(e,o){o.forEach(function(o){e.classList.add(o)})}function getMarker(){return CONFIG.MARKER}function getExtent(){return CONFIG.MAP.extent}function getProvider(e){if(e in CONFIG.BASEMAP_PROVIDERS){var o=CONFIG.BASEMAP_PROVIDERS[e];return o.deprecated&&console&&console.warn&&console.warn(e+\" is a deprecated style; it will be redirected to its replacement. For performance improvements, please change your reference.\"),o}console.error(\"NL Maps error: You asked for a style which does not exist! Available styles: \"+Object.keys(PROVIDERS).join(\", \"))}function getWmsProvider(e,o){var t=void 0;return e in CONFIG.WMS_PROVIDERS?(t=CONFIG.WMS_PROVIDERS[e]).deprecated&&console&&console.warn&&console.warn(e+\" is a deprecated wms; it will be redirected to its replacement. For performance improvements, please change your reference.\"):(t=_extends({},CONFIG.WMS_DEFAULTS,o),console.log(\"NL Maps: You asked for a wms which does not exist! Available wmses: \"+Object.keys(CONFIG.WMS_PROVIDERS).join(\", \")+\". Provide an options object to make your own WMS.\")),t}function mapPointerStyle(e){e._container.classList.add(\"nlmaps-marker-cursor\")}function extentLeafletFormat(){var e=getExtent(),o=L.latLng(e[0],e[1]),t=L.latLng(e[2],e[3]);return L.latLngBounds(o,t)}function markerLayer(e){if(\"undefined\"!=typeof L&&\"object\"===(\"undefined\"==typeof L?\"undefined\":_typeof(L))){var o=void 0,t=void 0;if(void 0===e){var r=getMapCenter(map);o=r.latitude,t=r.longitude}else o=e.latitude,t=e.longitude;return new L.marker([o,t],{alt:\"marker\",icon:new L.icon({iconUrl:getMarker().url,iconSize:getMarker().iconSize,iconAnchor:getMarker().iconAnchor})})}}function bgLayer(e){if(\"undefined\"!=typeof L&&\"object\"===(\"undefined\"==typeof L?\"undefined\":_typeof(L)))return L.nlmapsBgLayer(e)}function overlayLayer(e,o){if(\"undefined\"!=typeof L&&\"object\"===(\"undefined\"==typeof L?\"undefined\":_typeof(L)))return L.nlmapsOverlayLayer(e,o)}function geoLocatorControl(e){if(\"undefined\"!=typeof L&&\"object\"===(\"undefined\"==typeof L?\"undefined\":_typeof(L)))return L.geoLocatorControl(e)}function zoomTo(e,o){o.fitBounds(L.geoJSON(e).getBounds(),{maxZoom:18})}function geocoderControl(e,o){var t=geocoder.createControl(zoomTo,e,o);e.getContainer().parentElement.insertBefore(t,e.getContainer().parentElement[0])}function getMapCenter(e){var o=e.getCenter();return{latitude:o.lat,longitude:o.lng}}function bgLayer$1(){var e=getProvider(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"standaard\");if(e.subdomains){var o=e.subdomains;e.url=e.url.replace(\"{s}\",\"{\"+o.slice(0,1)+\"-\"+o.slice(-1)+\"}\")}if(\"object\"===(\"undefined\"==typeof ol?\"undefined\":_typeof(ol)))return new ol.layer.Tile({source:new ol.source.XYZ({url:e.url,attributions:[new ol.Attribution({html:e.attribution})]})});throw\"openlayers is not defined\"}function markerLayer$1(e){var o=new ol.style.Style({image:new ol.style.Icon({anchor:[32,63],anchorXUnits:\"pixels\",anchorYUnits:\"pixels\",src:getMarker().url,scale:1})}),t=void 0,r=void 0;if(void 0===e){var n=getMapCenter$1(map);t=n.latitude,r=n.longitude}else t=e.latitude,r=e.longitude;var a=ol.proj.fromLonLat([r,t]),s=new ol.Feature({geometry:new ol.geom.Point(a),name:\"marker\"});s.setStyle(o);var i=new ol.source.Vector({features:[s]});return new ol.layer.Vector({source:i})}function overlayLayer$1(e,o){var t=getWmsProvider(e,o);if(\"object\"===(\"undefined\"==typeof ol?\"undefined\":_typeof(ol)))return new ol.layer.Tile({source:new ol.source.TileWMS({url:t.url,serverType:\"geoserver\",params:{LAYERS:t.layerName,VERSION:t.version,STYLES:t.styleName}})});throw\"openlayers is not defined\"}function geoLocatorControl$1(e,o){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,t=o.getView().getZoom(),r=new ol.View({center:ol.proj.fromLonLat([e.coords.longitude,e.coords.latitude]),zoom:t});o.setView(r)}var r=document.createElement(\"div\");return r.className=\"nlmaps-geolocator-control ol-control\",r.addEventListener(\"click\",function(){e.start()}),e.on(\"position\",function(e){t(e,o)}),new ol.control.Control({element:r})}function zoomTo$1(e,o){var t=ol.proj.fromLonLat(e.coordinates);o.getView().setCenter(t),o.getView().setZoom(18)}function getMapCenter$1(e){var o=e.getView().getCenter(),t=ol.proj.toLonLat(o);return{longitude:t[0],latitude:t[1]}}function geocoderControl$1(e){var o=geocoder.createControl(zoomTo$1,e);o=new ol.control.Control({element:o}),e.addControl(o)}function AttributionControl(e,o){if(\"object\"===(\"undefined\"==typeof google?\"undefined\":_typeof(google))&&\"object\"===_typeof(google.maps)){var t=document.createElement(\"div\");t.style.backgroundColor=\"#fff\",t.style.opacity=\"0.7\",t.style.border=\"2px solid #fff\",t.style.cursor=\"pointer\",e.appendChild(t);var r=document.createElement(\"div\");return r.style.color=\"rgb(25,25,25)\",r.style.fontFamily=\"Roboto,Arial,sans-serif\",r.style.fontSize=\"10px\",r.innerHTML=o,t.appendChild(r),e.index=1,e}throw\"google is not defined\"}function geoLocatorControl$2(e,o){var t=document.createElement(\"div\");return t.id=\"nlmaps-geolocator-control\",t.style.backgroundColor=\"#fff\",t.style.cursor=\"pointer\",t.style.boxShadow=\"0 1px 5px rgba(0, 0, 0, 0.65)\",t.style.height=\"26px\",t.style.width=\"26px\",t.style.borderRadius=\"26px 26px\",t.style.margin=\".5em\",t.addEventListener(\"click\",function(){e.start()},this),e.on(\"position\",function(e){o.setCenter({lat:e.coords.latitude,lng:e.coords.longitude})}),t}function zoomTo$2(e,o){o.setCenter({lat:e.coordinates[1],lng:e.coordinates[0]}),o.setZoom(18)}function indexOfMapControl(e,o){return e.getArray().indexOf(o)}function toggleAttrControl(e,o){var t=o.getMapTypeId(),r=o.controls[google.maps.ControlPosition.BOTTOM_RIGHT],n=indexOfMapControl(r,e);\"roadmap\"===t||\"hybrid\"===t||\"sattelite\"===t?n>-1&&r.removeAt(n):-1===n&&r.push(e)}function makeGoogleAttrControl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=arguments[1],t=new AttributionControl(document.createElement(\"div\"),o);e.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(t),e.addListener(\"maptypeid_changed\",function(){return toggleAttrControl(t,e)})}function makeGoogleLayerOpts(e){return{getTileUrl:function(o,t){return e.bare_url+\"/\"+t+\"/\"+o.x+\"/\"+o.y+\".png\"},tileSize:new google.maps.Size(256,256),isPng:!0,name:e.name,maxZoom:e.maxZoom,minZoom:e.minZoom}}function getWmsTiledOptions(e){return{baseUrl:e.url,layers:e.layers,styles:e.styles,format:e.format,transparent:e.transparent,opacity:.7}}function bgLayer$2(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"standaard\";if(\"object\"===(\"undefined\"==typeof google?\"undefined\":_typeof(google))&&\"object\"===_typeof(google.maps)){var t=getProvider(o),r=makeGoogleLayerOpts(t),n=new google.maps.ImageMapType(r),a=e||this.map||\"undefined\";return void 0!==a&&makeGoogleAttrControl(a,t.attribution),n}throw\"google is not defined\"}function toMercator(e){var o=e.lat(),t=e.lng();if(!(Math.abs(t)>180||Math.abs(o)>90)){var r=.017453292519943295*o;return{x:6378137*(.017453292519943295*t),y:3189068.5*Math.log((1+Math.sin(r))/(1-Math.sin(r)))}}}function WMSTiled(e,o){var t={getTileUrl:function(t,r){var n=e.getProjection(),a=Math.pow(2,r),s=n.fromPointToLatLng(new google.maps.Point(256*t.x/a,256*t.y/a)),i=n.fromPointToLatLng(new google.maps.Point(256*(t.x+1)/a,256*(t.y+1)/a)),l=toMercator(s),c=toMercator(i),u=l.x+\",\"+c.y+\",\"+c.x+\",\"+l.y,d=o.baseUrl;return d+=\"SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG:3857\",d+=\"&WIDTH=256\",d+=\"&HEIGHT=256\",d+=\"&LAYERS=\"+o.layers,d+=\"&STYLES=\"+o.styles,d+=\"&BBOX=\"+u,d+=\"&FORMAT=\"+o.format,d+=\"&TRANSPARENT=\"+o.transparent},tileSize:new google.maps.Size(256,256),isPng:!0},r=new google.maps.ImageMapType(t);return r.setOpacity(o.opacity),e.overlayMapTypes.push(r)}function overlayLayer$2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=new WMSTiled(e,getWmsTiledOptions(getWmsProvider(arguments[1],arguments[2])));return o.name=\"wms\",o}function markerLayer$2(e){var o=void 0,t=void 0;if(void 0===e){var r=getMapCenter$2(map);o=r.latitude,t=r.longitude}else o=e.latitude,t=e.longitude;var n=new google.maps.LatLng(o,t);return new google.maps.Marker({title:\"marker\",position:n,icon:getMarker().url})}function getMapCenter$2(e){return{latitude:e.getCenter().lat(),longitude:e.getCenter().lng()}}function geocoderControl$2(e){var o=geocoder.createControl(zoomTo$2,e);e.getDiv().appendChild(o)}function positionHandler(e){this.emit(\"position\",e)}function positionErrorHandler(e){this.emit(\"error\",e)}function geoLocator(e){var o=\"undefined\"!=typeof window?window.navigator||{}:{};if(void 0!==o&&\"geolocation\"in o){var t=emitonoff$1(GeoLocator(e));return t.on(\"position\",function(){this.stop()}),t}throw\"geolocation is not available in your browser.\"}function query(e){return new Promise(function(o,t){fetch(e).then(function(e){return o(e.json())}).catch(function(e){return t(e)})})}function createAndAddMarker(e,o,t,r){var n=L.marker([o.latlng.lat,o.latlng.lng],{alt:\"marker\",icon:new L.icon({iconUrl:getMarker().url,iconSize:getMarker().iconSize,iconAnchor:getMarker().iconAnchor})});if(n.addTo(e),t){var a=t.call(markerStore,o,n),s=L.popup({offset:[0,-50]}).setContent(a);n.bindPopup(s).openPopup(),markerStore.addMarker(n)}else r?markerStore.addMarker(n):markerStore.addMarker(n,!0)}function singleMarker(e,o,t){return mapPointerStyle(e),function(t,r,n,a){1===t&&(markerStore.markers[0]&&markerStore.removeMarker(markerStore.markers[0]),createAndAddMarker(e,r,o,a))}}function multiMarker(e,o,t){return mapPointerStyle(e),function(r,n){1===r&&createAndAddMarker(e,n,o,t)}}function testWhichLib(){var e=[];return\"object\"===(\"undefined\"==typeof L?\"undefined\":_typeof(L))&&e.push(\"leaflet\"),\"object\"===(\"undefined\"==typeof google?\"undefined\":_typeof(google))&&\"object\"===_typeof(google.maps)&&e.push(\"googlemaps\"),\"object\"===(\"undefined\"==typeof ol?\"undefined\":_typeof(ol))&&e.push(\"openlayers\"),e.length>1?\"too many libs\":0===e.length?\"too few libs\":e[0]}function initMap(e,o){var t=void 0,r=void 0,n=void 0,a=void 0;switch(e){case\"leaflet\":(r=document.getElementById(o.target)).style.position=\"relative\",r.style.padding=\"0px\",r.style.margin=\"0px\",a={},o.attribution||(a.attributionControl=!1),(n=L.DomUtil.create(\"div\")).style.height=\"100%\",r.appendChild(n),a.maxBounds=extentLeafletFormat(),t=L.map(n,a).setView([o.center.latitude,o.center.longitude],o.zoom),o.attribution&&t.attributionControl.setPrefix(!1),t.zoomControl.setPosition(CONFIG.MAP.zoomposition);break;case\"googlemaps\":t=new google.maps.Map(document.getElementById(o.target),{center:{lat:o.center.latitude,lng:o.center.longitude},zoom:o.zoom,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},fullscreenControl:!1});break;case\"openlayers\":(t=new ol.Map({view:new ol.View({center:ol.proj.fromLonLat([o.center.longitude,o.center.latitude]),zoom:o.zoom}),target:n})).getTargetElement().getElementsByClassName(\"ol-zoom\")[0].style.cssText=\"left: 5px !important; bottom: 5px !important\",t.getTargetElement().getElementsByClassName(\"ol-zoom\")[0].classList.remove(\"ol-zoom\")}return t}function addGoogleLayer(e,o){if(\"marker\"===e.title)return void e.setMap(o);var t=[e.name,\"roadmap\"];if(\"wms\"===e.name)return void o.setOptions({mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:t,position:google.maps.ControlPosition.BOTTOM_LEFT}});o.setOptions({mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:t,position:google.maps.ControlPosition.BOTTOM_LEFT}}),o.mapTypes.set(e.name,e),o.setMapTypeId(e.name)}function addLayerToMap(e,o,t){switch(e){case\"leaflet\":t.addLayer(o);break;case\"googlemaps\":addGoogleLayer(o,t);break;case\"openlayers\":t.addLayer(o)}}function createBackgroundLayer(e,o,t){var r=void 0;switch(e){case\"leaflet\":r=nlmaps.leaflet.bgLayer(t);break;case\"googlemaps\":r=nlmaps.googlemaps.bgLayer(o,t);break;case\"openlayers\":r=nlmaps.openlayers.bgLayer(t)}return r}function createOverlayLayer(e,o,t){var r=void 0;switch(e){case\"leaflet\":r=nlmaps.leaflet.overlayLayer(t);break;case\"googlemaps\":r=nlmaps.googlemaps.overlayLayer(o,t);break;case\"openlayers\":r=nlmaps.openlayers.overlayLayer(t)}return r}function createMarkerLayer(e,o,t){var r=void 0;switch(e){case\"leaflet\":r=nlmaps.leaflet.markerLayer(t);break;case\"googlemaps\":r=nlmaps.googlemaps.markerLayer(t);break;case\"openlayers\":r=nlmaps.openlayers.markerLayer(t)}return r}function getMapCenter$3(e,o){var t=void 0;switch(e){case\"leaflet\":t=getMapCenter(o);break;case\"googlemaps\":t=getMapCenter$2(o);break;case\"openlayers\":t=getMapCenter$1(o)}return t}function mergeOpts(e,o){return _extends({},e,o)}function addGeoLocControlToMap(e,o,t){var r=void 0;switch(e){case\"leaflet\":nlmaps[e].geoLocatorControl(o).addTo(t);break;case\"googlemaps\":r=nlmaps[e].geoLocatorControl(o,t),t.controls[google.maps.ControlPosition.TOP_RIGHT].push(r);break;case\"openlayers\":r=nlmaps[e].geoLocatorControl(o,t),t.addControl(r)}}function addGeocoderControlToMap(e,o){nlmaps[e].geocoderControl(o,nlmaps)}var emitonoff=createCommonjsModule(function(e){e.exports=function(e){return e||(e={}),e._subs=[],e._paused=!1,e._pending=[],e.on=function(o,t){e._subs[o]=e._subs[o]||[],e._subs[o].push(t)},e.off=function(o,t){if(e._subs[o])for(var r in e._subs[o])if(e._subs[o][r]===t){e._subs[o].splice(r);break}},e.emit=function(o){if(e._subs[o]){var t=Array.prototype.slice.call(arguments,1);if(e._paused)return e._pending[o]=e._pending[o]||[],void e._pending[o].push(t);for(var r in e._subs[o])e._subs[o][r].apply(e,t)}},e.pause=function(){e._paused=!0},e.resume=function(){e._paused=!1;for(var o in e._pending)for(var t=0;t<e._pending[o].length;t++)e.emit(o,e._pending[o][t])},e}}),config={version:.2,basemaps:{defaults:{attribution:\"Kaartgegevens CC-BY-4.0 Gemeente Amsterdam\",minZoom:12,maxZoom:21,type:\"tms\",format:\"png\",url:\"https://t1.data.amsterdam.nl\"},layers:[{name:\"standaard\",layerName:\"topo_wm\"},{name:\"zwartwit\",layerName:\"topo_wm_zw\"},{name:\"licht\",layerName:\"topo_wm_light\"},{name:\"donker\",layerName:\"topo_wm\"}]},wms:{defaults:{url:\"https://map.data.amsterdam.nl/maps\",version:\"1.1.0\",transparent:!0,format:\"image/png\",minZoom:0,maxZoom:24,styleName:\"\"},layers:[{name:\"tram\",layerName:\"trm\",url:\"https://map.data.amsterdam.nl/maps/trm?\"}]},geocoder:{suggestUrl:\"https://api.pdok.nl/bzk/locatieserver/search/v3_1/suggest?fq=gemeentenaam:amsterdam&fq=type:adres&\",lookupUrl:\"https://api.pdok.nl/bzk/locatieserver/search/v3_1/lookup?fq=gemeentenaam:amsterdam&fq=type:adres&\",placeholder:\"Kies adres...\"},featureQuery:{baseUrl:\"https://api.data.amsterdam.nl/bag/v1.1/nummeraanduiding/?format=json&locatie=\"},marker:{url:\"/dist/images/svg/marker.svg\",iconSize:[40,40],iconAnchor:[20,39]},map:{style:\"standaard\",center:{latitude:52.37,longitude:4.8952},zoom:14,attribution:!0,extent:[52.25168,4.64034,52.50536,5.10737],zoomposition:\"bottomright\"},classnames:{geocoderContainer:[\"embed-search\"],geocoderSearch:[\"embed-search__form\"],geocoderButton:[\"primary\",\"action\",\"embed-search__button\"],geocoderResultList:[\"embed-search__auto-suggest\"],geocoderResultItem:[\"embed-search__auto-suggest__item\"],geocoderResultSelected:[\"embed-search__auto-suggest__item--active\"]}},_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_extends=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},CONFIG={};CONFIG.BASE_DEFAULTS={crs:\"EPSG:3857\",attr:\"\",minZoom:0,maxZoom:19,type:\"wmts\",format:\"png\",url:\"\"},CONFIG.WMS_DEFAULTS={url:\"\",version:\"1.1.1\",transparent:!0,format:\"image/png\",minZoom:0,maxZoom:24,styleName:\"\"},CONFIG.BASEMAP_PROVIDERS={},CONFIG.WMS_PROVIDERS={},CONFIG.GEOCODER={},CONFIG.MAP={zoomposition:\"bottomleft\"},CONFIG.MARKER={},CONFIG.CLASSNAMES={geocoderContainer:[\"nlmaps-geocoder-control-container\"],geocoderSearch:[\"nlmaps-geocoder-control-search\"],geocoderButton:[\"nlmaps-geocoder-control-button\"],geocoderResultList:[\"nlmaps-geocoder-result-list\"],geocoderResultItem:[\"nlmaps-geocoder-result-item\"]},.2!==config.version&&err(\"unsupported config version\"),void 0!==config.featureQuery&&parseFeatureQuery(config.featureQuery.baseUrl),void 0!==config.map&&parseMap(config.map),parseBase(config.basemaps),void 0!==config.wms&&parseWMS(config.wms),void 0!==config.geocoder&&parseGeocoder(config.geocoder),void 0!==config.marker&&parseMarker(config.marker),void 0!==config.classnames&&parseClasses(config.classnames);var geocoder=CONFIG.GEOCODER;geocoder.resultList=[],geocoder.selectedResult=-1,geocoder.doSuggestRequest=function(e){return httpGetAsync(this.suggestUrl+\"q=\"+encodeURIComponent(e))},geocoder.doLookupRequest=function(e){return httpGetAsync(this.lookupUrl+\"id=\"+encodeURIComponent(e)).then(function(e){var o=e.response.docs[0];return o.centroide_ll=wktPointToGeoJson(o.centroide_ll),o.centroide_rd=wktPointToGeoJson(o.centroide_rd),o})},geocoder.createControl=function(e,o,t){var r=this;this.zoomTo=e,this.map=o,this.nlmaps=t;var n=document.createElement(\"div\"),a=document.createElement(\"form\"),s=document.createElement(\"input\"),i=document.createElement(\"button\"),l=document.createElement(\"div\");return parseClasses$1(n,CONFIG.CLASSNAMES.geocoderContainer),parseClasses$1(a,CONFIG.CLASSNAMES.geocoderSearch),n.addEventListener(\"click\",function(e){return e.stopPropagation()}),n.addEventListener(\"dblclick\",function(e){return e.stopPropagation()}),s.id=\"nlmaps-geocoder-control-input\",s.placeholder=geocoder.placeholder,s.setAttribute(\"aria-label\",geocoder.placeholder),s.setAttribute(\"type\",\"text\"),s.setAttribute(\"autocapitalize\",\"off\"),s.setAttribute(\"autocomplete\",\"off\"),s.setAttribute(\"autocorrect\",\"off\"),s.setAttribute(\"spellcheck\",\"false\"),s.addEventListener(\"keydown\",function(e){var o=r.resultList;r.resultList.length>0&&(\"ArrowDown\"!==e.code&&40!==e.keyCode||(r.selectedResult<r.resultList.length-1&&r.selectedResult++,r.showLookupResult(o[r.selectedResult])),\"ArrowUp\"!==e.code&&38!==e.keyCode||(r.selectedResult>0&&r.selectedResult--,r.showLookupResult(o[r.selectedResult])),\"Escape\"===e.code&&r.clearSuggestResults(!0))}),s.addEventListener(\"input\",function(e){r.suggest(e.target.value)}),s.addEventListener(\"focus\",function(e){r.suggest(e.target.value)}),i.setAttribute(\"type\",\"submit\"),a.addEventListener(\"submit\",function(e){e.preventDefault(),r.resultList.length>0&&r.lookup(r.resultList[r.selectedResult<0?0:r.selectedResult].id)}),i.setAttribute(\"aria-label\",geocoder.placeholder),parseClasses$1(i,CONFIG.CLASSNAMES.geocoderButton),l.id=\"nlmaps-geocoder-control-results\",parseClasses$1(l,CONFIG.CLASSNAMES.geocoderResultList),l.classList.add(\"nlmaps-hidden\"),n.appendChild(a),a.appendChild(s),a.appendChild(i),n.appendChild(l),n},geocoder.suggest=function(e){var o=this;if(e.length<3)return void this.clearSuggestResults();this.doSuggestRequest(e).then(function(e){o.resultList=e.response.docs,o.showSuggestResults(o.resultList)})},geocoder.lookup=function(e){var o=this;this.doLookupRequest(e).then(function(e){o.zoomTo(e.centroide_ll,o.map),o.nlmaps.emit(\"search-select\",{location:e.weergavenaam,latlng:e.centroide_ll,resultObject:e}),o.showLookupResult(e),o.clearSuggestResults()})},geocoder.clearSuggestResults=function(e){this.selectedResult=-1,e&&(document.getElementById(\"nlmaps-geocoder-control-input\").value=\"\"),document.getElementById(\"nlmaps-geocoder-control-results\").innerHTML=\"\",document.getElementById(\"nlmaps-geocoder-control-results\").classList.add(\"nlmaps-hidden\")},geocoder.showLookupResult=function(e){var o=document.getElementsByClassName(CONFIG.CLASSNAMES.geocoderResultItem);Array.prototype.map.call(o,function(e){return e.classList.remove(CONFIG.CLASSNAMES.geocoderResultSelected)});var t=document.getElementById(e.id);t&&t.classList.add(CONFIG.CLASSNAMES.geocoderResultSelected),document.getElementById(\"nlmaps-geocoder-control-input\").value=e.weergavenaam},geocoder.showSuggestResults=function(e){var o=this;if(this.clearSuggestResults(),e.length>0){var t=document.createElement(\"ul\");e.forEach(function(e){var r=document.createElement(\"li\"),n=document.createElement(\"a\");n.innerHTML=e.weergavenaam,n.id=e.id,parseClasses$1(n,CONFIG.CLASSNAMES.geocoderResultItem),n.setAttribute(\"href\",\"#\"),n.addEventListener(\"click\",function(e){e.preventDefault(),o.lookup(e.target.id)}),r.appendChild(n),t.appendChild(r)}),document.getElementById(\"nlmaps-geocoder-control-results\").classList.remove(\"nlmaps-hidden\"),document.getElementById(\"nlmaps-geocoder-control-results\").appendChild(t)}},\"undefined\"!=typeof L&&\"object\"===(\"undefined\"==typeof L?\"undefined\":_typeof(L))&&(L.NlmapsBgLayer=L.TileLayer.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"standaard\",o=arguments[1],t=getProvider(e),r=L.Util.extend({},o,{minZoom:t.minZoom,maxZoom:t.maxZoom,scheme:\"xyz\",attribution:t.attribution,subdomains:t.subdomains?t.subdomains:\"abc\",sa_id:e});L.TileLayer.prototype.initialize.call(this,t.url,r)}}),L.nlmapsBgLayer=function(e,o){return new L.NlmapsBgLayer(e,o)},L.NlmapsOverlayLayer=L.TileLayer.WMS.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",o=arguments[1],t=getWmsProvider(e,o),r=t.url;delete t.url;var n=L.Util.extend({},o,{layers:t.layerName,maxZoom:24,minZoom:1,styles:t.styleName,version:t.version,transparent:t.transparent,format:t.format});L.TileLayer.WMS.prototype.initialize.call(this,r,n)}}),L.nlmapsOverlayLayer=function(e,o){return new L.NlmapsOverlayLayer(e,o)},L.Control.GeoLocatorControl=L.Control.extend({options:{position:\"topright\"},initialize:function(e){for(var o in e)\"object\"===_typeof(this.options[o])?L.extend(this.options[o],e[o]):this.options[o]=e[o]},onAdd:function(e){function o(o){e.panTo([o.coords.latitude,o.coords.longitude])}var t=L.DomUtil.create(\"div\");t.id=\"nlmaps-geolocator-control\",t.className=\"nlmaps-geolocator-control\";var r=document.createElement(\"img\");return t.append(r),this.options.geolocator.isStarted()&&L.DomUtil.addClass(t,\"started\"),L.DomEvent.on(t,\"click\",function(){this.options.geolocator.start(),L.DomUtil.addClass(t,\"started\")},this),this.options.geolocator.on(\"position\",function(e){L.DomUtil.removeClass(t,\"started\"),L.DomUtil.addClass(t,\"has-position\"),o(e)}),t},onRemove:function(e){return e}}),L.geoLocatorControl=function(e){return new L.Control.GeoLocatorControl({geolocator:e})});var emitonoff$1=createCommonjsModule(function(e){e.exports=function(e){return e||(e={}),e._subs=[],e._paused=!1,e._pending=[],e.on=function(o,t){e._subs[o]=e._subs[o]||[],e._subs[o].push(t)},e.off=function(o,t){if(e._subs[o])for(var r in e._subs[o])if(e._subs[o][r]===t){e._subs[o].splice(r);break}},e.emit=function(o){if(e._subs[o]){var t=Array.prototype.slice.call(arguments,1);if(e._paused)return e._pending[o]=e._pending[o]||[],void e._pending[o].push(t);for(var r in e._subs[o])e._subs[o][r].apply(e,t)}},e.pause=function(){e._paused=!0},e.resume=function(){e._paused=!1;for(var o in e._pending)for(var t=0;t<e._pending[o].length;t++)e.emit(o,e._pending[o][t])},e}}),geoLocateDefaultOpts={follow:!1},GeoLocator=function(e){var o=_extends({},geoLocateDefaultOpts,e);return{start:function(){return o.started=!0,navigator.geolocation.getCurrentPosition(positionHandler.bind(this),positionErrorHandler.bind(this),{maximumAge:6e4}),this},stop:function(){return o.started=!1,this},isStarted:function(){return o.started},log:function(){return console.log(o),this}}},pointToQuery=function(e,o,t){return function(r){return function(n,a){0===n&&r(0,function(r,n){1===r?query(o(e,{x:n.latlng.lng,y:n.latlng.lat})).then(function(e){var o={queryResult:t(e),latlng:n.latlng};a(1,o)}):a(r,n)})}}},queryFeatures=function(e,o,t,r){var n=pointToQuery(o,t,r)(e);return n.subscribe=function(e){n(0,e)},n},markerStore={markers:[],removeMarker:function(e){var o=markerStore.markers.findIndex(function(o){return o===e});markerStore.markers[o].remove(),markerStore.markers.splice(o,1)},addMarker:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];markerStore.markers.push(e),o&&e.on(\"click\",function(){markerStore.removeMarker(e)})}},nlmaps={leaflet:{bgLayer:bgLayer,overlayLayer:overlayLayer,markerLayer:markerLayer,geocoderControl:geocoderControl,geoLocatorControl:geoLocatorControl},openlayers:{bgLayer:bgLayer$1,overlayLayer:overlayLayer$1,markerLayer:markerLayer$1,geocoderControl:geocoderControl$1,geoLocatorControl:geoLocatorControl$1},googlemaps:{bgLayer:bgLayer$2,overlayLayer:overlayLayer$2,markerLayer:markerLayer$2,geoLocatorControl:geoLocatorControl$2,geocoderControl:geocoderControl$2}};emitonoff(nlmaps);var geoLocateDefaultOpts$1={};nlmaps.lib=testWhichLib(),nlmaps.createMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=mergeOpts(CONFIG.MAP,e);try{if(\"too many libs\"==nlmaps.lib||\"too few libs\"===nlmaps.lib)throw{message:\"one and only one map library can be defined. Please Refer to the documentation to see which map libraries are supported.\"}}catch(e){console.error(e.message)}var t=initMap(nlmaps.lib,o),r=createBackgroundLayer(nlmaps.lib,t,o.style);if(addLayerToMap(nlmaps.lib,r,t,o.style),o.search&&addGeocoderControlToMap(nlmaps.lib,t),o.marker){var n=o.marker;\"boolean\"==typeof o.marker&&(n=getMapCenter$3(nlmaps.lib,t));var a=createMarkerLayer(nlmaps.lib,t,n);markerStore.addMarker(a,!0),addLayerToMap(nlmaps.lib,a,t)}if(o.overlay&&\"false\"!==o.overlay){var s=createOverlayLayer(nlmaps.lib,t,o.overlay);addLayerToMap(nlmaps.lib,s,t)}return void 0!==t&&t.on(\"click\",function(e){nlmaps.emit(\"mapclick\",e)}),t},nlmaps.geoLocate=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=geoLocator(mergeOpts(geoLocateDefaultOpts$1,o));addGeoLocControlToMap(nlmaps.lib,t,e)},nlmaps.clickProvider=function(e){mapPointerStyle(e);var o=function(o,t){0===o&&(e.on(\"click\",function(e){t(1,e)}),t(0,function(e,o){}))};return o.subscribe=function(e){o(0,e)},o},nlmaps.queryFeatures=queryFeatures,nlmaps.singleMarker=singleMarker,nlmaps.multiMarker=multiMarker;export{nlmaps};\n//# sourceMappingURL=nlmaps.es.js.map\n","export default function(defs) {\n  defs('EPSG:4326', \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees\");\n  defs('EPSG:4269', \"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees\");\n  defs('EPSG:3857', \"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs\");\n\n  defs.WGS84 = defs['EPSG:4326'];\n  defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857\n  defs.GOOGLE = defs['EPSG:3857'];\n  defs['EPSG:900913'] = defs['EPSG:3857'];\n  defs['EPSG:102113'] = defs['EPSG:3857'];\n}\n","export var PJD_3PARAM = 1;\nexport var PJD_7PARAM = 2;\nexport var PJD_GRIDSHIFT = 3;\nexport var PJD_WGS84 = 4; // WGS84 or equivalent\nexport var PJD_NODATUM = 5; // WGS84 or equivalent\nexport var SRS_WGS84_SEMIMAJOR = 6378137.0;  // only used in grid shift transforms\nexport var SRS_WGS84_SEMIMINOR = 6356752.314;  // only used in grid shift transforms\nexport var SRS_WGS84_ESQUARED = 0.0066943799901413165; // only used in grid shift transforms\nexport var SEC_TO_RAD = 4.84813681109535993589914102357e-6;\nexport var HALF_PI = Math.PI/2;\n// ellipoid pj_set_ell.c\nexport var SIXTH = 0.1666666666666666667;\n/* 1/6 */\nexport var RA4 = 0.04722222222222222222;\n/* 17/360 */\nexport var RA6 = 0.02215608465608465608;\nexport var EPSLN = 1.0e-10;\n// you'd think you could use Number.EPSILON above but that makes\n// Mollweide get into an infinate loop.\n\nexport var D2R = 0.01745329251994329577;\nexport var R2D = 57.29577951308232088;\nexport var FORTPI = Math.PI/4;\nexport var TWO_PI = Math.PI * 2;\n// SPI is slightly greater than Math.PI, so values that exceed the -180..180\n// degree range by a tiny amount don't get wrapped. This prevents points that\n// have drifted from their original location along the 180th meridian (due to\n// floating point error) from changing their sign.\nexport var SPI = 3.14159265359;\n","var exports = {};\nexport {exports as default};\n\nexports.greenwich = 0.0; //\"0dE\",\nexports.lisbon = -9.131906111111; //\"9d07'54.862\\\"W\",\nexports.paris = 2.337229166667; //\"2d20'14.025\\\"E\",\nexports.bogota = -74.080916666667; //\"74d04'51.3\\\"W\",\nexports.madrid = -3.687938888889; //\"3d41'16.58\\\"W\",\nexports.rome = 12.452333333333; //\"12d27'8.4\\\"E\",\nexports.bern = 7.439583333333; //\"7d26'22.5\\\"E\",\nexports.jakarta = 106.807719444444; //\"106d48'27.79\\\"E\",\nexports.ferro = -17.666666666667; //\"17d40'W\",\nexports.brussels = 4.367975; //\"4d22'4.71\\\"E\",\nexports.stockholm = 18.058277777778; //\"18d3'29.8\\\"E\",\nexports.athens = 23.7163375; //\"23d42'58.815\\\"E\",\nexports.oslo = 10.722916666667; //\"10d43'22.5\\\"E\"\n","export default {\n  ft: {to_meter: 0.3048},\n  'us-ft': {to_meter: 1200 / 3937}\n};\n","var ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nexport default function match(obj, key) {\n  if (obj[key]) {\n    return obj[key];\n  }\n  var keys = Object.keys(obj);\n  var lkey = key.toLowerCase().replace(ignoredChar, '');\n  var i = -1;\n  var testkey, processedKey;\n  while (++i < keys.length) {\n    testkey = keys[i];\n    processedKey = testkey.toLowerCase().replace(ignoredChar, '');\n    if (processedKey === lkey) {\n      return obj[testkey];\n    }\n  }\n}\n","import {D2R} from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\n\nexport default function(defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function(v) {\n    return v.trim();\n  }).filter(function(a) {\n    return a;\n  }).reduce(function(p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function(v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function(v) {\n      self.a = parseFloat(v);\n    },\n    b: function(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function() {\n      self.R_A = true;\n    },\n    zone: function(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function() {\n      self.utmSouth = true;\n    },\n    towgs84: function(v) {\n      self.datum_params = v.split(\",\").map(function(a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function(v) {\n      self.units = v;\n      var unit = match(units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      }\n      else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function() {\n      self.approx = true;\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      }\n      else {\n        self[paramOutname] = paramVal;\n      }\n    }\n    else {\n      self[paramName] = paramVal;\n    }\n  }\n  if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}\n","export default parseString;\n\nvar NEUTRAL = 1;\nvar KEYWORD = 2;\nvar NUMBER = 3;\nvar QUOTED = 4;\nvar AFTERQUOTE = 5;\nvar ENDED = -1;\nvar whitespace = /\\s/;\nvar latin = /[A-Za-z]/;\nvar keyword = /[A-Za-z84_]/;\nvar endThings = /[,\\]]/;\nvar digets = /[\\d\\.E\\-\\+]/;\n// const ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nfunction Parser(text) {\n  if (typeof text !== 'string') {\n    throw new Error('not a string');\n  }\n  this.text = text.trim();\n  this.level = 0;\n  this.place = 0;\n  this.root = null;\n  this.stack = [];\n  this.currentObject = null;\n  this.state = NEUTRAL;\n}\nParser.prototype.readCharicter = function() {\n  var char = this.text[this.place++];\n  if (this.state !== QUOTED) {\n    while (whitespace.test(char)) {\n      if (this.place >= this.text.length) {\n        return;\n      }\n      char = this.text[this.place++];\n    }\n  }\n  switch (this.state) {\n    case NEUTRAL:\n      return this.neutral(char);\n    case KEYWORD:\n      return this.keyword(char)\n    case QUOTED:\n      return this.quoted(char);\n    case AFTERQUOTE:\n      return this.afterquote(char);\n    case NUMBER:\n      return this.number(char);\n    case ENDED:\n      return;\n  }\n};\nParser.prototype.afterquote = function(char) {\n  if (char === '\"') {\n    this.word += '\"';\n    this.state = QUOTED;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = this.word.trim();\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in afterquote yet, index ' + this.place);\n};\nParser.prototype.afterItem = function(char) {\n  if (char === ',') {\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n    }\n    this.word = null;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (char === ']') {\n    this.level--;\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n      this.word = null;\n    }\n    this.state = NEUTRAL;\n    this.currentObject = this.stack.pop();\n    if (!this.currentObject) {\n      this.state = ENDED;\n    }\n\n    return;\n  }\n};\nParser.prototype.number = function(char) {\n  if (digets.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = parseFloat(this.word);\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in number yet, index ' + this.place);\n};\nParser.prototype.quoted = function(char) {\n  if (char === '\"') {\n    this.state = AFTERQUOTE;\n    return;\n  }\n  this.word += char;\n  return;\n};\nParser.prototype.keyword = function(char) {\n  if (keyword.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (char === '[') {\n    var newObjects = [];\n    newObjects.push(this.word);\n    this.level++;\n    if (this.root === null) {\n      this.root = newObjects;\n    } else {\n      this.currentObject.push(newObjects);\n    }\n    this.stack.push(this.currentObject);\n    this.currentObject = newObjects;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in keyword yet, index ' + this.place);\n};\nParser.prototype.neutral = function(char) {\n  if (latin.test(char)) {\n    this.word = char;\n    this.state = KEYWORD;\n    return;\n  }\n  if (char === '\"') {\n    this.word = '';\n    this.state = QUOTED;\n    return;\n  }\n  if (digets.test(char)) {\n    this.word = char;\n    this.state = NUMBER;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in neutral yet, index ' + this.place);\n};\nParser.prototype.output = function() {\n  while (this.place < this.text.length) {\n    this.readCharicter();\n  }\n  if (this.state === ENDED) {\n    return this.root;\n  }\n  throw new Error('unable to parse string \"' +this.text + '\". State is ' + this.state);\n};\n\nfunction parseString(txt) {\n  var parser = new Parser(txt);\n  return parser.output();\n}\n","\n\nfunction mapit(obj, key, value) {\n  if (Array.isArray(key)) {\n    value.unshift(key);\n    key = null;\n  }\n  var thing = key ? {} : obj;\n\n  var out = value.reduce(function(newObj, item) {\n    sExpr(item, newObj);\n    return newObj\n  }, thing);\n  if (key) {\n    obj[key] = out;\n  }\n}\n\nexport function sExpr(v, obj) {\n  if (!Array.isArray(v)) {\n    obj[v] = true;\n    return;\n  }\n  var key = v.shift();\n  if (key === 'PARAMETER') {\n    key = v.shift();\n  }\n  if (v.length === 1) {\n    if (Array.isArray(v[0])) {\n      obj[key] = {};\n      sExpr(v[0], obj[key]);\n      return;\n    }\n    obj[key] = v[0];\n    return;\n  }\n  if (!v.length) {\n    obj[key] = true;\n    return;\n  }\n  if (key === 'TOWGS84') {\n    obj[key] = v;\n    return;\n  }\n  if (key === 'AXIS') {\n    if (!(key in obj)) {\n      obj[key] = [];\n    }\n    obj[key].push(v);\n    return;\n  }\n  if (!Array.isArray(key)) {\n    obj[key] = {};\n  }\n\n  var i;\n  switch (key) {\n    case 'UNIT':\n    case 'PRIMEM':\n    case 'VERT_DATUM':\n      obj[key] = {\n        name: v[0].toLowerCase(),\n        convert: v[1]\n      };\n      if (v.length === 3) {\n        sExpr(v[2], obj[key]);\n      }\n      return;\n    case 'SPHEROID':\n    case 'ELLIPSOID':\n      obj[key] = {\n        name: v[0],\n        a: v[1],\n        rf: v[2]\n      };\n      if (v.length === 4) {\n        sExpr(v[3], obj[key]);\n      }\n      return;\n    case 'PROJECTEDCRS':\n    case 'PROJCRS':\n    case 'GEOGCS':\n    case 'GEOCCS':\n    case 'PROJCS':\n    case 'LOCAL_CS':\n    case 'GEODCRS':\n    case 'GEODETICCRS':\n    case 'GEODETICDATUM':\n    case 'EDATUM':\n    case 'ENGINEERINGDATUM':\n    case 'VERT_CS':\n    case 'VERTCRS':\n    case 'VERTICALCRS':\n    case 'COMPD_CS':\n    case 'COMPOUNDCRS':\n    case 'ENGINEERINGCRS':\n    case 'ENGCRS':\n    case 'FITTED_CS':\n    case 'LOCAL_DATUM':\n    case 'DATUM':\n      v[0] = ['name', v[0]];\n      mapit(obj, key, v);\n      return;\n    default:\n      i = -1;\n      while (++i < v.length) {\n        if (!Array.isArray(v[i])) {\n          return sExpr(v, obj[key]);\n        }\n      }\n      return mapit(obj, key, v);\n  }\n}\n","var D2R = 0.01745329251994329577;\nimport parser from './parser';\nimport {sExpr} from './process';\n\n\n\nfunction rename(obj, params) {\n  var outName = params[0];\n  var inName = params[1];\n  if (!(outName in obj) && (inName in obj)) {\n    obj[outName] = obj[inName];\n    if (params.length === 3) {\n      obj[outName] = params[2](obj[outName]);\n    }\n  }\n}\n\nfunction d2r(input) {\n  return input * D2R;\n}\n\nfunction cleanWKT(wkt) {\n  if (wkt.type === 'GEOGCS') {\n    wkt.projName = 'longlat';\n  } else if (wkt.type === 'LOCAL_CS') {\n    wkt.projName = 'identity';\n    wkt.local = true;\n  } else {\n    if (typeof wkt.PROJECTION === 'object') {\n      wkt.projName = Object.keys(wkt.PROJECTION)[0];\n    } else {\n      wkt.projName = wkt.PROJECTION;\n    }\n  }\n  if (wkt.AXIS) {\n    var axisOrder = '';\n    for (var i = 0, ii = wkt.AXIS.length; i < ii; ++i) {\n      var axis = [wkt.AXIS[i][0].toLowerCase(), wkt.AXIS[i][1].toLowerCase()];\n      if (axis[0].indexOf('north') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'north')) {\n        axisOrder += 'n';\n      } else if (axis[0].indexOf('south') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'south')) {\n        axisOrder += 's';\n      } else if (axis[0].indexOf('east') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'east')) {\n        axisOrder += 'e';\n      } else if (axis[0].indexOf('west') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'west')) {\n        axisOrder += 'w';\n      }\n    }\n    if (axisOrder.length === 2) {\n      axisOrder += 'u';\n    }\n    if (axisOrder.length === 3) {\n      wkt.axis = axisOrder;\n    }\n  }\n  if (wkt.UNIT) {\n    wkt.units = wkt.UNIT.name.toLowerCase();\n    if (wkt.units === 'metre') {\n      wkt.units = 'meter';\n    }\n    if (wkt.UNIT.convert) {\n      if (wkt.type === 'GEOGCS') {\n        if (wkt.DATUM && wkt.DATUM.SPHEROID) {\n          wkt.to_meter = wkt.UNIT.convert*wkt.DATUM.SPHEROID.a;\n        }\n      } else {\n        wkt.to_meter = wkt.UNIT.convert;\n      }\n    }\n  }\n  var geogcs = wkt.GEOGCS;\n  if (wkt.type === 'GEOGCS') {\n    geogcs = wkt;\n  }\n  if (geogcs) {\n    //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){\n    //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;\n    //}\n    if (geogcs.DATUM) {\n      wkt.datumCode = geogcs.DATUM.name.toLowerCase();\n    } else {\n      wkt.datumCode = geogcs.name.toLowerCase();\n    }\n    if (wkt.datumCode.slice(0, 2) === 'd_') {\n      wkt.datumCode = wkt.datumCode.slice(2);\n    }\n    if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {\n      wkt.datumCode = 'nzgd49';\n    }\n    if (wkt.datumCode === 'wgs_1984' || wkt.datumCode === 'world_geodetic_system_1984') {\n      if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {\n        wkt.sphere = true;\n      }\n      wkt.datumCode = 'wgs84';\n    }\n    if (wkt.datumCode.slice(-6) === '_ferro') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 6);\n    }\n    if (wkt.datumCode.slice(-8) === '_jakarta') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 8);\n    }\n    if (~wkt.datumCode.indexOf('belge')) {\n      wkt.datumCode = 'rnb72';\n    }\n    if (geogcs.DATUM && geogcs.DATUM.SPHEROID) {\n      wkt.ellps = geogcs.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\\_18/, 'clrk');\n      if (wkt.ellps.toLowerCase().slice(0, 13) === 'international') {\n        wkt.ellps = 'intl';\n      }\n\n      wkt.a = geogcs.DATUM.SPHEROID.a;\n      wkt.rf = parseFloat(geogcs.DATUM.SPHEROID.rf, 10);\n    }\n\n    if (geogcs.DATUM && geogcs.DATUM.TOWGS84) {\n      wkt.datum_params = geogcs.DATUM.TOWGS84;\n    }\n    if (~wkt.datumCode.indexOf('osgb_1936')) {\n      wkt.datumCode = 'osgb36';\n    }\n    if (~wkt.datumCode.indexOf('osni_1952')) {\n      wkt.datumCode = 'osni52';\n    }\n    if (~wkt.datumCode.indexOf('tm65')\n      || ~wkt.datumCode.indexOf('geodetic_datum_of_1965')) {\n      wkt.datumCode = 'ire65';\n    }\n    if (wkt.datumCode === 'ch1903+') {\n      wkt.datumCode = 'ch1903';\n    }\n    if (~wkt.datumCode.indexOf('israel')) {\n      wkt.datumCode = 'isr93';\n    }\n  }\n  if (wkt.b && !isFinite(wkt.b)) {\n    wkt.b = wkt.a;\n  }\n\n  function toMeter(input) {\n    var ratio = wkt.to_meter || 1;\n    return input * ratio;\n  }\n  var renamer = function(a) {\n    return rename(wkt, a);\n  };\n  var list = [\n    ['standard_parallel_1', 'Standard_Parallel_1'],\n    ['standard_parallel_1', 'Latitude of 1st standard parallel'],\n    ['standard_parallel_2', 'Standard_Parallel_2'],\n    ['standard_parallel_2', 'Latitude of 2nd standard parallel'],\n    ['false_easting', 'False_Easting'],\n    ['false_easting', 'False easting'],\n    ['false-easting', 'Easting at false origin'],\n    ['false_northing', 'False_Northing'],\n    ['false_northing', 'False northing'],\n    ['false_northing', 'Northing at false origin'],\n    ['central_meridian', 'Central_Meridian'],\n    ['central_meridian', 'Longitude of natural origin'],\n    ['central_meridian', 'Longitude of false origin'],\n    ['latitude_of_origin', 'Latitude_Of_Origin'],\n    ['latitude_of_origin', 'Central_Parallel'],\n    ['latitude_of_origin', 'Latitude of natural origin'],\n    ['latitude_of_origin', 'Latitude of false origin'],\n    ['scale_factor', 'Scale_Factor'],\n    ['k0', 'scale_factor'],\n    ['latitude_of_center', 'Latitude_Of_Center'],\n    ['latitude_of_center', 'Latitude_of_center'],\n    ['lat0', 'latitude_of_center', d2r],\n    ['longitude_of_center', 'Longitude_Of_Center'],\n    ['longitude_of_center', 'Longitude_of_center'],\n    ['longc', 'longitude_of_center', d2r],\n    ['x0', 'false_easting', toMeter],\n    ['y0', 'false_northing', toMeter],\n    ['long0', 'central_meridian', d2r],\n    ['lat0', 'latitude_of_origin', d2r],\n    ['lat0', 'standard_parallel_1', d2r],\n    ['lat1', 'standard_parallel_1', d2r],\n    ['lat2', 'standard_parallel_2', d2r],\n    ['azimuth', 'Azimuth'],\n    ['alpha', 'azimuth', d2r],\n    ['srsCode', 'name']\n  ];\n  list.forEach(renamer);\n  if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === 'Lambert_Azimuthal_Equal_Area')) {\n    wkt.long0 = wkt.longc;\n  }\n  if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {\n    wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);\n    wkt.lat_ts = wkt.lat1;\n  } else if (!wkt.lat_ts && wkt.lat0 && wkt.projName === 'Polar_Stereographic') {\n    wkt.lat_ts = wkt.lat0;\n    wkt.lat0 = d2r(wkt.lat0 > 0 ? 90 : -90);\n  }\n}\nexport default function(wkt) {\n  var lisp = parser(wkt);\n  var type = lisp.shift();\n  var name = lisp.shift();\n  lisp.unshift(['name', name]);\n  lisp.unshift(['type', type]);\n  var obj = {};\n  sExpr(lisp, obj);\n  cleanWKT(obj);\n  return obj;\n}\n","import globals from './global';\nimport parseProj from './projString';\nimport wkt from 'wkt-parser';\n\nfunction defs(name) {\n  /*global console*/\n  var that = this;\n  if (arguments.length === 2) {\n    var def = arguments[1];\n    if (typeof def === 'string') {\n      if (def.charAt(0) === '+') {\n        defs[name] = parseProj(arguments[1]);\n      }\n      else {\n        defs[name] = wkt(arguments[1]);\n      }\n    } else {\n      defs[name] = def;\n    }\n  }\n  else if (arguments.length === 1) {\n    if (Array.isArray(name)) {\n      return name.map(function(v) {\n        if (Array.isArray(v)) {\n          defs.apply(that, v);\n        }\n        else {\n          defs(v);\n        }\n      });\n    }\n    else if (typeof name === 'string') {\n      if (name in defs) {\n        return defs[name];\n      }\n    }\n    else if ('EPSG' in name) {\n      defs['EPSG:' + name.EPSG] = name;\n    }\n    else if ('ESRI' in name) {\n      defs['ESRI:' + name.ESRI] = name;\n    }\n    else if ('IAU2000' in name) {\n      defs['IAU2000:' + name.IAU2000] = name;\n    }\n    else {\n      console.log(name);\n    }\n    return;\n  }\n\n\n}\nglobals(defs);\nexport default defs;\n","import defs from './defs';\nimport wkt from 'wkt-parser';\nimport projStr from './projString';\nimport match from './match';\nfunction testObj(code){\n  return typeof code === 'string';\n}\nfunction testDef(code){\n  return code in defs;\n}\nvar codeWords = ['PROJECTEDCRS', 'PROJCRS', 'GEOGCS','GEOCCS','PROJCS','LOCAL_CS', 'GEODCRS', 'GEODETICCRS', 'GEODETICDATUM', 'ENGCRS', 'ENGINEERINGCRS'];\nfunction testWKT(code){\n  return codeWords.some(function (word) {\n    return code.indexOf(word) > -1;\n  });\n}\nvar codes = ['3857', '900913', '3785', '102113'];\nfunction checkMercator(item) {\n  var auth = match(item, 'authority');\n  if (!auth) {\n    return;\n  }\n  var code = match(auth, 'epsg');\n  return code && codes.indexOf(code) > -1;\n}\nfunction checkProjStr(item) {\n  var ext = match(item, 'extension');\n  if (!ext) {\n    return;\n  }\n  return match(ext, 'proj4');\n}\nfunction testProj(code){\n  return code[0] === '+';\n}\nfunction parse(code){\n  if (testObj(code)) {\n    //check to see if this is a WKT string\n    if (testDef(code)) {\n      return defs[code];\n    }\n    if (testWKT(code)) {\n      var out = wkt(code);\n      // test of spetial case, due to this being a very common and often malformed\n      if (checkMercator(out)) {\n        return defs['EPSG:3857'];\n      }\n      var maybeProjStr = checkProjStr(out);\n      if (maybeProjStr) {\n        return projStr(maybeProjStr);\n      }\n      return out;\n    }\n    if (testProj(code)) {\n      return projStr(code);\n    }\n  }else{\n    return code;\n  }\n}\n\nexport default parse;\n","export default function(destination, source) {\n  destination = destination || {};\n  var value, property;\n  if (!source) {\n    return destination;\n  }\n  for (property in source) {\n    value = source[property];\n    if (value !== undefined) {\n      destination[property] = value;\n    }\n  }\n  return destination;\n}\n","export default function(eccent, sinphi, cosphi) {\n  var con = eccent * sinphi;\n  return cosphi / (Math.sqrt(1 - con * con));\n}","export default function(x) {\n  return x<0 ? -1 : 1;\n}","\nimport {TWO_PI, SPI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, phi, sinphi) {\n  var con = eccent * sinphi;\n  var com = 0.5 * eccent;\n  con = Math.pow(((1 - con) / (1 + con)), com);\n  return (Math.tan(0.5 * (HALF_PI - phi)) / con);\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, ts) {\n  var eccnth = 0.5 * eccent;\n  var con, dphi;\n  var phi = HALF_PI - 2 * Math.atan(ts);\n  for (var i = 0; i <= 15; i++) {\n    con = eccent * Math.sin(phi);\n    dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n  //console.log(\"phi2z has NoConvergence\");\n  return -9999;\n}\n","import msfnz from '../common/msfnz';\n\nimport adjust_lon from '../common/adjust_lon';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport {FORTPI, R2D, EPSLN, HALF_PI} from '../constants/values';\nexport function init() {\n  var con = this.b / this.a;\n  this.es = 1 - con * con;\n  if(!('x0' in this)){\n    this.x0 = 0;\n  }\n  if(!('y0' in this)){\n    this.y0 = 0;\n  }\n  this.e = Math.sqrt(this.es);\n  if (this.lat_ts) {\n    if (this.sphere) {\n      this.k0 = Math.cos(this.lat_ts);\n    }\n    else {\n      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n    }\n  }\n  else {\n    if (!this.k0) {\n      if (this.k) {\n        this.k0 = this.k;\n      }\n      else {\n        this.k0 = 1;\n      }\n    }\n  }\n}\n\n/* Mercator forward equations--mapping lat,long to x,y\n  --------------------------------------------------*/\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  // convert to radians\n  if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {\n    return null;\n  }\n\n  var x, y;\n  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n    return null;\n  }\n  else {\n    if (this.sphere) {\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));\n    }\n    else {\n      var sinphi = Math.sin(lat);\n      var ts = tsfnz(this.e, lat, sinphi);\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 - this.a * this.k0 * Math.log(ts);\n    }\n    p.x = x;\n    p.y = y;\n    return p;\n  }\n}\n\n/* Mercator inverse equations--mapping x,y to lat/long\n  --------------------------------------------------*/\nexport function inverse(p) {\n\n  var x = p.x - this.x0;\n  var y = p.y - this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));\n  }\n  else {\n    var ts = Math.exp(-y / (this.a * this.k0));\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  lon = adjust_lon(this.long0 + x / (this.a * this.k0));\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mercator\", \"Popular Visualisation Pseudo Mercator\", \"Mercator_1SP\", \"Mercator_Auxiliary_Sphere\", \"merc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export function init() {\n  //no-op for longlat\n}\n\nfunction identity(pt) {\n  return pt;\n}\nexport {identity as forward};\nexport {identity as inverse};\nexport var names = [\"longlat\", \"identity\"];\nexport default {\n  init: init,\n  forward: identity,\n  inverse: identity,\n  names: names\n};\n","import merc from \"./projections/merc\";\nimport longlat from \"./projections/longlat\";\nvar projs = [merc, longlat];\nvar names = {};\nvar projStore = [];\n\nfunction add(proj, i) {\n  var len = projStore.length;\n  if (!proj.names) {\n    console.log(i);\n    return true;\n  }\n  projStore[len] = proj;\n  proj.names.forEach(function(n) {\n    names[n.toLowerCase()] = len;\n  });\n  return this;\n}\n\nexport {add};\n\nexport function get(name) {\n  if (!name) {\n    return false;\n  }\n  var n = name.toLowerCase();\n  if (typeof names[n] !== 'undefined' && projStore[names[n]]) {\n    return projStore[names[n]];\n  }\n}\n\nexport function start() {\n  projs.forEach(add);\n}\nexport default {\n  start: start,\n  add: add,\n  get: get\n};\n","var exports = {};\nexport {exports as default};\nexports.MERIT = {\n  a: 6378137.0,\n  rf: 298.257,\n  ellipseName: \"MERIT 1983\"\n};\n\nexports.SGS85 = {\n  a: 6378136.0,\n  rf: 298.257,\n  ellipseName: \"Soviet Geodetic System 85\"\n};\n\nexports.GRS80 = {\n  a: 6378137.0,\n  rf: 298.257222101,\n  ellipseName: \"GRS 1980(IUGG, 1980)\"\n};\n\nexports.IAU76 = {\n  a: 6378140.0,\n  rf: 298.257,\n  ellipseName: \"IAU 1976\"\n};\n\nexports.airy = {\n  a: 6377563.396,\n  b: 6356256.910,\n  ellipseName: \"Airy 1830\"\n};\n\nexports.APL4 = {\n  a: 6378137,\n  rf: 298.25,\n  ellipseName: \"Appl. Physics. 1965\"\n};\n\nexports.NWL9D = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"Naval Weapons Lab., 1965\"\n};\n\nexports.mod_airy = {\n  a: 6377340.189,\n  b: 6356034.446,\n  ellipseName: \"Modified Airy\"\n};\n\nexports.andrae = {\n  a: 6377104.43,\n  rf: 300.0,\n  ellipseName: \"Andrae 1876 (Den., Iclnd.)\"\n};\n\nexports.aust_SA = {\n  a: 6378160.0,\n  rf: 298.25,\n  ellipseName: \"Australian Natl & S. Amer. 1969\"\n};\n\nexports.GRS67 = {\n  a: 6378160.0,\n  rf: 298.2471674270,\n  ellipseName: \"GRS 67(IUGG 1967)\"\n};\n\nexports.bessel = {\n  a: 6377397.155,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841\"\n};\n\nexports.bess_nam = {\n  a: 6377483.865,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841 (Namibia)\"\n};\n\nexports.clrk66 = {\n  a: 6378206.4,\n  b: 6356583.8,\n  ellipseName: \"Clarke 1866\"\n};\n\nexports.clrk80 = {\n  a: 6378249.145,\n  rf: 293.4663,\n  ellipseName: \"Clarke 1880 mod.\"\n};\n\nexports.clrk80ign = {\n  a: 6378249.2,\n  b: 6356515,\n  rf: 293.4660213,\n  ellipseName: \"Clarke 1880 (IGN)\"\n};\n\nexports.clrk58 = {\n  a: 6378293.645208759,\n  rf: 294.2606763692654,\n  ellipseName: \"Clarke 1858\"\n};\n\nexports.CPM = {\n  a: 6375738.7,\n  rf: 334.29,\n  ellipseName: \"Comm. des Poids et Mesures 1799\"\n};\n\nexports.delmbr = {\n  a: 6376428.0,\n  rf: 311.5,\n  ellipseName: \"Delambre 1810 (Belgium)\"\n};\n\nexports.engelis = {\n  a: 6378136.05,\n  rf: 298.2566,\n  ellipseName: \"Engelis 1985\"\n};\n\nexports.evrst30 = {\n  a: 6377276.345,\n  rf: 300.8017,\n  ellipseName: \"Everest 1830\"\n};\n\nexports.evrst48 = {\n  a: 6377304.063,\n  rf: 300.8017,\n  ellipseName: \"Everest 1948\"\n};\n\nexports.evrst56 = {\n  a: 6377301.243,\n  rf: 300.8017,\n  ellipseName: \"Everest 1956\"\n};\n\nexports.evrst69 = {\n  a: 6377295.664,\n  rf: 300.8017,\n  ellipseName: \"Everest 1969\"\n};\n\nexports.evrstSS = {\n  a: 6377298.556,\n  rf: 300.8017,\n  ellipseName: \"Everest (Sabah & Sarawak)\"\n};\n\nexports.fschr60 = {\n  a: 6378166.0,\n  rf: 298.3,\n  ellipseName: \"Fischer (Mercury Datum) 1960\"\n};\n\nexports.fschr60m = {\n  a: 6378155.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1960\"\n};\n\nexports.fschr68 = {\n  a: 6378150.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1968\"\n};\n\nexports.helmert = {\n  a: 6378200.0,\n  rf: 298.3,\n  ellipseName: \"Helmert 1906\"\n};\n\nexports.hough = {\n  a: 6378270.0,\n  rf: 297.0,\n  ellipseName: \"Hough\"\n};\n\nexports.intl = {\n  a: 6378388.0,\n  rf: 297.0,\n  ellipseName: \"International 1909 (Hayford)\"\n};\n\nexports.kaula = {\n  a: 6378163.0,\n  rf: 298.24,\n  ellipseName: \"Kaula 1961\"\n};\n\nexports.lerch = {\n  a: 6378139.0,\n  rf: 298.257,\n  ellipseName: \"Lerch 1979\"\n};\n\nexports.mprts = {\n  a: 6397300.0,\n  rf: 191.0,\n  ellipseName: \"Maupertius 1738\"\n};\n\nexports.new_intl = {\n  a: 6378157.5,\n  b: 6356772.2,\n  ellipseName: \"New International 1967\"\n};\n\nexports.plessis = {\n  a: 6376523.0,\n  rf: 6355863.0,\n  ellipseName: \"Plessis 1817 (France)\"\n};\n\nexports.krass = {\n  a: 6378245.0,\n  rf: 298.3,\n  ellipseName: \"Krassovsky, 1942\"\n};\n\nexports.SEasia = {\n  a: 6378155.0,\n  b: 6356773.3205,\n  ellipseName: \"Southeast Asia\"\n};\n\nexports.walbeck = {\n  a: 6376896.0,\n  b: 6355834.8467,\n  ellipseName: \"Walbeck\"\n};\n\nexports.WGS60 = {\n  a: 6378165.0,\n  rf: 298.3,\n  ellipseName: \"WGS 60\"\n};\n\nexports.WGS66 = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"WGS 66\"\n};\n\nexports.WGS7 = {\n  a: 6378135.0,\n  rf: 298.26,\n  ellipseName: \"WGS 72\"\n};\n\nexport var WGS84 = exports.WGS84 = {\n  a: 6378137.0,\n  rf: 298.257223563,\n  ellipseName: \"WGS 84\"\n};\n\nexports.sphere = {\n  a: 6370997.0,\n  b: 6370997.0,\n  ellipseName: \"Normal Sphere (r=6370997)\"\n};\n","import {SIXTH, RA4, RA6, EPSLN} from './constants/values';\nimport {default as Ellipsoid, WGS84} from './constants/Ellipsoid';\nimport match from './match';\n\nexport function eccentricity(a, b, rf, R_A) {\n  var a2 = a * a; // used in geocentric\n  var b2 = b * b; // used in geocentric\n  var es = (a2 - b2) / a2; // e ^ 2\n  var e = 0;\n  if (R_A) {\n    a *= 1 - es * (SIXTH + es * (RA4 + es * RA6));\n    a2 = a * a;\n    es = 0;\n  } else {\n    e = Math.sqrt(es); // eccentricity\n  }\n  var ep2 = (a2 - b2) / b2; // used in geocentric\n  return {\n    es: es,\n    e: e,\n    ep2: ep2\n  };\n}\nexport function sphere(a, b, rf, ellps, sphere) {\n  if (!a) { // do we have an ellipsoid?\n    var ellipse = match(Ellipsoid, ellps);\n    if (!ellipse) {\n      ellipse = WGS84;\n    }\n    a = ellipse.a;\n    b = ellipse.b;\n    rf = ellipse.rf;\n  }\n\n  if (rf && !b) {\n    b = (1.0 - 1.0 / rf) * a;\n  }\n  if (rf === 0 || Math.abs(a - b) < EPSLN) {\n    sphere = true;\n    b = a;\n  }\n  return {\n    a: a,\n    b: b,\n    rf: rf,\n    sphere: sphere\n  };\n}\n","var exports = {};\nexport {exports as default};\nexports.wgs84 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"WGS84\",\n  datumName: \"WGS84\"\n};\n\nexports.ch1903 = {\n  towgs84: \"674.374,15.056,405.346\",\n  ellipse: \"bessel\",\n  datumName: \"swiss\"\n};\n\nexports.ggrs87 = {\n  towgs84: \"-199.87,74.79,246.62\",\n  ellipse: \"GRS80\",\n  datumName: \"Greek_Geodetic_Reference_System_1987\"\n};\n\nexports.nad83 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"GRS80\",\n  datumName: \"North_American_Datum_1983\"\n};\n\nexports.nad27 = {\n  nadgrids: \"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat\",\n  ellipse: \"clrk66\",\n  datumName: \"North_American_Datum_1927\"\n};\n\nexports.potsdam = {\n  towgs84: \"598.1,73.7,418.2,0.202,0.045,-2.455,6.7\",\n  ellipse: \"bessel\",\n  datumName: \"Potsdam Rauenberg 1950 DHDN\"\n};\n\nexports.carthage = {\n  towgs84: \"-263.0,6.0,431.0\",\n  ellipse: \"clark80\",\n  datumName: \"Carthage 1934 Tunisia\"\n};\n\nexports.hermannskogel = {\n  towgs84: \"577.326,90.129,463.919,5.137,1.474,5.297,2.4232\",\n  ellipse: \"bessel\",\n  datumName: \"Hermannskogel\"\n};\n\nexports.militargeographische_institut = {\n  towgs84: \"577.326,90.129,463.919,5.137,1.474,5.297,2.4232\",\n  ellipse: \"bessel\",\n  datumName: \"Militar-Geographische Institut\"\n};\n\nexports.osni52 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"airy\",\n  datumName: \"Irish National\"\n};\n\nexports.ire65 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"mod_airy\",\n  datumName: \"Ireland 1965\"\n};\n\nexports.rassadiran = {\n  towgs84: \"-133.63,-157.5,-158.62\",\n  ellipse: \"intl\",\n  datumName: \"Rassadiran\"\n};\n\nexports.nzgd49 = {\n  towgs84: \"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993\",\n  ellipse: \"intl\",\n  datumName: \"New Zealand Geodetic Datum 1949\"\n};\n\nexports.osgb36 = {\n  towgs84: \"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894\",\n  ellipse: \"airy\",\n  datumName: \"Airy 1830\"\n};\n\nexports.s_jtsk = {\n  towgs84: \"589,76,480\",\n  ellipse: 'bessel',\n  datumName: 'S-JTSK (Ferro)'\n};\n\nexports.beduaram = {\n  towgs84: '-106,-87,188',\n  ellipse: 'clrk80',\n  datumName: 'Beduaram'\n};\n\nexports.gunung_segara = {\n  towgs84: '-403,684,41',\n  ellipse: 'bessel',\n  datumName: 'Gunung Segara Jakarta'\n};\n\nexports.rnb72 = {\n  towgs84: \"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1\",\n  ellipse: \"intl\",\n  datumName: \"Reseau National Belge 1972\"\n};\n","import {PJD_3PARAM, PJD_7PARAM, PJD_GRIDSHIFT, PJD_WGS84, PJD_NODATUM, SEC_TO_RAD} from './constants/values';\n\nfunction datum(datumCode, datum_params, a, b, es, ep2, nadgrids) {\n  var out = {};\n\n  if (datumCode === undefined || datumCode === 'none') {\n    out.datum_type = PJD_NODATUM;\n  } else {\n    out.datum_type = PJD_WGS84;\n  }\n\n  if (datum_params) {\n    out.datum_params = datum_params.map(parseFloat);\n    if (out.datum_params[0] !== 0 || out.datum_params[1] !== 0 || out.datum_params[2] !== 0) {\n      out.datum_type = PJD_3PARAM;\n    }\n    if (out.datum_params.length > 3) {\n      if (out.datum_params[3] !== 0 || out.datum_params[4] !== 0 || out.datum_params[5] !== 0 || out.datum_params[6] !== 0) {\n        out.datum_type = PJD_7PARAM;\n        out.datum_params[3] *= SEC_TO_RAD;\n        out.datum_params[4] *= SEC_TO_RAD;\n        out.datum_params[5] *= SEC_TO_RAD;\n        out.datum_params[6] = (out.datum_params[6] / 1000000.0) + 1.0;\n      }\n    }\n  }\n\n  if (nadgrids) {\n    out.datum_type = PJD_GRIDSHIFT;\n    out.grids = nadgrids;\n  }\n  out.a = a; //datum object also uses these values\n  out.b = b;\n  out.es = es;\n  out.ep2 = ep2;\n  return out;\n}\n\nexport default datum;\n","/**\n * Resources for details of NTv2 file formats:\n * - https://web.archive.org/web/20140127204822if_/http://www.mgs.gov.on.ca:80/stdprodconsume/groups/content/@mgs/@iandit/documents/resourcelist/stel02_047447.pdf\n * - http://mimaka.com/help/gs/html/004_NTV2%20Data%20Format.htm\n */\n\nvar loadedNadgrids = {};\n\n/**\n * Load a binary NTv2 file (.gsb) to a key that can be used in a proj string like +nadgrids=<key>. Pass the NTv2 file\n * as an ArrayBuffer.\n */\nexport default function nadgrid(key, data) {\n  var view = new DataView(data);\n  var isLittleEndian = detectLittleEndian(view);\n  var header = readHeader(view, isLittleEndian);\n  var subgrids = readSubgrids(view, header, isLittleEndian);\n  var nadgrid = {header: header, subgrids: subgrids};\n  loadedNadgrids[key] = nadgrid;\n  return nadgrid;\n}\n\n/**\n * Given a proj4 value for nadgrids, return an array of loaded grids\n */\nexport function getNadgrids(nadgrids) {\n  // Format details: http://proj.maptools.org/gen_parms.html\n  if (nadgrids === undefined) { return null; }\n  var grids = nadgrids.split(',');\n  return grids.map(parseNadgridString);\n}\n\nfunction parseNadgridString(value) {\n  if (value.length === 0) {\n    return null;\n  }\n  var optional = value[0] === '@';\n  if (optional) {\n    value = value.slice(1);\n  }\n  if (value === 'null') {\n    return {name: 'null', mandatory: !optional, grid: null, isNull: true};\n  }\n  return {\n    name: value,\n    mandatory: !optional,\n    grid: loadedNadgrids[value] || null,\n    isNull: false\n  };\n}\n\nfunction secondsToRadians(seconds) {\n  return (seconds / 3600) * Math.PI / 180;\n}\n\nfunction detectLittleEndian(view) {\n  var nFields = view.getInt32(8, false);\n  if (nFields === 11) {\n    return false;\n  }\n  nFields = view.getInt32(8, true);\n  if (nFields !== 11) {\n    console.warn('Failed to detect nadgrid endian-ness, defaulting to little-endian');\n  }\n  return true;\n}\n\nfunction readHeader(view, isLittleEndian) {\n  return {\n    nFields: view.getInt32(8, isLittleEndian),\n    nSubgridFields: view.getInt32(24, isLittleEndian),\n    nSubgrids: view.getInt32(40, isLittleEndian),\n    shiftType: decodeString(view, 56, 56 + 8).trim(),\n    fromSemiMajorAxis: view.getFloat64(120, isLittleEndian),\n    fromSemiMinorAxis: view.getFloat64(136, isLittleEndian),\n    toSemiMajorAxis: view.getFloat64(152, isLittleEndian),\n    toSemiMinorAxis: view.getFloat64(168, isLittleEndian),\n  };\n}\n\nfunction decodeString(view, start, end) {\n  return String.fromCharCode.apply(null, new Uint8Array(view.buffer.slice(start, end)));\n}\n\nfunction readSubgrids(view, header, isLittleEndian) {\n  var gridOffset = 176;\n  var grids = [];\n  for (var i = 0; i < header.nSubgrids; i++) {\n    var subHeader = readGridHeader(view, gridOffset, isLittleEndian);\n    var nodes = readGridNodes(view, gridOffset, subHeader, isLittleEndian);\n    var lngColumnCount = Math.round(\n      1 + (subHeader.upperLongitude - subHeader.lowerLongitude) / subHeader.longitudeInterval);\n    var latColumnCount = Math.round(\n      1 + (subHeader.upperLatitude - subHeader.lowerLatitude) / subHeader.latitudeInterval);\n    // Proj4 operates on radians whereas the coordinates are in seconds in the grid\n    grids.push({\n      ll: [secondsToRadians(subHeader.lowerLongitude), secondsToRadians(subHeader.lowerLatitude)],\n      del: [secondsToRadians(subHeader.longitudeInterval), secondsToRadians(subHeader.latitudeInterval)],\n      lim: [lngColumnCount, latColumnCount],\n      count: subHeader.gridNodeCount,\n      cvs: mapNodes(nodes)\n    });\n    gridOffset += 176 + subHeader.gridNodeCount * 16;\n  }\n  return grids;\n}\n\nfunction mapNodes(nodes) {\n  return nodes.map(function (r) {return [secondsToRadians(r.longitudeShift), secondsToRadians(r.latitudeShift)];});\n}\n\nfunction readGridHeader(view, offset, isLittleEndian) {\n  return {\n    name: decodeString(view, offset + 8, offset + 16).trim(),\n    parent: decodeString(view, offset + 24, offset + 24 + 8).trim(),\n    lowerLatitude: view.getFloat64(offset + 72, isLittleEndian),\n    upperLatitude: view.getFloat64(offset + 88, isLittleEndian),\n    lowerLongitude: view.getFloat64(offset + 104, isLittleEndian),\n    upperLongitude: view.getFloat64(offset + 120, isLittleEndian),\n    latitudeInterval: view.getFloat64(offset + 136, isLittleEndian),\n    longitudeInterval: view.getFloat64(offset + 152, isLittleEndian),\n    gridNodeCount: view.getInt32(offset + 168, isLittleEndian)\n  };\n}\n\nfunction readGridNodes(view, offset, gridHeader, isLittleEndian) {\n  var nodesOffset = offset + 176;\n  var gridRecordLength = 16;\n  var gridShiftRecords = [];\n  for (var i = 0; i < gridHeader.gridNodeCount; i++) {\n    var record = {\n      latitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength, isLittleEndian),\n      longitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength + 4, isLittleEndian),\n      latitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 8, isLittleEndian),\n      longitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 12, isLittleEndian),\n    };\n    gridShiftRecords.push(record);\n  }\n  return gridShiftRecords;\n}\n","import parseCode from './parseCode';\nimport extend from './extend';\nimport projections from './projections';\nimport {sphere as dc_sphere, eccentricity as dc_eccentricity} from './deriveConstants';\nimport Datum from './constants/Datum';\nimport datum from './datum';\nimport match from './match';\nimport {getNadgrids} from \"./nadgrid\";\n\nfunction Projection(srsCode,callback) {\n  if (!(this instanceof Projection)) {\n    return new Projection(srsCode);\n  }\n  callback = callback || function(error){\n    if(error){\n      throw error;\n    }\n  };\n  var json = parseCode(srsCode);\n  if(typeof json !== 'object'){\n    callback(srsCode);\n    return;\n  }\n  var ourProj = Projection.projections.get(json.projName);\n  if(!ourProj){\n    callback(srsCode);\n    return;\n  }\n  if (json.datumCode && json.datumCode !== 'none') {\n    var datumDef = match(Datum, json.datumCode);\n    if (datumDef) {\n      json.datum_params = json.datum_params || (datumDef.towgs84 ? datumDef.towgs84.split(',') : null);\n      json.ellps = datumDef.ellipse;\n      json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;\n    }\n  }\n  json.k0 = json.k0 || 1.0;\n  json.axis = json.axis || 'enu';\n  json.ellps = json.ellps || 'wgs84';\n  json.lat1 = json.lat1 || json.lat0; // Lambert_Conformal_Conic_1SP, for example, needs this\n\n  var sphere_ = dc_sphere(json.a, json.b, json.rf, json.ellps, json.sphere);\n  var ecc = dc_eccentricity(sphere_.a, sphere_.b, sphere_.rf, json.R_A);\n  var nadgrids = getNadgrids(json.nadgrids);\n  var datumObj = json.datum || datum(json.datumCode, json.datum_params, sphere_.a, sphere_.b, ecc.es, ecc.ep2,\n    nadgrids);\n\n  extend(this, json); // transfer everything over from the projection because we don't know what we'll need\n  extend(this, ourProj); // transfer all the methods from the projection\n\n  // copy the 4 things over we calculated in deriveConstants.sphere\n  this.a = sphere_.a;\n  this.b = sphere_.b;\n  this.rf = sphere_.rf;\n  this.sphere = sphere_.sphere;\n\n  // copy the 3 things we calculated in deriveConstants.eccentricity\n  this.es = ecc.es;\n  this.e = ecc.e;\n  this.ep2 = ecc.ep2;\n\n  // add in the datum object\n  this.datum = datumObj;\n\n  // init the projection\n  this.init();\n\n  // legecy callback from back in the day when it went to spatialreference.org\n  callback(null, this);\n\n}\nProjection.projections = projections;\nProjection.projections.start();\nexport default Projection;\n","'use strict';\nimport {PJD_3PARAM, PJD_7PARAM, HALF_PI} from './constants/values';\nexport function compareDatums(source, dest) {\n  if (source.datum_type !== dest.datum_type) {\n    return false; // false, datums are not equal\n  } else if (source.a !== dest.a || Math.abs(source.es - dest.es) > 0.000000000050) {\n    // the tolerance for es is to ensure that GRS80 and WGS84\n    // are considered identical\n    return false;\n  } else if (source.datum_type === PJD_3PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2]);\n  } else if (source.datum_type === PJD_7PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2] && source.datum_params[3] === dest.datum_params[3] && source.datum_params[4] === dest.datum_params[4] && source.datum_params[5] === dest.datum_params[5] && source.datum_params[6] === dest.datum_params[6]);\n  } else {\n    return true; // datums are equal\n  }\n} // cs_compare_datums()\n\n/*\n * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates\n * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),\n * according to the current ellipsoid parameters.\n *\n *    Latitude  : Geodetic latitude in radians                     (input)\n *    Longitude : Geodetic longitude in radians                    (input)\n *    Height    : Geodetic height, in meters                       (input)\n *    X         : Calculated Geocentric X coordinate, in meters    (output)\n *    Y         : Calculated Geocentric Y coordinate, in meters    (output)\n *    Z         : Calculated Geocentric Z coordinate, in meters    (output)\n *\n */\nexport function geodeticToGeocentric(p, es, a) {\n  var Longitude = p.x;\n  var Latitude = p.y;\n  var Height = p.z ? p.z : 0; //Z value not always supplied\n\n  var Rn; /*  Earth radius at location  */\n  var Sin_Lat; /*  Math.sin(Latitude)  */\n  var Sin2_Lat; /*  Square of Math.sin(Latitude)  */\n  var Cos_Lat; /*  Math.cos(Latitude)  */\n\n  /*\n   ** Don't blow up if Latitude is just a little out of the value\n   ** range as it may just be a rounding issue.  Also removed longitude\n   ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.\n   */\n  if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {\n    Latitude = -HALF_PI;\n  } else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {\n    Latitude = HALF_PI;\n  } else if (Latitude < -HALF_PI) {\n    /* Latitude out of range */\n    //..reportError('geocent:lat out of range:' + Latitude);\n    return { x: -Infinity, y: -Infinity, z: p.z };\n  } else if (Latitude > HALF_PI) {\n    /* Latitude out of range */\n    return { x: Infinity, y: Infinity, z: p.z };\n  }\n\n  if (Longitude > Math.PI) {\n    Longitude -= (2 * Math.PI);\n  }\n  Sin_Lat = Math.sin(Latitude);\n  Cos_Lat = Math.cos(Latitude);\n  Sin2_Lat = Sin_Lat * Sin_Lat;\n  Rn = a / (Math.sqrt(1.0e0 - es * Sin2_Lat));\n  return {\n    x: (Rn + Height) * Cos_Lat * Math.cos(Longitude),\n    y: (Rn + Height) * Cos_Lat * Math.sin(Longitude),\n    z: ((Rn * (1 - es)) + Height) * Sin_Lat\n  };\n} // cs_geodetic_to_geocentric()\n\nexport function geocentricToGeodetic(p, es, a, b) {\n  /* local defintions and variables */\n  /* end-criterium of loop, accuracy of sin(Latitude) */\n  var genau = 1e-12;\n  var genau2 = (genau * genau);\n  var maxiter = 30;\n\n  var P; /* distance between semi-minor axis and location */\n  var RR; /* distance between center and location */\n  var CT; /* sin of geocentric latitude */\n  var ST; /* cos of geocentric latitude */\n  var RX;\n  var RK;\n  var RN; /* Earth radius at location */\n  var CPHI0; /* cos of start or old geodetic latitude in iterations */\n  var SPHI0; /* sin of start or old geodetic latitude in iterations */\n  var CPHI; /* cos of searched geodetic latitude */\n  var SPHI; /* sin of searched geodetic latitude */\n  var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */\n  var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */\n\n  var X = p.x;\n  var Y = p.y;\n  var Z = p.z ? p.z : 0.0; //Z value not always supplied\n  var Longitude;\n  var Latitude;\n  var Height;\n\n  P = Math.sqrt(X * X + Y * Y);\n  RR = Math.sqrt(X * X + Y * Y + Z * Z);\n\n  /*      special cases for latitude and longitude */\n  if (P / a < genau) {\n\n    /*  special case, if P=0. (X=0., Y=0.) */\n    Longitude = 0.0;\n\n    /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis\n     *  of ellipsoid (=center of mass), Latitude becomes PI/2 */\n    if (RR / a < genau) {\n      Latitude = HALF_PI;\n      Height = -b;\n      return {\n        x: p.x,\n        y: p.y,\n        z: p.z\n      };\n    }\n  } else {\n    /*  ellipsoidal (geodetic) longitude\n     *  interval: -PI < Longitude <= +PI */\n    Longitude = Math.atan2(Y, X);\n  }\n\n  /* --------------------------------------------------------------\n   * Following iterative algorithm was developped by\n   * \"Institut for Erdmessung\", University of Hannover, July 1988.\n   * Internet: www.ife.uni-hannover.de\n   * Iterative computation of CPHI,SPHI and Height.\n   * Iteration of CPHI and SPHI to 10**-12 radian resp.\n   * 2*10**-7 arcsec.\n   * --------------------------------------------------------------\n   */\n  CT = Z / RR;\n  ST = P / RR;\n  RX = 1.0 / Math.sqrt(1.0 - es * (2.0 - es) * ST * ST);\n  CPHI0 = ST * (1.0 - es) * RX;\n  SPHI0 = CT * RX;\n  iter = 0;\n\n  /* loop to find sin(Latitude) resp. Latitude\n   * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */\n  do {\n    iter++;\n    RN = a / Math.sqrt(1.0 - es * SPHI0 * SPHI0);\n\n    /*  ellipsoidal (geodetic) height */\n    Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - es * SPHI0 * SPHI0);\n\n    RK = es * RN / (RN + Height);\n    RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);\n    CPHI = ST * (1.0 - RK) * RX;\n    SPHI = CT * RX;\n    SDPHI = SPHI * CPHI0 - CPHI * SPHI0;\n    CPHI0 = CPHI;\n    SPHI0 = SPHI;\n  }\n  while (SDPHI * SDPHI > genau2 && iter < maxiter);\n\n  /*      ellipsoidal (geodetic) latitude */\n  Latitude = Math.atan(SPHI / Math.abs(CPHI));\n  return {\n    x: Longitude,\n    y: Latitude,\n    z: Height\n  };\n} // cs_geocentric_to_geodetic()\n\n/****************************************************************/\n// pj_geocentic_to_wgs84( p )\n//  p = point to transform in geocentric coordinates (x,y,z)\n\n\n/** point object, nothing fancy, just allows values to be\n    passed back and forth by reference rather than by value.\n    Other point classes may be used as long as they have\n    x and y properties, which will get modified in the transform method.\n*/\nexport function geocentricToWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x + datum_params[0],\n      y: p.y + datum_params[1],\n      z: p.z + datum_params[2],\n    };\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF,\n      y: M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF,\n      z: M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF\n    };\n  }\n} // cs_geocentric_to_wgs84\n\n/****************************************************************/\n// pj_geocentic_from_wgs84()\n//  coordinate system definition,\n//  point to transform in geocentric coordinates (x,y,z)\nexport function geocentricFromWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x - datum_params[0],\n      y: p.y - datum_params[1],\n      z: p.z - datum_params[2],\n    };\n\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    var x_tmp = (p.x - Dx_BF) / M_BF;\n    var y_tmp = (p.y - Dy_BF) / M_BF;\n    var z_tmp = (p.z - Dz_BF) / M_BF;\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n\n    return {\n      x: x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp,\n      y: -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp,\n      z: Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp\n    };\n  } //cs_geocentric_from_wgs84()\n}\n","import {\n  PJD_3PARAM,\n  PJD_7PARAM,\n  PJD_GRIDSHIFT,\n  PJD_NODATUM,\n  R2D,\n  SRS_WGS84_ESQUARED,\n  SRS_WGS84_SEMIMAJOR, SRS_WGS84_SEMIMINOR\n} from './constants/values';\n\nimport {geodeticToGeocentric, geocentricToGeodetic, geocentricToWgs84, geocentricFromWgs84, compareDatums} from './datumUtils';\nimport adjust_lon from \"./common/adjust_lon\";\nfunction checkParams(type) {\n  return (type === PJD_3PARAM || type === PJD_7PARAM);\n}\n\nexport default function(source, dest, point) {\n  // Short cut if the datums are identical.\n  if (compareDatums(source, dest)) {\n    return point; // in this case, zero is sucess,\n    // whereas cs_compare_datums returns 1 to indicate TRUE\n    // confusing, should fix this\n  }\n\n  // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest\n  if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {\n    return point;\n  }\n\n  // If this datum requires grid shifts, then apply it to geodetic coordinates.\n  var source_a = source.a;\n  var source_es = source.es;\n  if (source.datum_type === PJD_GRIDSHIFT) {\n    var gridShiftCode = applyGridShift(source, false, point);\n    if (gridShiftCode !== 0) {\n      return undefined;\n    }\n    source_a = SRS_WGS84_SEMIMAJOR;\n    source_es = SRS_WGS84_ESQUARED;\n  }\n\n  var dest_a = dest.a;\n  var dest_b = dest.b;\n  var dest_es = dest.es;\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    dest_a = SRS_WGS84_SEMIMAJOR;\n    dest_b = SRS_WGS84_SEMIMINOR;\n    dest_es = SRS_WGS84_ESQUARED;\n  }\n\n  // Do we need to go through geocentric coordinates?\n  if (source_es === dest_es && source_a === dest_a && !checkParams(source.datum_type) &&  !checkParams(dest.datum_type)) {\n    return point;\n  }\n\n  // Convert to geocentric coordinates.\n  point = geodeticToGeocentric(point, source_es, source_a);\n  // Convert between datums\n  if (checkParams(source.datum_type)) {\n    point = geocentricToWgs84(point, source.datum_type, source.datum_params);\n  }\n  if (checkParams(dest.datum_type)) {\n    point = geocentricFromWgs84(point, dest.datum_type, dest.datum_params);\n  }\n  point = geocentricToGeodetic(point, dest_es, dest_a, dest_b);\n\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    var destGridShiftResult = applyGridShift(dest, true, point);\n    if (destGridShiftResult !== 0) {\n      return undefined;\n    }\n  }\n\n  return point;\n}\n\nexport function applyGridShift(source, inverse, point) {\n  if (source.grids === null || source.grids.length === 0) {\n    console.log('Grid shift grids not found');\n    return -1;\n  }\n  var input = {x: -point.x, y: point.y};\n  var output = {x: Number.NaN, y: Number.NaN};\n  var onlyMandatoryGrids = false;\n  var attemptedGrids = [];\n  outer:\n  for (var i = 0; i < source.grids.length; i++) {\n    var grid = source.grids[i];\n    attemptedGrids.push(grid.name);\n    if (grid.isNull) {\n      output = input;\n      break;\n    }\n    onlyMandatoryGrids = grid.mandatory;\n    if (grid.grid === null) {\n      if (grid.mandatory) {\n        console.log(\"Unable to find mandatory grid '\" + grid.name + \"'\");\n        return -1;\n      }\n      continue;\n    }\n    var subgrids = grid.grid.subgrids;\n    for (var j = 0, jj = subgrids.length; j < jj; j++) {\n      var subgrid = subgrids[j];\n      // skip tables that don't match our point at all\n      var epsilon = (Math.abs(subgrid.del[1]) + Math.abs(subgrid.del[0])) / 10000.0;\n      var minX = subgrid.ll[0] - epsilon;\n      var minY = subgrid.ll[1] - epsilon;\n      var maxX = subgrid.ll[0] + (subgrid.lim[0] - 1) * subgrid.del[0] + epsilon;\n      var maxY = subgrid.ll[1] + (subgrid.lim[1] - 1) * subgrid.del[1] + epsilon;\n      if (minY > input.y || minX > input.x || maxY < input.y || maxX < input.x ) {\n        continue;\n      }\n      output = applySubgridShift(input, inverse, subgrid);\n      if (!isNaN(output.x)) {\n        break outer;\n      }\n    }\n  }\n  if (isNaN(output.x)) {\n    console.log(\"Failed to find a grid shift table for location '\"+\n      -input.x * R2D + \" \" + input.y * R2D + \" tried: '\" + attemptedGrids + \"'\");\n    return -1;\n  }\n  point.x = -output.x;\n  point.y = output.y;\n  return 0;\n}\n\nfunction applySubgridShift(pin, inverse, ct) {\n  var val = {x: Number.NaN, y: Number.NaN};\n  if (isNaN(pin.x)) { return val; }\n  var tb = {x: pin.x, y: pin.y};\n  tb.x -= ct.ll[0];\n  tb.y -= ct.ll[1];\n  tb.x = adjust_lon(tb.x - Math.PI) + Math.PI;\n  var t = nadInterpolate(tb, ct);\n  if (inverse) {\n    if (isNaN(t.x)) {\n      return val;\n    }\n    t.x = tb.x - t.x;\n    t.y = tb.y - t.y;\n    var i = 9, tol = 1e-12;\n    var dif, del;\n    do {\n      del = nadInterpolate(t, ct);\n      if (isNaN(del.x)) {\n        console.log(\"Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.\");\n        break;\n      }\n      dif = {x: tb.x - (del.x + t.x), y: tb.y - (del.y + t.y)};\n      t.x += dif.x;\n      t.y += dif.y;\n    } while (i-- && Math.abs(dif.x) > tol && Math.abs(dif.y) > tol);\n    if (i < 0) {\n      console.log(\"Inverse grid shift iterator failed to converge.\");\n      return val;\n    }\n    val.x = adjust_lon(t.x + ct.ll[0]);\n    val.y = t.y + ct.ll[1];\n  } else {\n    if (!isNaN(t.x)) {\n      val.x = pin.x + t.x;\n      val.y = pin.y + t.y;\n    }\n  }\n  return val;\n}\n\nfunction nadInterpolate(pin, ct) {\n  var t = {x: pin.x / ct.del[0], y: pin.y / ct.del[1]};\n  var indx = {x: Math.floor(t.x), y: Math.floor(t.y)};\n  var frct = {x: t.x - 1.0 * indx.x, y: t.y - 1.0 * indx.y};\n  var val= {x: Number.NaN, y: Number.NaN};\n  var inx;\n  if (indx.x < 0 || indx.x >= ct.lim[0]) {\n    return val;\n  }\n  if (indx.y < 0 || indx.y >= ct.lim[1]) {\n    return val;\n  }\n  inx = (indx.y * ct.lim[0]) + indx.x;\n  var f00 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx++;\n  var f10= {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx += ct.lim[0];\n  var f11 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx--;\n  var f01 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  var m11 = frct.x * frct.y, m10 = frct.x * (1.0 - frct.y),\n    m00 = (1.0 - frct.x) * (1.0 - frct.y), m01 = (1.0 - frct.x) * frct.y;\n  val.x = (m00 * f00.x + m10 * f10.x + m01 * f01.x + m11 * f11.x);\n  val.y = (m00 * f00.y + m10 * f10.y + m01 * f01.y + m11 * f11.y);\n  return val;\n}\n","export default function(crs, denorm, point) {\n  var xin = point.x,\n    yin = point.y,\n    zin = point.z || 0.0;\n  var v, t, i;\n  var out = {};\n  for (i = 0; i < 3; i++) {\n    if (denorm && i === 2 && point.z === undefined) {\n      continue;\n    }\n    if (i === 0) {\n      v = xin;\n      if (\"ew\".indexOf(crs.axis[i]) !== -1) {\n        t = 'x';\n      } else {\n        t = 'y';\n      }\n\n    }\n    else if (i === 1) {\n      v = yin;\n      if (\"ns\".indexOf(crs.axis[i]) !== -1) {\n        t = 'y';\n      } else {\n        t = 'x';\n      }\n    }\n    else {\n      v = zin;\n      t = 'z';\n    }\n    switch (crs.axis[i]) {\n    case 'e':\n      out[t] = v;\n      break;\n    case 'w':\n      out[t] = -v;\n      break;\n    case 'n':\n      out[t] = v;\n      break;\n    case 's':\n      out[t] = -v;\n      break;\n    case 'u':\n      if (point[t] !== undefined) {\n        out.z = v;\n      }\n      break;\n    case 'd':\n      if (point[t] !== undefined) {\n        out.z = -v;\n      }\n      break;\n    default:\n      //console.log(\"ERROR: unknow axis (\"+crs.axis[i]+\") - check definition of \"+crs.projName);\n      return null;\n    }\n  }\n  return out;\n}\n","export default function (array){\n  var out = {\n    x: array[0],\n    y: array[1]\n  };\n  if (array.length>2) {\n    out.z = array[2];\n  }\n  if (array.length>3) {\n    out.m = array[3];\n  }\n  return out;\n}","export default function (point) {\n  checkCoord(point.x);\n  checkCoord(point.y);\n}\nfunction checkCoord(num) {\n  if (typeof Number.isFinite === 'function') {\n    if (Number.isFinite(num)) {\n      return;\n    }\n    throw new TypeError('coordinates must be finite numbers');\n  }\n  if (typeof num !== 'number' || num !== num || !isFinite(num)) {\n    throw new TypeError('coordinates must be finite numbers');\n  }\n}\n","import {D2R, R2D, PJD_3PARAM, PJD_7PARAM, PJD_GRIDSHIFT} from './constants/values';\nimport datum_transform from './datum_transform';\nimport adjust_axis from './adjust_axis';\nimport proj from './Proj';\nimport toPoint from './common/toPoint';\nimport checkSanity from './checkSanity';\n\nfunction checkNotWGS(source, dest) {\n  return (\n    (source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM || source.datum.datum_type === PJD_GRIDSHIFT) && dest.datumCode !== 'WGS84') ||\n    ((dest.datum.datum_type === PJD_3PARAM || dest.datum.datum_type === PJD_7PARAM || dest.datum.datum_type === PJD_GRIDSHIFT) && source.datumCode !== 'WGS84');\n}\n\nexport default function transform(source, dest, point, enforceAxis) {\n  var wgs84;\n  if (Array.isArray(point)) {\n    point = toPoint(point);\n  } else {\n    // Clone the point object so inputs don't get modified\n    point = {\n      x: point.x,\n      y: point.y,\n      z: point.z,\n      m: point.m\n    };\n  }\n  var hasZ = point.z !== undefined;\n  checkSanity(point);\n  // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84\n  if (source.datum && dest.datum && checkNotWGS(source, dest)) {\n    wgs84 = new proj('WGS84');\n    point = transform(source, wgs84, point, enforceAxis);\n    source = wgs84;\n  }\n  // DGR, 2010/11/12\n  if (enforceAxis && source.axis !== 'enu') {\n    point = adjust_axis(source, false, point);\n  }\n  // Transform source points to long/lat, if they aren't already.\n  if (source.projName === 'longlat') {\n    point = {\n      x: point.x * D2R,\n      y: point.y * D2R,\n      z: point.z || 0\n    };\n  } else {\n    if (source.to_meter) {\n      point = {\n        x: point.x * source.to_meter,\n        y: point.y * source.to_meter,\n        z: point.z || 0\n      };\n    }\n    point = source.inverse(point); // Convert Cartesian to longlat\n    if (!point) {\n      return;\n    }\n  }\n  // Adjust for the prime meridian if necessary\n  if (source.from_greenwich) {\n    point.x += source.from_greenwich;\n  }\n\n  // Convert datums if needed, and if possible.\n  point = datum_transform(source.datum, dest.datum, point);\n  if (!point) {\n    return;\n  }\n\n  // Adjust for the prime meridian if necessary\n  if (dest.from_greenwich) {\n    point = {\n      x: point.x - dest.from_greenwich,\n      y: point.y,\n      z: point.z || 0\n    };\n  }\n\n  if (dest.projName === 'longlat') {\n    // convert radians to decimal degrees\n    point = {\n      x: point.x * R2D,\n      y: point.y * R2D,\n      z: point.z || 0\n    };\n  } else { // else project\n    point = dest.forward(point);\n    if (dest.to_meter) {\n      point = {\n        x: point.x / dest.to_meter,\n        y: point.y / dest.to_meter,\n        z: point.z || 0\n      };\n    }\n  }\n\n  // DGR, 2010/11/12\n  if (enforceAxis && dest.axis !== 'enu') {\n    return adjust_axis(dest, true, point);\n  }\n\n  if (point && !hasZ) {\n    delete point.z;\n  }\n  return point;\n}\n","import proj from './Proj';\nimport transform from './transform';\nvar wgs84 = proj('WGS84');\n\nfunction transformer(from, to, coords, enforceAxis) {\n  var transformedArray, out, keys;\n  if (Array.isArray(coords)) {\n    transformedArray = transform(from, to, coords, enforceAxis) || {x: NaN, y: NaN};\n    if (coords.length > 2) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (typeof transformedArray.z === 'number') {\n          return [transformedArray.x, transformedArray.y, transformedArray.z].concat(coords.splice(3));\n        } else {\n          return [transformedArray.x, transformedArray.y, coords[2]].concat(coords.splice(3));\n        }\n      } else {\n        return [transformedArray.x, transformedArray.y].concat(coords.splice(2));\n      }\n    } else {\n      return [transformedArray.x, transformedArray.y];\n    }\n  } else {\n    out = transform(from, to, coords, enforceAxis);\n    keys = Object.keys(coords);\n    if (keys.length === 2) {\n      return out;\n    }\n    keys.forEach(function (key) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (key === 'x' || key === 'y' || key === 'z') {\n          return;\n        }\n      } else {\n        if (key === 'x' || key === 'y') {\n          return;\n        }\n      }\n      out[key] = coords[key];\n    });\n    return out;\n  }\n}\n\nfunction checkProj(item) {\n  if (item instanceof proj) {\n    return item;\n  }\n  if (item.oProj) {\n    return item.oProj;\n  }\n  return proj(item);\n}\n\nfunction proj4(fromProj, toProj, coord) {\n  fromProj = checkProj(fromProj);\n  var single = false;\n  var obj;\n  if (typeof toProj === 'undefined') {\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  } else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n    coord = toProj;\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n  toProj = checkProj(toProj);\n  if (coord) {\n    return transformer(fromProj, toProj, coord);\n  } else {\n    obj = {\n      forward: function (coords, enforceAxis) {\n        return transformer(fromProj, toProj, coords, enforceAxis);\n      },\n      inverse: function (coords, enforceAxis) {\n        return transformer(toProj, fromProj, coords, enforceAxis);\n      }\n    };\n    if (single) {\n      obj.oProj = toProj;\n    }\n    return obj;\n  }\n}\nexport default proj4;","\n\n\n/**\n * UTM zones are grouped, and assigned to one of a group of 6\n * sets.\n *\n * {int} @private\n */\nvar NUM_100K_SETS = 6;\n\n/**\n * The column letters (for easting) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';\n\n/**\n * The row letters (for northing) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_ROW_LETTERS = 'AFAFAF';\n\nvar A = 65; // A\nvar I = 73; // I\nvar O = 79; // O\nvar V = 86; // V\nvar Z = 90; // Z\nexport default {\n  forward: forward,\n  inverse: inverse,\n  toPoint: toPoint\n};\n/**\n * Conversion of lat/lon to MGRS.\n *\n * @param {object} ll Object literal with lat and lon properties on a\n *     WGS84 ellipsoid.\n * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for\n *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.\n * @return {string} the MGRS string for the given location and accuracy.\n */\nexport function forward(ll, accuracy) {\n  accuracy = accuracy || 5; // default accuracy 1m\n  return encode(LLtoUTM({\n    lat: ll[1],\n    lon: ll[0]\n  }), accuracy);\n};\n\n/**\n * Conversion of MGRS to lat/lon.\n *\n * @param {string} mgrs MGRS string.\n * @return {array} An array with left (longitude), bottom (latitude), right\n *     (longitude) and top (latitude) values in WGS84, representing the\n *     bounding box for the provided MGRS reference.\n */\nexport function inverse(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];\n  }\n  return [bbox.left, bbox.bottom, bbox.right, bbox.top];\n};\n\nexport function toPoint(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat];\n  }\n  return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];\n};\n/**\n * Conversion from degrees to radians.\n *\n * @private\n * @param {number} deg the angle in degrees.\n * @return {number} the angle in radians.\n */\nfunction degToRad(deg) {\n  return (deg * (Math.PI / 180.0));\n}\n\n/**\n * Conversion from radians to degrees.\n *\n * @private\n * @param {number} rad the angle in radians.\n * @return {number} the angle in degrees.\n */\nfunction radToDeg(rad) {\n  return (180.0 * (rad / Math.PI));\n}\n\n/**\n * Converts a set of Longitude and Latitude co-ordinates to UTM\n * using the WGS84 ellipsoid.\n *\n * @private\n * @param {object} ll Object literal with lat and lon properties\n *     representing the WGS84 coordinate to be converted.\n * @return {object} Object literal containing the UTM value with easting,\n *     northing, zoneNumber and zoneLetter properties, and an optional\n *     accuracy property in digits. Returns null if the conversion failed.\n */\nfunction LLtoUTM(ll) {\n  var Lat = ll.lat;\n  var Long = ll.lon;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var k0 = 0.9996;\n  var LongOrigin;\n  var eccPrimeSquared;\n  var N, T, C, A, M;\n  var LatRad = degToRad(Lat);\n  var LongRad = degToRad(Long);\n  var LongOriginRad;\n  var ZoneNumber;\n  // (int)\n  ZoneNumber = Math.floor((Long + 180) / 6) + 1;\n\n  //Make sure the longitude 180.00 is in Zone 60\n  if (Long === 180) {\n    ZoneNumber = 60;\n  }\n\n  // Special zone for Norway\n  if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {\n    ZoneNumber = 32;\n  }\n\n  // Special zones for Svalbard\n  if (Lat >= 72.0 && Lat < 84.0) {\n    if (Long >= 0.0 && Long < 9.0) {\n      ZoneNumber = 31;\n    }\n    else if (Long >= 9.0 && Long < 21.0) {\n      ZoneNumber = 33;\n    }\n    else if (Long >= 21.0 && Long < 33.0) {\n      ZoneNumber = 35;\n    }\n    else if (Long >= 33.0 && Long < 42.0) {\n      ZoneNumber = 37;\n    }\n  }\n\n  LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin\n  // in middle of\n  // zone\n  LongOriginRad = degToRad(LongOrigin);\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));\n  T = Math.tan(LatRad) * Math.tan(LatRad);\n  C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);\n  A = Math.cos(LatRad) * (LongRad - LongOriginRad);\n\n  M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));\n\n  var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);\n\n  var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));\n  if (Lat < 0.0) {\n    UTMNorthing += 10000000.0; //10000000 meter offset for\n    // southern hemisphere\n  }\n\n  return {\n    northing: Math.round(UTMNorthing),\n    easting: Math.round(UTMEasting),\n    zoneNumber: ZoneNumber,\n    zoneLetter: getLetterDesignator(Lat)\n  };\n}\n\n/**\n * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience\n * class where the Zone can be specified as a single string eg.\"60N\" which\n * is then broken down into the ZoneNumber and ZoneLetter.\n *\n * @private\n * @param {object} utm An object literal with northing, easting, zoneNumber\n *     and zoneLetter properties. If an optional accuracy property is\n *     provided (in meters), a bounding box will be returned instead of\n *     latitude and longitude.\n * @return {object} An object literal containing either lat and lon values\n *     (if no accuracy was provided), or top, right, bottom and left values\n *     for the bounding box calculated according to the provided accuracy.\n *     Returns null if the conversion failed.\n */\nfunction UTMtoLL(utm) {\n\n  var UTMNorthing = utm.northing;\n  var UTMEasting = utm.easting;\n  var zoneLetter = utm.zoneLetter;\n  var zoneNumber = utm.zoneNumber;\n  // check the ZoneNummber is valid\n  if (zoneNumber < 0 || zoneNumber > 60) {\n    return null;\n  }\n\n  var k0 = 0.9996;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var eccPrimeSquared;\n  var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));\n  var N1, T1, C1, R1, D, M;\n  var LongOrigin;\n  var mu, phi1Rad;\n\n  // remove 500,000 meter offset for longitude\n  var x = UTMEasting - 500000.0;\n  var y = UTMNorthing;\n\n  // We must know somehow if we are in the Northern or Southern\n  // hemisphere, this is the only time we use the letter So even\n  // if the Zone letter isn't exactly correct it should indicate\n  // the hemisphere correctly\n  if (zoneLetter < 'N') {\n    y -= 10000000.0; // remove 10,000,000 meter offset used\n    // for southern hemisphere\n  }\n\n  // There are 60 zones with zone 1 being at West -180 to -174\n  LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin\n  // in middle of\n  // zone\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  M = y / k0;\n  mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));\n\n  phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);\n  // double phi1 = ProjMath.radToDeg(phi1Rad);\n\n  N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));\n  T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);\n  C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);\n  R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);\n  D = x / (N1 * k0);\n\n  var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);\n  lat = radToDeg(lat);\n\n  var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);\n  lon = LongOrigin + radToDeg(lon);\n\n  var result;\n  if (utm.accuracy) {\n    var topRight = UTMtoLL({\n      northing: utm.northing + utm.accuracy,\n      easting: utm.easting + utm.accuracy,\n      zoneLetter: utm.zoneLetter,\n      zoneNumber: utm.zoneNumber\n    });\n    result = {\n      top: topRight.lat,\n      right: topRight.lon,\n      bottom: lat,\n      left: lon\n    };\n  }\n  else {\n    result = {\n      lat: lat,\n      lon: lon\n    };\n  }\n  return result;\n}\n\n/**\n * Calculates the MGRS letter designator for the given latitude.\n *\n * @private\n * @param {number} lat The latitude in WGS84 to get the letter designator\n *     for.\n * @return {char} The letter designator.\n */\nfunction getLetterDesignator(lat) {\n  //This is here as an error flag to show that the Latitude is\n  //outside MGRS limits\n  var LetterDesignator = 'Z';\n\n  if ((84 >= lat) && (lat >= 72)) {\n    LetterDesignator = 'X';\n  }\n  else if ((72 > lat) && (lat >= 64)) {\n    LetterDesignator = 'W';\n  }\n  else if ((64 > lat) && (lat >= 56)) {\n    LetterDesignator = 'V';\n  }\n  else if ((56 > lat) && (lat >= 48)) {\n    LetterDesignator = 'U';\n  }\n  else if ((48 > lat) && (lat >= 40)) {\n    LetterDesignator = 'T';\n  }\n  else if ((40 > lat) && (lat >= 32)) {\n    LetterDesignator = 'S';\n  }\n  else if ((32 > lat) && (lat >= 24)) {\n    LetterDesignator = 'R';\n  }\n  else if ((24 > lat) && (lat >= 16)) {\n    LetterDesignator = 'Q';\n  }\n  else if ((16 > lat) && (lat >= 8)) {\n    LetterDesignator = 'P';\n  }\n  else if ((8 > lat) && (lat >= 0)) {\n    LetterDesignator = 'N';\n  }\n  else if ((0 > lat) && (lat >= -8)) {\n    LetterDesignator = 'M';\n  }\n  else if ((-8 > lat) && (lat >= -16)) {\n    LetterDesignator = 'L';\n  }\n  else if ((-16 > lat) && (lat >= -24)) {\n    LetterDesignator = 'K';\n  }\n  else if ((-24 > lat) && (lat >= -32)) {\n    LetterDesignator = 'J';\n  }\n  else if ((-32 > lat) && (lat >= -40)) {\n    LetterDesignator = 'H';\n  }\n  else if ((-40 > lat) && (lat >= -48)) {\n    LetterDesignator = 'G';\n  }\n  else if ((-48 > lat) && (lat >= -56)) {\n    LetterDesignator = 'F';\n  }\n  else if ((-56 > lat) && (lat >= -64)) {\n    LetterDesignator = 'E';\n  }\n  else if ((-64 > lat) && (lat >= -72)) {\n    LetterDesignator = 'D';\n  }\n  else if ((-72 > lat) && (lat >= -80)) {\n    LetterDesignator = 'C';\n  }\n  return LetterDesignator;\n}\n\n/**\n * Encodes a UTM location as MGRS string.\n *\n * @private\n * @param {object} utm An object literal with easting, northing,\n *     zoneLetter, zoneNumber\n * @param {number} accuracy Accuracy in digits (1-5).\n * @return {string} MGRS string for the given UTM location.\n */\nfunction encode(utm, accuracy) {\n  // prepend with leading zeroes\n  var seasting = \"00000\" + utm.easting,\n    snorthing = \"00000\" + utm.northing;\n\n  return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);\n}\n\n/**\n * Get the two letter 100k designator for a given UTM easting,\n * northing and zone number value.\n *\n * @private\n * @param {number} easting\n * @param {number} northing\n * @param {number} zoneNumber\n * @return the two letter 100k designator for the given UTM location.\n */\nfunction get100kID(easting, northing, zoneNumber) {\n  var setParm = get100kSetForZone(zoneNumber);\n  var setColumn = Math.floor(easting / 100000);\n  var setRow = Math.floor(northing / 100000) % 20;\n  return getLetter100kID(setColumn, setRow, setParm);\n}\n\n/**\n * Given a UTM zone number, figure out the MGRS 100K set it is in.\n *\n * @private\n * @param {number} i An UTM zone number.\n * @return {number} the 100k set the UTM zone is in.\n */\nfunction get100kSetForZone(i) {\n  var setParm = i % NUM_100K_SETS;\n  if (setParm === 0) {\n    setParm = NUM_100K_SETS;\n  }\n\n  return setParm;\n}\n\n/**\n * Get the two-letter MGRS 100k designator given information\n * translated from the UTM northing, easting and zone number.\n *\n * @private\n * @param {number} column the column index as it relates to the MGRS\n *        100k set spreadsheet, created from the UTM easting.\n *        Values are 1-8.\n * @param {number} row the row index as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM northing value. Values\n *        are from 0-19.\n * @param {number} parm the set block, as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM zone. Values are from\n *        1-60.\n * @return two letter MGRS 100k code.\n */\nfunction getLetter100kID(column, row, parm) {\n  // colOrigin and rowOrigin are the letters at the origin of the set\n  var index = parm - 1;\n  var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);\n  var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);\n\n  // colInt and rowInt are the letters to build to return\n  var colInt = colOrigin + column - 1;\n  var rowInt = rowOrigin + row;\n  var rollover = false;\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n    rollover = true;\n  }\n\n  if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {\n    colInt++;\n  }\n\n  if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {\n    colInt++;\n\n    if (colInt === I) {\n      colInt++;\n    }\n  }\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n    rollover = true;\n  }\n  else {\n    rollover = false;\n  }\n\n  if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {\n    rowInt++;\n  }\n\n  if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {\n    rowInt++;\n\n    if (rowInt === I) {\n      rowInt++;\n    }\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n  }\n\n  var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);\n  return twoLetter;\n}\n\n/**\n * Decode the UTM parameters from a MGRS string.\n *\n * @private\n * @param {string} mgrsString an UPPERCASE coordinate string is expected.\n * @return {object} An object literal with easting, northing, zoneLetter,\n *     zoneNumber and accuracy (in meters) properties.\n */\nfunction decode(mgrsString) {\n\n  if (mgrsString && mgrsString.length === 0) {\n    throw (\"MGRSPoint coverting from nothing\");\n  }\n\n  var length = mgrsString.length;\n\n  var hunK = null;\n  var sb = \"\";\n  var testChar;\n  var i = 0;\n\n  // get Zone number\n  while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {\n    if (i >= 2) {\n      throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n    }\n    sb += testChar;\n    i++;\n  }\n\n  var zoneNumber = parseInt(sb, 10);\n\n  if (i === 0 || i + 3 > length) {\n    // A good MGRS string has to be 4-5 digits long,\n    // ##AAA/#AAA at least.\n    throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n  }\n\n  var zoneLetter = mgrsString.charAt(i++);\n\n  // Should we check the zone letter here? Why not.\n  if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {\n    throw (\"MGRSPoint zone letter \" + zoneLetter + \" not handled: \" + mgrsString);\n  }\n\n  hunK = mgrsString.substring(i, i += 2);\n\n  var set = get100kSetForZone(zoneNumber);\n\n  var east100k = getEastingFromChar(hunK.charAt(0), set);\n  var north100k = getNorthingFromChar(hunK.charAt(1), set);\n\n  // We have a bug where the northing may be 2000000 too low.\n  // How\n  // do we know when to roll over?\n\n  while (north100k < getMinNorthing(zoneLetter)) {\n    north100k += 2000000;\n  }\n\n  // calculate the char index for easting/northing separator\n  var remainder = length - i;\n\n  if (remainder % 2 !== 0) {\n    throw (\"MGRSPoint has to have an even number \\nof digits after the zone letter and two 100km letters - front \\nhalf for easting meters, second half for \\nnorthing meters\" + mgrsString);\n  }\n\n  var sep = remainder / 2;\n\n  var sepEasting = 0.0;\n  var sepNorthing = 0.0;\n  var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;\n  if (sep > 0) {\n    accuracyBonus = 100000.0 / Math.pow(10, sep);\n    sepEastingString = mgrsString.substring(i, i + sep);\n    sepEasting = parseFloat(sepEastingString) * accuracyBonus;\n    sepNorthingString = mgrsString.substring(i + sep);\n    sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;\n  }\n\n  easting = sepEasting + east100k;\n  northing = sepNorthing + north100k;\n\n  return {\n    easting: easting,\n    northing: northing,\n    zoneLetter: zoneLetter,\n    zoneNumber: zoneNumber,\n    accuracy: accuracyBonus\n  };\n}\n\n/**\n * Given the first letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the easting value that\n * should be added to the other, secondary easting value.\n *\n * @private\n * @param {char} e The first letter from a two-letter MGRS 100´k zone.\n * @param {number} set The MGRS table set for the zone number.\n * @return {number} The easting value for the given letter and set.\n */\nfunction getEastingFromChar(e, set) {\n  // colOrigin is the letter at the origin of the set for the\n  // column\n  var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);\n  var eastingValue = 100000.0;\n  var rewindMarker = false;\n\n  while (curCol !== e.charCodeAt(0)) {\n    curCol++;\n    if (curCol === I) {\n      curCol++;\n    }\n    if (curCol === O) {\n      curCol++;\n    }\n    if (curCol > Z) {\n      if (rewindMarker) {\n        throw (\"Bad character: \" + e);\n      }\n      curCol = A;\n      rewindMarker = true;\n    }\n    eastingValue += 100000.0;\n  }\n\n  return eastingValue;\n}\n\n/**\n * Given the second letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the northing value that\n * should be added to the other, secondary northing value. You have to\n * remember that Northings are determined from the equator, and the vertical\n * cycle of letters mean a 2000000 additional northing meters. This happens\n * approx. every 18 degrees of latitude. This method does *NOT* count any\n * additional northings. You have to figure out how many 2000000 meters need\n * to be added for the zone letter of the MGRS coordinate.\n *\n * @private\n * @param {char} n Second letter of the MGRS 100k zone\n * @param {number} set The MGRS table set number, which is dependent on the\n *     UTM zone number.\n * @return {number} The northing value for the given letter and set.\n */\nfunction getNorthingFromChar(n, set) {\n\n  if (n > 'V') {\n    throw (\"MGRSPoint given invalid Northing \" + n);\n  }\n\n  // rowOrigin is the letter at the origin of the set for the\n  // column\n  var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);\n  var northingValue = 0.0;\n  var rewindMarker = false;\n\n  while (curRow !== n.charCodeAt(0)) {\n    curRow++;\n    if (curRow === I) {\n      curRow++;\n    }\n    if (curRow === O) {\n      curRow++;\n    }\n    // fixing a bug making whole application hang in this loop\n    // when 'n' is a wrong character\n    if (curRow > V) {\n      if (rewindMarker) { // making sure that this loop ends\n        throw (\"Bad character: \" + n);\n      }\n      curRow = A;\n      rewindMarker = true;\n    }\n    northingValue += 100000.0;\n  }\n\n  return northingValue;\n}\n\n/**\n * The function getMinNorthing returns the minimum northing value of a MGRS\n * zone.\n *\n * Ported from Geotrans' c Lattitude_Band_Value structure table.\n *\n * @private\n * @param {char} zoneLetter The MGRS zone to get the min northing for.\n * @return {number}\n */\nfunction getMinNorthing(zoneLetter) {\n  var northing;\n  switch (zoneLetter) {\n  case 'C':\n    northing = 1100000.0;\n    break;\n  case 'D':\n    northing = 2000000.0;\n    break;\n  case 'E':\n    northing = 2800000.0;\n    break;\n  case 'F':\n    northing = 3700000.0;\n    break;\n  case 'G':\n    northing = 4600000.0;\n    break;\n  case 'H':\n    northing = 5500000.0;\n    break;\n  case 'J':\n    northing = 6400000.0;\n    break;\n  case 'K':\n    northing = 7300000.0;\n    break;\n  case 'L':\n    northing = 8200000.0;\n    break;\n  case 'M':\n    northing = 9100000.0;\n    break;\n  case 'N':\n    northing = 0.0;\n    break;\n  case 'P':\n    northing = 800000.0;\n    break;\n  case 'Q':\n    northing = 1700000.0;\n    break;\n  case 'R':\n    northing = 2600000.0;\n    break;\n  case 'S':\n    northing = 3500000.0;\n    break;\n  case 'T':\n    northing = 4400000.0;\n    break;\n  case 'U':\n    northing = 5300000.0;\n    break;\n  case 'V':\n    northing = 6200000.0;\n    break;\n  case 'W':\n    northing = 7000000.0;\n    break;\n  case 'X':\n    northing = 7900000.0;\n    break;\n  default:\n    northing = -1.0;\n  }\n  if (northing >= 0.0) {\n    return northing;\n  }\n  else {\n    throw (\"Invalid zone letter: \" + zoneLetter);\n  }\n\n}\n","import {toPoint, forward} from 'mgrs';\n\nfunction Point(x, y, z) {\n  if (!(this instanceof Point)) {\n    return new Point(x, y, z);\n  }\n  if (Array.isArray(x)) {\n    this.x = x[0];\n    this.y = x[1];\n    this.z = x[2] || 0.0;\n  } else if(typeof x === 'object') {\n    this.x = x.x;\n    this.y = x.y;\n    this.z = x.z || 0.0;\n  } else if (typeof x === 'string' && typeof y === 'undefined') {\n    var coords = x.split(',');\n    this.x = parseFloat(coords[0], 10);\n    this.y = parseFloat(coords[1], 10);\n    this.z = parseFloat(coords[2], 10) || 0.0;\n  } else {\n    this.x = x;\n    this.y = y;\n    this.z = z || 0.0;\n  }\n  console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');\n}\n\nPoint.fromMGRS = function(mgrsStr) {\n  return new Point(toPoint(mgrsStr));\n};\nPoint.prototype.toMGRS = function(accuracy) {\n  return forward([this.x, this.y], accuracy);\n};\nexport default Point;\n","var C00 = 1;\nvar C02 = 0.25;\nvar C04 = 0.046875;\nvar C06 = 0.01953125;\nvar C08 = 0.01068115234375;\nvar C22 = 0.75;\nvar C44 = 0.46875;\nvar C46 = 0.01302083333333333333;\nvar C48 = 0.00712076822916666666;\nvar C66 = 0.36458333333333333333;\nvar C68 = 0.00569661458333333333;\nvar C88 = 0.3076171875;\n\nexport default function(es) {\n  var en = [];\n  en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));\n  en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));\n  var t = es * es;\n  en[2] = t * (C44 - es * (C46 + es * C48));\n  t *= es;\n  en[3] = t * (C66 - es * C68);\n  en[4] = t * es * C88;\n  return en;\n}","export default function(phi, sphi, cphi, en) {\n  cphi *= sphi;\n  sphi *= sphi;\n  return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));\n}","import pj_mlfn from \"./pj_mlfn\";\nimport {EPSLN} from '../constants/values';\n\nvar MAX_ITER = 20;\n\nexport default function(arg, es, en) {\n  var k = 1 / (1 - es);\n  var phi = arg;\n  for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */\n    var s = Math.sin(phi);\n    var t = 1 - es * s * s;\n    //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;\n    //phi -= t * (t * Math.sqrt(t)) * k;\n    t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;\n    phi -= t;\n    if (Math.abs(t) < EPSLN) {\n      return phi;\n    }\n  }\n  //..reportError(\"cass:pj_inv_mlfn: Convergence error\");\n  return phi;\n}\n","// Heavily based on this tmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/tmerc.js\n\nimport pj_enfn from '../common/pj_enfn';\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport adjust_lon from '../common/adjust_lon';\n\nimport {EPSLN, HALF_PI} from '../constants/values';\nimport sign from '../common/sign';\n\nexport function init() {\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  if (this.es) {\n    this.en = pj_enfn(this.es);\n    this.ml0 = pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en);\n  }\n}\n\n/**\n    Transverse Mercator Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var con;\n  var x, y;\n  var sin_phi = Math.sin(lat);\n  var cos_phi = Math.cos(lat);\n\n  if (!this.es) {\n    var b = cos_phi * Math.sin(delta_lon);\n\n    if ((Math.abs(Math.abs(b) - 1)) < EPSLN) {\n      return (93);\n    }\n    else {\n      x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b)) + this.x0;\n      y = cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - Math.pow(b, 2));\n      b = Math.abs(y);\n\n      if (b >= 1) {\n        if ((b - 1) > EPSLN) {\n          return (93);\n        }\n        else {\n          y = 0;\n        }\n      }\n      else {\n        y = Math.acos(y);\n      }\n\n      if (lat < 0) {\n        y = -y;\n      }\n\n      y = this.a * this.k0 * (y - this.lat0) + this.y0;\n    }\n  }\n  else {\n    var al = cos_phi * delta_lon;\n    var als = Math.pow(al, 2);\n    var c = this.ep2 * Math.pow(cos_phi, 2);\n    var cs = Math.pow(c, 2);\n    var tq = Math.abs(cos_phi) > EPSLN ? Math.tan(lat) : 0;\n    var t = Math.pow(tq, 2);\n    var ts = Math.pow(t, 2);\n    con = 1 - this.es * Math.pow(sin_phi, 2);\n    al = al / Math.sqrt(con);\n    var ml = pj_mlfn(lat, sin_phi, cos_phi, this.en);\n\n    x = this.a * (this.k0 * al * (1 +\n      als / 6 * (1 - t + c +\n      als / 20 * (5 - 18 * t + ts + 14 * c - 58 * t * c +\n      als / 42 * (61 + 179 * ts - ts * t - 479 * t))))) +\n      this.x0;\n\n    y = this.a * (this.k0 * (ml - this.ml0 +\n      sin_phi * delta_lon * al / 2 * (1 +\n      als / 12 * (5 - t + 9 * c + 4 * cs +\n      als / 30 * (61 + ts - 58 * t + 270 * c - 330 * t * c +\n      als / 56 * (1385 + 543 * ts - ts * t - 3111 * t)))))) +\n      this.y0;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\n/**\n    Transverse Mercator Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var con, phi;\n  var lat, lon;\n  var x = (p.x - this.x0) * (1 / this.a);\n  var y = (p.y - this.y0) * (1 / this.a);\n\n  if (!this.es) {\n    var f = Math.exp(x / this.k0);\n    var g = 0.5 * (f - 1 / f);\n    var temp = this.lat0 + y / this.k0;\n    var h = Math.cos(temp);\n    con = Math.sqrt((1 - Math.pow(h, 2)) / (1 + Math.pow(g, 2)));\n    lat = Math.asin(con);\n\n    if (y < 0) {\n      lat = -lat;\n    }\n\n    if ((g === 0) && (h === 0)) {\n      lon = 0;\n    }\n    else {\n      lon = adjust_lon(Math.atan2(g, h) + this.long0);\n    }\n  }\n  else { // ellipsoidal form\n    con = this.ml0 + y / this.k0;\n    phi = pj_inv_mlfn(con, this.es, this.en);\n\n    if (Math.abs(phi) < HALF_PI) {\n      var sin_phi = Math.sin(phi);\n      var cos_phi = Math.cos(phi);\n      var tan_phi = Math.abs(cos_phi) > EPSLN ? Math.tan(phi) : 0;\n      var c = this.ep2 * Math.pow(cos_phi, 2);\n      var cs = Math.pow(c, 2);\n      var t = Math.pow(tan_phi, 2);\n      var ts = Math.pow(t, 2);\n      con = 1 - this.es * Math.pow(sin_phi, 2);\n      var d = x * Math.sqrt(con) / this.k0;\n      var ds = Math.pow(d, 2);\n      con = con * tan_phi;\n\n      lat = phi - (con * ds / (1 - this.es)) * 0.5 * (1 -\n        ds / 12 * (5 + 3 * t - 9 * c * t + c - 4 * cs -\n        ds / 30 * (61 + 90 * t - 252 * c * t + 45 * ts + 46 * c -\n        ds / 56 * (1385 + 3633 * t + 4095 * ts + 1574 * ts * t))));\n\n      lon = adjust_lon(this.long0 + (d * (1 -\n        ds / 6 * (1 + 2 * t + c -\n        ds / 20 * (5 + 28 * t + 24 * ts + 8 * c * t + 6 * c -\n        ds / 42 * (61 + 662 * t + 1320 * ts + 720 * ts * t)))) / cos_phi));\n    }\n    else {\n      lat = HALF_PI * sign(y);\n      lon = 0;\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Fast_Transverse_Mercator\", \"Fast Transverse Mercator\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r - 1 / r) / 2;\n  return r;\n}","export default function(x, y) {\n  x = Math.abs(x);\n  y = Math.abs(y);\n  var a = Math.max(x, y);\n  var b = Math.min(x, y) / (a ? a : 1);\n\n  return a * Math.sqrt(1 + Math.pow(b, 2));\n}\n","export default function(x) {\n  var y = 1 + x;\n  var z = y - 1;\n\n  return z === 0 ? x : x * Math.log(y) / z;\n}\n","import hypot from './hypot';\nimport log1py from './log1py';\n\nexport default function(x) {\n  var y = Math.abs(x);\n  y = log1py(y * (1 + y / (hypot(1, y) + 1)));\n\n  return x < 0 ? -y : y;\n}\n","export default function(pp, B) {\n  var cos_2B = 2 * Math.cos(2 * B);\n  var i = pp.length - 1;\n  var h1 = pp[i];\n  var h2 = 0;\n  var h;\n\n  while (--i >= 0) {\n    h = -h2 + cos_2B * h1 + pp[i];\n    h2 = h1;\n    h1 = h;\n  }\n\n  return (B + h * Math.sin(2 * B));\n}\n","export default function(pp, arg_r) {\n  var r = 2 * Math.cos(arg_r);\n  var i = pp.length - 1;\n  var hr1 = pp[i];\n  var hr2 = 0;\n  var hr;\n\n  while (--i >= 0) {\n    hr = -hr2 + r * hr1 + pp[i];\n    hr2 = hr1;\n    hr1 = hr;\n  }\n\n  return Math.sin(arg_r) * hr;\n}\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r + 1 / r) / 2;\n  return r;\n}","import sinh from './sinh';\nimport cosh from './cosh';\n\nexport default function(pp, arg_r, arg_i) {\n  var sin_arg_r = Math.sin(arg_r);\n  var cos_arg_r = Math.cos(arg_r);\n  var sinh_arg_i = sinh(arg_i);\n  var cosh_arg_i = cosh(arg_i);\n  var r = 2 * cos_arg_r * cosh_arg_i;\n  var i = -2 * sin_arg_r * sinh_arg_i;\n  var j = pp.length - 1;\n  var hr = pp[j];\n  var hi1 = 0;\n  var hr1 = 0;\n  var hi = 0;\n  var hr2;\n  var hi2;\n\n  while (--j >= 0) {\n    hr2 = hr1;\n    hi2 = hi1;\n    hr1 = hr;\n    hi1 = hi;\n    hr = -hr2 + r * hr1 - i * hi1 + pp[j];\n    hi = -hi2 + i * hr1 + r * hi1;\n  }\n\n  r = sin_arg_r * cosh_arg_i;\n  i = cos_arg_r * sinh_arg_i;\n\n  return [r * hr - i * hi, r * hi + i * hr];\n}\n","// Heavily based on this etmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/etmerc.js\n\nimport tmerc from '../projections/tmerc';\nimport sinh from '../common/sinh';\nimport hypot from '../common/hypot';\nimport asinhy from '../common/asinhy';\nimport gatg from '../common/gatg';\nimport clens from '../common/clens';\nimport clens_cmplx from '../common/clens_cmplx';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  if (!this.approx && (isNaN(this.es) || this.es <= 0)) {\n    throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION[\"Fast_Transverse_Mercator\"] in the WKT.');\n  }\n  if (this.approx) {\n    // When '+approx' is set, use tmerc instead\n    tmerc.init.apply(this);\n    this.forward = tmerc.forward;\n    this.inverse = tmerc.inverse;\n  }\n\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  this.cgb = [];\n  this.cbg = [];\n  this.utg = [];\n  this.gtu = [];\n\n  var f = this.es / (1 + Math.sqrt(1 - this.es));\n  var n = f / (2 - f);\n  var np = n;\n\n  this.cgb[0] = n * (2 + n * (-2 / 3 + n * (-2 + n * (116 / 45 + n * (26 / 45 + n * (-2854 / 675 ))))));\n  this.cbg[0] = n * (-2 + n * ( 2 / 3 + n * ( 4 / 3 + n * (-82 / 45 + n * (32 / 45 + n * (4642 / 4725))))));\n\n  np = np * n;\n  this.cgb[1] = np * (7 / 3 + n * (-8 / 5 + n * (-227 / 45 + n * (2704 / 315 + n * (2323 / 945)))));\n  this.cbg[1] = np * (5 / 3 + n * (-16 / 15 + n * ( -13 / 9 + n * (904 / 315 + n * (-1522 / 945)))));\n\n  np = np * n;\n  this.cgb[2] = np * (56 / 15 + n * (-136 / 35 + n * (-1262 / 105 + n * (73814 / 2835))));\n  this.cbg[2] = np * (-26 / 15 + n * (34 / 21 + n * (8 / 5 + n * (-12686 / 2835))));\n\n  np = np * n;\n  this.cgb[3] = np * (4279 / 630 + n * (-332 / 35 + n * (-399572 / 14175)));\n  this.cbg[3] = np * (1237 / 630 + n * (-12 / 5 + n * ( -24832 / 14175)));\n\n  np = np * n;\n  this.cgb[4] = np * (4174 / 315 + n * (-144838 / 6237));\n  this.cbg[4] = np * (-734 / 315 + n * (109598 / 31185));\n\n  np = np * n;\n  this.cgb[5] = np * (601676 / 22275);\n  this.cbg[5] = np * (444337 / 155925);\n\n  np = Math.pow(n, 2);\n  this.Qn = this.k0 / (1 + n) * (1 + np * (1 / 4 + np * (1 / 64 + np / 256)));\n\n  this.utg[0] = n * (-0.5 + n * ( 2 / 3 + n * (-37 / 96 + n * ( 1 / 360 + n * (81 / 512 + n * (-96199 / 604800))))));\n  this.gtu[0] = n * (0.5 + n * (-2 / 3 + n * (5 / 16 + n * (41 / 180 + n * (-127 / 288 + n * (7891 / 37800))))));\n\n  this.utg[1] = np * (-1 / 48 + n * (-1 / 15 + n * (437 / 1440 + n * (-46 / 105 + n * (1118711 / 3870720)))));\n  this.gtu[1] = np * (13 / 48 + n * (-3 / 5 + n * (557 / 1440 + n * (281 / 630 + n * (-1983433 / 1935360)))));\n\n  np = np * n;\n  this.utg[2] = np * (-17 / 480 + n * (37 / 840 + n * (209 / 4480 + n * (-5569 / 90720 ))));\n  this.gtu[2] = np * (61 / 240 + n * (-103 / 140 + n * (15061 / 26880 + n * (167603 / 181440))));\n\n  np = np * n;\n  this.utg[3] = np * (-4397 / 161280 + n * (11 / 504 + n * (830251 / 7257600)));\n  this.gtu[3] = np * (49561 / 161280 + n * (-179 / 168 + n * (6601661 / 7257600)));\n\n  np = np * n;\n  this.utg[4] = np * (-4583 / 161280 + n * (108847 / 3991680));\n  this.gtu[4] = np * (34729 / 80640 + n * (-3418889 / 1995840));\n\n  np = np * n;\n  this.utg[5] = np * (-20648693 / 638668800);\n  this.gtu[5] = np * (212378941 / 319334400);\n\n  var Z = gatg(this.cbg, this.lat0);\n  this.Zb = -this.Qn * (Z + clens(this.gtu, 2 * Z));\n}\n\nexport function forward(p) {\n  var Ce = adjust_lon(p.x - this.long0);\n  var Cn = p.y;\n\n  Cn = gatg(this.cbg, Cn);\n  var sin_Cn = Math.sin(Cn);\n  var cos_Cn = Math.cos(Cn);\n  var sin_Ce = Math.sin(Ce);\n  var cos_Ce = Math.cos(Ce);\n\n  Cn = Math.atan2(sin_Cn, cos_Ce * cos_Cn);\n  Ce = Math.atan2(sin_Ce * cos_Cn, hypot(sin_Cn, cos_Cn * cos_Ce));\n  Ce = asinhy(Math.tan(Ce));\n\n  var tmp = clens_cmplx(this.gtu, 2 * Cn, 2 * Ce);\n\n  Cn = Cn + tmp[0];\n  Ce = Ce + tmp[1];\n\n  var x;\n  var y;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    x = this.a * (this.Qn * Ce) + this.x0;\n    y = this.a * (this.Qn * Cn + this.Zb) + this.y0;\n  }\n  else {\n    x = Infinity;\n    y = Infinity;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\nexport function inverse(p) {\n  var Ce = (p.x - this.x0) * (1 / this.a);\n  var Cn = (p.y - this.y0) * (1 / this.a);\n\n  Cn = (Cn - this.Zb) / this.Qn;\n  Ce = Ce / this.Qn;\n\n  var lon;\n  var lat;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    var tmp = clens_cmplx(this.utg, 2 * Cn, 2 * Ce);\n\n    Cn = Cn + tmp[0];\n    Ce = Ce + tmp[1];\n    Ce = Math.atan(sinh(Ce));\n\n    var sin_Cn = Math.sin(Cn);\n    var cos_Cn = Math.cos(Cn);\n    var sin_Ce = Math.sin(Ce);\n    var cos_Ce = Math.cos(Ce);\n\n    Cn = Math.atan2(sin_Cn * cos_Ce, hypot(sin_Ce, cos_Ce * cos_Cn));\n    Ce = Math.atan2(sin_Ce, cos_Ce * cos_Cn);\n\n    lon = adjust_lon(Ce + this.long0);\n    lat = gatg(this.cgb, Cn);\n  }\n  else {\n    lon = Infinity;\n    lat = Infinity;\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Extended_Transverse_Mercator\", \"Extended Transverse Mercator\", \"etmerc\", \"Transverse_Mercator\", \"Transverse Mercator\", \"Gauss Kruger\", \"Gauss_Kruger\", \"tmerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from './adjust_lon';\n\nexport default function(zone, lon) {\n  if (zone === undefined) {\n    zone = Math.floor((adjust_lon(lon) + Math.PI) * 30 / Math.PI) + 1;\n\n    if (zone < 0) {\n      return 0;\n    } else if (zone > 60) {\n      return 60;\n    }\n  }\n  return zone;\n}\n","import adjust_zone from '../common/adjust_zone';\nimport etmerc from './etmerc';\nexport var dependsOn = 'etmerc';\nimport {D2R} from '../constants/values';\n\n\nexport function init() {\n  var zone = adjust_zone(this.zone, this.long0);\n  if (zone === undefined) {\n    throw new Error('unknown utm zone');\n  }\n  this.lat0 = 0;\n  this.long0 =  ((6 * Math.abs(zone)) - 183) * D2R;\n  this.x0 = 500000;\n  this.y0 = this.utmSouth ? 10000000 : 0;\n  this.k0 = 0.9996;\n\n  etmerc.init.apply(this);\n  this.forward = etmerc.forward;\n  this.inverse = etmerc.inverse;\n}\n\nexport var names = [\"Universal Transverse Mercator System\", \"utm\"];\nexport default {\n  init: init,\n  names: names,\n  dependsOn: dependsOn\n};\n","export default function(esinp, exp) {\n  return (Math.pow((1 - esinp) / (1 + esinp), exp));\n}","import srat from '../common/srat';\nvar MAX_ITER = 20;\nimport {HALF_PI, FORTPI} from '../constants/values';\n\nexport function init() {\n  var sphi = Math.sin(this.lat0);\n  var cphi = Math.cos(this.lat0);\n  cphi *= cphi;\n  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n  this.phic0 = Math.asin(sphi / this.C);\n  this.ratexp = 0.5 * this.C * this.e;\n  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n  p.x = this.C * lon;\n  return p;\n}\n\nexport function inverse(p) {\n  var DEL_TOL = 1e-14;\n  var lon = p.x / this.C;\n  var lat = p.y;\n  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n  for (var i = MAX_ITER; i > 0; --i) {\n    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;\n    if (Math.abs(lat - p.y) < DEL_TOL) {\n      break;\n    }\n    p.y = lat;\n  }\n  /* convergence failed */\n  if (!i) {\n    return null;\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gauss\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import gauss from './gauss';\nimport adjust_lon from '../common/adjust_lon';\nimport hypot from '../common/hypot';\n\nexport function init() {\n  gauss.init.apply(this);\n  if (!this.rc) {\n    return;\n  }\n  this.sinc0 = Math.sin(this.phic0);\n  this.cosc0 = Math.cos(this.phic0);\n  this.R2 = 2 * this.rc;\n  if (!this.title) {\n    this.title = \"Oblique Stereographic Alternative\";\n  }\n}\n\nexport function forward(p) {\n  var sinc, cosc, cosl, k;\n  p.x = adjust_lon(p.x - this.long0);\n  gauss.forward.apply(this, [p]);\n  sinc = Math.sin(p.y);\n  cosc = Math.cos(p.y);\n  cosl = Math.cos(p.x);\n  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n  p.x = k * cosc * Math.sin(p.x);\n  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n  p.x = this.a * p.x + this.x0;\n  p.y = this.a * p.y + this.y0;\n  return p;\n}\n\nexport function inverse(p) {\n  var sinc, cosc, lon, lat, rho;\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n  if ((rho = hypot(p.x, p.y))) {\n    var c = 2 * Math.atan2(rho, this.R2);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  gauss.inverse.apply(this, [p]);\n  p.x = adjust_lon(p.x + this.long0);\n  return p;\n}\n\nexport var names = [\"Stereographic_North_Pole\", \"Oblique_Stereographic\", \"sterea\",\"Oblique Stereographic Alternative\",\"Double_Stereographic\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {EPSLN, HALF_PI} from '../constants/values';\n\nimport sign from '../common/sign';\nimport msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function ssfn_(phit, sinphi, eccen) {\n  sinphi *= eccen;\n  return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));\n}\n\nexport function init() {\n\n  // setting default parameters\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n\n  this.coslat0 = Math.cos(this.lat0);\n  this.sinlat0 = Math.sin(this.lat0);\n  if (this.sphere) {\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));\n    }\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (this.lat0 > 0) {\n        //North pole\n        //trace('stere:north pole');\n        this.con = 1;\n      }\n      else {\n        //South pole\n        //trace('stere:south pole');\n        this.con = -1;\n      }\n    }\n    this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN && Math.abs(Math.cos(this.lat_ts)) > EPSLN) {\n      // When k0 is 1 (default value) and lat_ts is a vaild number and lat0 is at a pole and lat_ts is not at a pole\n      // Recalculate k0 using formula 21-35 from p161 of Snyder, 1987\n      this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));\n    }\n    this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);\n    this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;\n    this.cosX0 = Math.cos(this.X0);\n    this.sinX0 = Math.sin(this.X0);\n  }\n}\n\n// Stereographic forward equations--mapping lat,long to x,y\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinlat = Math.sin(lat);\n  var coslat = Math.cos(lat);\n  var A, X, sinX, cosX, ts, rh;\n  var dlon = adjust_lon(lon - this.long0);\n\n  if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {\n    //case of the origine point\n    //trace('stere:this is the origin point');\n    p.x = NaN;\n    p.y = NaN;\n    return p;\n  }\n  if (this.sphere) {\n    //trace('stere:sphere case');\n    A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));\n    p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;\n    p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;\n    return p;\n  }\n  else {\n    X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;\n    cosX = Math.cos(X);\n    sinX = Math.sin(X);\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      ts = tsfnz(this.e, lat * this.con, this.con * sinlat);\n      rh = 2 * this.a * this.k0 * ts / this.cons;\n      p.x = this.x0 + rh * Math.sin(lon - this.long0);\n      p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);\n      //trace(p.toString());\n      return p;\n    }\n    else if (Math.abs(this.sinlat0) < EPSLN) {\n      //Eq\n      //trace('stere:equateur');\n      A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));\n      p.y = A * sinX;\n    }\n    else {\n      //other case\n      //trace('stere:normal case');\n      A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));\n      p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;\n    }\n    p.x = A * cosX * Math.sin(dlon) + this.x0;\n  }\n  //trace(p.toString());\n  return p;\n}\n\n//* Stereographic inverse equations--mapping x,y to lat/long\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat, ts, ce, Chi;\n  var rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  if (this.sphere) {\n    var c = 2 * Math.atan(rh / (2 * this.a * this.k0));\n    lon = this.long0;\n    lat = this.lat0;\n    if (rh <= EPSLN) {\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);\n    if (Math.abs(this.coslat0) < EPSLN) {\n      if (this.lat0 > 0) {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      }\n      else {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      }\n    }\n    else {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (rh <= EPSLN) {\n        lat = this.lat0;\n        lon = this.long0;\n        p.x = lon;\n        p.y = lat;\n        //trace(p.toString());\n        return p;\n      }\n      p.x *= this.con;\n      p.y *= this.con;\n      ts = rh * this.cons / (2 * this.a * this.k0);\n      lat = this.con * phi2z(this.e, ts);\n      lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));\n    }\n    else {\n      ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));\n      lon = this.long0;\n      if (rh <= EPSLN) {\n        Chi = this.X0;\n      }\n      else {\n        Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));\n      }\n      lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n\n  //trace(p.toString());\n  return p;\n\n}\n\nexport var names = [\"stere\", \"Stereographic_South_Pole\", \"Polar Stereographic (variant B)\", \"Polar_Stereographic\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  ssfn_: ssfn_\n};\n","/*\n  references:\n    Formules et constantes pour le Calcul pour la\n    projection cylindrique conforme à axe oblique et pour la transformation entre\n    des systèmes de référence.\n    http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf\n  */\n\nexport function init() {\n  var phy0 = this.lat0;\n  this.lambda0 = this.long0;\n  var sinPhy0 = Math.sin(phy0);\n  var semiMajorAxis = this.a;\n  var invF = this.rf;\n  var flattening = 1 / invF;\n  var e2 = 2 * flattening - Math.pow(flattening, 2);\n  var e = this.e = Math.sqrt(e2);\n  this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));\n  this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));\n  this.b0 = Math.asin(sinPhy0 / this.alpha);\n  var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));\n  var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));\n  var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));\n  this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;\n}\n\nexport function forward(p) {\n  var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));\n  var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));\n  var S = -this.alpha * (Sa1 + Sa2) + this.K;\n\n  // spheric latitude\n  var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);\n\n  // spheric longitude\n  var I = this.alpha * (p.x - this.lambda0);\n\n  // psoeudo equatorial rotation\n  var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));\n\n  var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));\n\n  p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;\n  p.x = this.R * rotI + this.x0;\n  return p;\n}\n\nexport function inverse(p) {\n  var Y = p.x - this.x0;\n  var X = p.y - this.y0;\n\n  var rotI = Y / this.R;\n  var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);\n\n  var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));\n  var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));\n\n  var lambda = this.lambda0 + I / this.alpha;\n\n  var S = 0;\n  var phy = b;\n  var prevPhy = -1000;\n  var iteration = 0;\n  while (Math.abs(phy - prevPhy) > 0.0000001) {\n    if (++iteration > 20) {\n      //...reportError(\"omercFwdInfinity\");\n      return;\n    }\n    //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));\n    S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));\n    prevPhy = phy;\n    phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;\n  }\n\n  p.x = lambda;\n  p.y = phy;\n  return p;\n}\n\nexport var names = [\"somerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import tsfnz from '../common/tsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport { D2R, EPSLN, HALF_PI, TWO_PI, FORTPI } from '../constants/values';\n\nvar TOL = 1e-7;\n\nfunction isTypeA(P) {\n  var typeAProjections = ['Hotine_Oblique_Mercator','Hotine_Oblique_Mercator_Azimuth_Natural_Origin'];\n  var projectionName = typeof P.PROJECTION === \"object\" ? Object.keys(P.PROJECTION)[0] : P.PROJECTION;\n  \n  return 'no_uoff' in P || 'no_off' in P || typeAProjections.indexOf(projectionName) !== -1;\n}\n\n\n/* Initialize the Oblique Mercator  projection\n    ------------------------------------------*/\nexport function init() {  \n  var con, com, cosph0, D, F, H, L, sinph0, p, J, gamma = 0,\n    gamma0, lamc = 0, lam1 = 0, lam2 = 0, phi1 = 0, phi2 = 0, alpha_c = 0, AB;\n  \n  // only Type A uses the no_off or no_uoff property\n  // https://github.com/OSGeo/proj.4/issues/104\n  this.no_off = isTypeA(this);\n  this.no_rot = 'no_rot' in this;\n  \n  var alp = false;\n  if (\"alpha\" in this) {\n    alp = true;\n  }\n\n  var gam = false;\n  if (\"rectified_grid_angle\" in this) {\n    gam = true;\n  }\n\n  if (alp) {\n    alpha_c = this.alpha;\n  }\n  \n  if (gam) {\n    gamma = (this.rectified_grid_angle * D2R);\n  }\n  \n  if (alp || gam) {\n    lamc = this.longc;\n  } else {\n    lam1 = this.long1;\n    phi1 = this.lat1;\n    lam2 = this.long2;\n    phi2 = this.lat2;\n    \n    if (Math.abs(phi1 - phi2) <= TOL || (con = Math.abs(phi1)) <= TOL ||\n        Math.abs(con - HALF_PI) <= TOL || Math.abs(Math.abs(this.lat0) - HALF_PI) <= TOL ||\n        Math.abs(Math.abs(phi2) - HALF_PI) <= TOL) {\n      throw new Error();\n    }\n  }\n  \n  var one_es = 1.0 - this.es;\n  com = Math.sqrt(one_es);\n  \n  if (Math.abs(this.lat0) > EPSLN) {\n    sinph0 = Math.sin(this.lat0);\n    cosph0 = Math.cos(this.lat0);\n    con = 1 - this.es * sinph0 * sinph0;\n    this.B = cosph0 * cosph0;\n    this.B = Math.sqrt(1 + this.es * this.B * this.B / one_es);\n    this.A = this.B * this.k0 * com / con;\n    D = this.B * com / (cosph0 * Math.sqrt(con));\n    F = D * D -1;\n    \n    if (F <= 0) {\n      F = 0;\n    } else {\n      F = Math.sqrt(F);\n      if (this.lat0 < 0) {\n        F = -F;\n      }\n    }\n    \n    this.E = F += D;\n    this.E *= Math.pow(tsfnz(this.e, this.lat0, sinph0), this.B);\n  } else {\n    this.B = 1 / com;\n    this.A = this.k0;\n    this.E = D = F = 1;\n  }\n  \n  if (alp || gam) {\n    if (alp) {\n      gamma0 = Math.asin(Math.sin(alpha_c) / D);\n      if (!gam) {\n        gamma = alpha_c;\n      }\n    } else {\n      gamma0 = gamma;\n      alpha_c = Math.asin(D * Math.sin(gamma0));\n    }\n    this.lam0 = lamc - Math.asin(0.5 * (F - 1 / F) * Math.tan(gamma0)) / this.B;\n  } else {\n    H = Math.pow(tsfnz(this.e, phi1, Math.sin(phi1)), this.B);\n    L = Math.pow(tsfnz(this.e, phi2, Math.sin(phi2)), this.B);\n    F = this.E / H;\n    p = (L - H) / (L + H);\n    J = this.E * this.E;\n    J = (J - L * H) / (J + L * H);\n    con = lam1 - lam2;\n    \n    if (con < -Math.pi) {\n      lam2 -=TWO_PI;\n    } else if (con > Math.pi) {\n      lam2 += TWO_PI;\n    }\n    \n    this.lam0 = adjust_lon(0.5 * (lam1 + lam2) - Math.atan(J * Math.tan(0.5 * this.B * (lam1 - lam2)) / p) / this.B);\n    gamma0 = Math.atan(2 * Math.sin(this.B * adjust_lon(lam1 - this.lam0)) / (F - 1 / F));\n    gamma = alpha_c = Math.asin(D * Math.sin(gamma0));\n  }\n  \n  this.singam = Math.sin(gamma0);\n  this.cosgam = Math.cos(gamma0);\n  this.sinrot = Math.sin(gamma);\n  this.cosrot = Math.cos(gamma);\n  \n  this.rB = 1 / this.B;\n  this.ArB = this.A * this.rB;\n  this.BrA = 1 / this.ArB;\n  AB = this.A * this.B;\n  \n  if (this.no_off) {\n    this.u_0 = 0;\n  } else {\n    this.u_0 = Math.abs(this.ArB * Math.atan(Math.sqrt(D * D - 1) / Math.cos(alpha_c)));\n    \n    if (this.lat0 < 0) {\n      this.u_0 = - this.u_0;\n    }  \n  }\n    \n  F = 0.5 * gamma0;\n  this.v_pole_n = this.ArB * Math.log(Math.tan(FORTPI - F));\n  this.v_pole_s = this.ArB * Math.log(Math.tan(FORTPI + F));\n}\n\n\n/* Oblique Mercator forward equations--mapping lat,long to x,y\n    ----------------------------------------------------------*/\nexport function forward(p) {\n  var coords = {};\n  var S, T, U, V, W, temp, u, v;\n  p.x = p.x - this.lam0;\n  \n  if (Math.abs(Math.abs(p.y) - HALF_PI) > EPSLN) {\n    W = this.E / Math.pow(tsfnz(this.e, p.y, Math.sin(p.y)), this.B);\n    \n    temp = 1 / W;\n    S = 0.5 * (W - temp);\n    T = 0.5 * (W + temp);\n    V = Math.sin(this.B * p.x);\n    U = (S * this.singam - V * this.cosgam) / T;\n        \n    if (Math.abs(Math.abs(U) - 1.0) < EPSLN) {\n      throw new Error();\n    }\n    \n    v = 0.5 * this.ArB * Math.log((1 - U)/(1 + U));\n    temp = Math.cos(this.B * p.x);\n    \n    if (Math.abs(temp) < TOL) {\n      u = this.A * p.x;\n    } else {\n      u = this.ArB * Math.atan2((S * this.cosgam + V * this.singam), temp);\n    }    \n  } else {\n    v = p.y > 0 ? this.v_pole_n : this.v_pole_s;\n    u = this.ArB * p.y;\n  }\n     \n  if (this.no_rot) {\n    coords.x = u;\n    coords.y = v;\n  } else {\n    u -= this.u_0;\n    coords.x = v * this.cosrot + u * this.sinrot;\n    coords.y = u * this.cosrot - v * this.sinrot;\n  }\n  \n  coords.x = (this.a * coords.x + this.x0);\n  coords.y = (this.a * coords.y + this.y0);\n  \n  return coords;\n}\n\nexport function inverse(p) {\n  var u, v, Qp, Sp, Tp, Vp, Up;\n  var coords = {};\n  \n  p.x = (p.x - this.x0) * (1.0 / this.a);\n  p.y = (p.y - this.y0) * (1.0 / this.a);\n\n  if (this.no_rot) {\n    v = p.y;\n    u = p.x;\n  } else {\n    v = p.x * this.cosrot - p.y * this.sinrot;\n    u = p.y * this.cosrot + p.x * this.sinrot + this.u_0;\n  }\n  \n  Qp = Math.exp(-this.BrA * v);\n  Sp = 0.5 * (Qp - 1 / Qp);\n  Tp = 0.5 * (Qp + 1 / Qp);\n  Vp = Math.sin(this.BrA * u);\n  Up = (Vp * this.cosgam + Sp * this.singam) / Tp;\n  \n  if (Math.abs(Math.abs(Up) - 1) < EPSLN) {\n    coords.x = 0;\n    coords.y = Up < 0 ? -HALF_PI : HALF_PI;\n  } else {\n    coords.y = this.E / Math.sqrt((1 + Up) / (1 - Up));\n    coords.y = phi2z(this.e, Math.pow(coords.y, 1 / this.B));\n    \n    if (coords.y === Infinity) {\n      throw new Error();\n    }\n        \n    coords.x = -this.rB * Math.atan2((Sp * this.cosgam - Vp * this.singam), Math.cos(this.BrA * u));\n  }\n  \n  coords.x += this.lam0;\n  \n  return coords;\n}\n\nexport var names = [\"Hotine_Oblique_Mercator\", \"Hotine Oblique Mercator\", \"Hotine_Oblique_Mercator_Azimuth_Natural_Origin\", \"Hotine_Oblique_Mercator_Two_Point_Natural_Origin\", \"Hotine_Oblique_Mercator_Azimuth_Center\", \"Oblique_Mercator\", \"omerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport sign from '../common/sign';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport {HALF_PI, EPSLN} from '../constants/values';\nexport function init() {\n  \n  //double lat0;                    /* the reference latitude               */\n  //double long0;                   /* the reference longitude              */\n  //double lat1;                    /* first standard parallel              */\n  //double lat2;                    /* second standard parallel             */\n  //double r_maj;                   /* major axis                           */\n  //double r_min;                   /* minor axis                           */\n  //double false_east;              /* x offset in meters                   */\n  //double false_north;             /* y offset in meters                   */\n  \n  //the above value can be set with proj4.defs\n  //example: proj4.defs(\"EPSG:2154\",\"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\");\n\n  if (!this.lat2) {\n    this.lat2 = this.lat1;\n  } //if lat2 is not defined\n  if (!this.k0) {\n    this.k0 = 1;\n  }\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n\n  var temp = this.b / this.a;\n  this.e = Math.sqrt(1 - temp * temp);\n\n  var sin1 = Math.sin(this.lat1);\n  var cos1 = Math.cos(this.lat1);\n  var ms1 = msfnz(this.e, sin1, cos1);\n  var ts1 = tsfnz(this.e, this.lat1, sin1);\n\n  var sin2 = Math.sin(this.lat2);\n  var cos2 = Math.cos(this.lat2);\n  var ms2 = msfnz(this.e, sin2, cos2);\n  var ts2 = tsfnz(this.e, this.lat2, sin2);\n\n  var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);\n  }\n  else {\n    this.ns = sin1;\n  }\n  if (isNaN(this.ns)) {\n    this.ns = sin1;\n  }\n  this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));\n  this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);\n  if (!this.title) {\n    this.title = \"Lambert Conformal Conic\";\n  }\n}\n\n// Lambert Conformal conic forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  // singular cases :\n  if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {\n    lat = sign(lat) * (HALF_PI - 2 * EPSLN);\n  }\n\n  var con = Math.abs(Math.abs(lat) - HALF_PI);\n  var ts, rh1;\n  if (con > EPSLN) {\n    ts = tsfnz(this.e, lat, Math.sin(lat));\n    rh1 = this.a * this.f0 * Math.pow(ts, this.ns);\n  }\n  else {\n    con = lat * this.ns;\n    if (con <= 0) {\n      return null;\n    }\n    rh1 = 0;\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;\n  p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;\n\n  return p;\n}\n\n// Lambert Conformal Conic inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var rh1, con, ts;\n  var lat, lon;\n  var x = (p.x - this.x0) / this.k0;\n  var y = (this.rh - (p.y - this.y0) / this.k0);\n  if (this.ns > 0) {\n    rh1 = Math.sqrt(x * x + y * y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(x * x + y * y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2((con * x), (con * y));\n  }\n  if ((rh1 !== 0) || (this.ns > 0)) {\n    con = 1 / this.ns;\n    ts = Math.pow((rh1 / (this.a * this.f0)), con);\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  else {\n    lat = -HALF_PI;\n  }\n  lon = adjust_lon(theta / this.ns + this.long0);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\n  \"Lambert Tangential Conformal Conic Projection\",\n  \"Lambert_Conformal_Conic\",\n  \"Lambert_Conformal_Conic_1SP\",\n  \"Lambert_Conformal_Conic_2SP\",\n  \"lcc\",\n  \"Lambert Conic Conformal (1SP)\",\n  \"Lambert Conic Conformal (2SP)\"\n];\n\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  this.a = 6377397.155;\n  this.es = 0.006674372230614;\n  this.e = Math.sqrt(this.es);\n  if (!this.lat0) {\n    this.lat0 = 0.863937979737193;\n  }\n  if (!this.long0) {\n    this.long0 = 0.7417649320975901 - 0.308341501185665;\n  }\n  /* if scale not set default to 0.9999 */\n  if (!this.k0) {\n    this.k0 = 0.9999;\n  }\n  this.s45 = 0.785398163397448; /* 45 */\n  this.s90 = 2 * this.s45;\n  this.fi0 = this.lat0;\n  this.e2 = this.es;\n  this.e = Math.sqrt(this.e2);\n  this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));\n  this.uq = 1.04216856380474;\n  this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);\n  this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);\n  this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;\n  this.k1 = this.k0;\n  this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));\n  this.s0 = 1.37008346281555;\n  this.n = Math.sin(this.s0);\n  this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);\n  this.ad = this.s90 - this.uq;\n}\n\n/* ellipsoid */\n/* calculate xy from lat/lon */\n/* Constants, identical to inverse transform function */\nexport function forward(p) {\n  var gfi, u, deltav, s, d, eps, ro;\n  var lon = p.x;\n  var lat = p.y;\n  var delta_lon = adjust_lon(lon - this.long0);\n  /* Transformation */\n  gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));\n  u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);\n  deltav = -delta_lon * this.alfa;\n  s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));\n  d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));\n  eps = this.n * d;\n  ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);\n  p.y = ro * Math.cos(eps) / 1;\n  p.x = ro * Math.sin(eps) / 1;\n\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  return (p);\n}\n\n/* calculate lat/lon from xy */\nexport function inverse(p) {\n  var u, deltav, s, d, eps, ro, fi1;\n  var ok;\n\n  /* Transformation */\n  /* revert y, x*/\n  var tmp = p.x;\n  p.x = p.y;\n  p.y = tmp;\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  ro = Math.sqrt(p.x * p.x + p.y * p.y);\n  eps = Math.atan2(p.y, p.x);\n  d = eps / Math.sin(this.s0);\n  s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);\n  u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));\n  deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));\n  p.x = this.long0 - deltav / this.alfa;\n  fi1 = u;\n  ok = 0;\n  var iter = 0;\n  do {\n    p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);\n    if (Math.abs(fi1 - p.y) < 0.0000000001) {\n      ok = 1;\n    }\n    fi1 = p.y;\n    iter += 1;\n  } while (ok === 0 && iter < 15);\n  if (iter >= 15) {\n    return null;\n  }\n\n  return (p);\n}\n\nexport var names = [\"Krovak\", \"krovak\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(e0, e1, e2, e3, phi) {\n  return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));\n}","export default function(x) {\n  return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));\n}","export default function(x) {\n  return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));\n}","export default function(x) {\n  return (0.05859375 * x * x * (1 + 0.75 * x));\n}","export default function(x) {\n  return (x * x * x * (35 / 3072));\n}","export default function(a, e, sinphi) {\n  var temp = e * sinphi;\n  return a / Math.sqrt(1 - temp * temp);\n}","import {HALF_PI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));\n}\n","export default function(ml, e0, e1, e2, e3) {\n  var phi;\n  var dphi;\n\n  phi = ml / e0;\n  for (var i = 0; i < 15; i++) {\n    dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //..reportError(\"IMLFN-CONV:Latitude failed to converge after 15 iterations\");\n  return NaN;\n}","import mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nexport function init() {\n  if (!this.sphere) {\n    this.e0 = e0fn(this.es);\n    this.e1 = e1fn(this.es);\n    this.e2 = e2fn(this.es);\n    this.e3 = e3fn(this.es);\n    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  }\n}\n\n/* Cassini forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y;\n  var lam = p.x;\n  var phi = p.y;\n  lam = adjust_lon(lam - this.long0);\n\n  if (this.sphere) {\n    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n  }\n  else {\n    //ellipsoid\n    var sinphi = Math.sin(phi);\n    var cosphi = Math.cos(phi);\n    var nl = gN(this.a, this.e, sinphi);\n    var tl = Math.tan(phi) * Math.tan(phi);\n    var al = lam * Math.cos(phi);\n    var asq = al * al;\n    var cl = this.es * cosphi * cosphi / (1 - this.es);\n    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n\n    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n\n\n  }\n\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var phi, lam;\n\n  if (this.sphere) {\n    var dd = y + this.lat0;\n    phi = Math.asin(Math.sin(dd) * Math.cos(x));\n    lam = Math.atan2(Math.tan(x), Math.cos(dd));\n  }\n  else {\n    /* ellipsoid */\n    var ml1 = this.ml0 / this.a + y;\n    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n      p.x = this.long0;\n      p.y = HALF_PI;\n      if (y < 0) {\n        p.y *= -1;\n      }\n      return p;\n    }\n    var nl1 = gN(this.a, this.e, Math.sin(phi1));\n\n    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n    var tl1 = Math.pow(Math.tan(phi1), 2);\n    var dl = x * this.a / nl1;\n    var dsq = dl * dl;\n    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n\n  }\n\n  p.x = adjust_lon(lam + this.long0);\n  p.y = adjust_lat(phi);\n  return p;\n\n}\n\nexport var names = [\"Cassini\", \"Cassini_Soldner\", \"cass\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(eccent, sinphi) {\n  var con;\n  if (eccent > 1.0e-7) {\n    con = eccent * sinphi;\n    return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));\n  }\n  else {\n    return (2 * sinphi);\n  }\n}","\nimport {HALF_PI, EPSLN, FORTPI} from '../constants/values';\n\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\nexport var S_POLE = 1;\n\nexport var N_POLE = 2;\nexport var EQUIT = 3;\nexport var OBLIQ = 4;\n\n/* Initialize the Lambert Azimuthal Equal Area projection\n  ------------------------------------------------------*/\nexport function init() {\n  var t = Math.abs(this.lat0);\n  if (Math.abs(t - HALF_PI) < EPSLN) {\n    this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;\n  }\n  else if (Math.abs(t) < EPSLN) {\n    this.mode = this.EQUIT;\n  }\n  else {\n    this.mode = this.OBLIQ;\n  }\n  if (this.es > 0) {\n    var sinphi;\n\n    this.qp = qsfnz(this.e, 1);\n    this.mmf = 0.5 / (1 - this.es);\n    this.apa = authset(this.es);\n    switch (this.mode) {\n    case this.N_POLE:\n      this.dd = 1;\n      break;\n    case this.S_POLE:\n      this.dd = 1;\n      break;\n    case this.EQUIT:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      this.dd = 1 / this.rq;\n      this.xmf = 1;\n      this.ymf = 0.5 * this.qp;\n      break;\n    case this.OBLIQ:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      sinphi = Math.sin(this.lat0);\n      this.sinb1 = qsfnz(this.e, sinphi) / this.qp;\n      this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);\n      this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);\n      this.ymf = (this.xmf = this.rq) / this.dd;\n      this.xmf *= this.dd;\n      break;\n    }\n  }\n  else {\n    if (this.mode === this.OBLIQ) {\n      this.sinph0 = Math.sin(this.lat0);\n      this.cosph0 = Math.cos(this.lat0);\n    }\n  }\n}\n\n/* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;\n  var lam = p.x;\n  var phi = p.y;\n\n  lam = adjust_lon(lam - this.long0);\n  if (this.sphere) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    coslam = Math.cos(lam);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      if (y <= EPSLN) {\n        return null;\n      }\n      y = Math.sqrt(2 / y);\n      x = y * cosphi * Math.sin(lam);\n      y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        coslam = -coslam;\n      }\n      if (Math.abs(phi + this.lat0) < EPSLN) {\n        return null;\n      }\n      y = FORTPI - phi * 0.5;\n      y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));\n      x = y * Math.sin(lam);\n      y *= coslam;\n    }\n  }\n  else {\n    sinb = 0;\n    cosb = 0;\n    b = 0;\n    coslam = Math.cos(lam);\n    sinlam = Math.sin(lam);\n    sinphi = Math.sin(phi);\n    q = qsfnz(this.e, sinphi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinb = q / this.qp;\n      cosb = Math.sqrt(1 - sinb * sinb);\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n      b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;\n      break;\n    case this.EQUIT:\n      b = 1 + cosb * coslam;\n      break;\n    case this.N_POLE:\n      b = HALF_PI + phi;\n      q = this.qp - q;\n      break;\n    case this.S_POLE:\n      b = phi - HALF_PI;\n      q = this.qp + q;\n      break;\n    }\n    if (Math.abs(b) < EPSLN) {\n      return null;\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n    case this.EQUIT:\n      b = Math.sqrt(2 / b);\n      if (this.mode === this.OBLIQ) {\n        y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);\n      }\n      else {\n        y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;\n      }\n      x = this.xmf * b * cosb * sinlam;\n      break;\n    case this.N_POLE:\n    case this.S_POLE:\n      if (q >= 0) {\n        x = (b = Math.sqrt(q)) * sinlam;\n        y = coslam * ((this.mode === this.S_POLE) ? b : -b);\n      }\n      else {\n        x = y = 0;\n      }\n      break;\n    }\n  }\n\n  p.x = this.a * x + this.x0;\n  p.y = this.a * y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var lam, phi, cCe, sCe, q, rho, ab;\n  if (this.sphere) {\n    var cosz = 0,\n      rh, sinz = 0;\n\n    rh = Math.sqrt(x * x + y * y);\n    phi = rh * 0.5;\n    if (phi > 1) {\n      return null;\n    }\n    phi = 2 * Math.asin(phi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinz = Math.sin(phi);\n      cosz = Math.cos(phi);\n    }\n    switch (this.mode) {\n    case this.EQUIT:\n      phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);\n      x *= sinz;\n      y = cosz * rh;\n      break;\n    case this.OBLIQ:\n      phi = (Math.abs(rh) <= EPSLN) ? this.lat0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);\n      x *= sinz * this.cosph0;\n      y = (cosz - Math.sin(phi) * this.sinph0) * rh;\n      break;\n    case this.N_POLE:\n      y = -y;\n      phi = HALF_PI - phi;\n      break;\n    case this.S_POLE:\n      phi -= HALF_PI;\n      break;\n    }\n    lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);\n  }\n  else {\n    ab = 0;\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      x /= this.dd;\n      y *= this.dd;\n      rho = Math.sqrt(x * x + y * y);\n      if (rho < EPSLN) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      sCe = 2 * Math.asin(0.5 * rho / this.rq);\n      cCe = Math.cos(sCe);\n      x *= (sCe = Math.sin(sCe));\n      if (this.mode === this.OBLIQ) {\n        ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;\n        q = this.qp * ab;\n        y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;\n      }\n      else {\n        ab = y * sCe / rho;\n        q = this.qp * ab;\n        y = rho * cCe;\n      }\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        y = -y;\n      }\n      q = (x * x + y * y);\n      if (!q) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      ab = 1 - q / this.qp;\n      if (this.mode === this.S_POLE) {\n        ab = -ab;\n      }\n    }\n    lam = Math.atan2(x, y);\n    phi = authlat(Math.asin(ab), this.apa);\n  }\n\n  p.x = adjust_lon(this.long0 + lam);\n  p.y = phi;\n  return p;\n}\n\n/* determine latitude from authalic latitude */\nvar P00 = 0.33333333333333333333;\n\nvar P01 = 0.17222222222222222222;\nvar P02 = 0.10257936507936507936;\nvar P10 = 0.06388888888888888888;\nvar P11 = 0.06640211640211640211;\nvar P20 = 0.01641501294219154443;\n\nfunction authset(es) {\n  var t;\n  var APA = [];\n  APA[0] = es * P00;\n  t = es * es;\n  APA[0] += t * P01;\n  APA[1] = t * P10;\n  t *= es;\n  APA[0] += t * P02;\n  APA[1] += t * P11;\n  APA[2] = t * P20;\n  return APA;\n}\n\nfunction authlat(beta, APA) {\n  var t = beta + beta;\n  return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));\n}\n\nexport var names = [\"Lambert Azimuthal Equal Area\", \"Lambert_Azimuthal_Equal_Area\", \"laea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  S_POLE: S_POLE,\n  N_POLE: N_POLE,\n  EQUIT: EQUIT,\n  OBLIQ: OBLIQ\n};\n","export default function(x) {\n  if (Math.abs(x) > 1) {\n    x = (x > 1) ? 1 : -1;\n  }\n  return Math.asin(x);\n}","import msfnz from '../common/msfnz';\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e3 = Math.sqrt(this.es);\n\n  this.sin_po = Math.sin(this.lat1);\n  this.cos_po = Math.cos(this.lat1);\n  this.t1 = this.sin_po;\n  this.con = this.sin_po;\n  this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs1 = qsfnz(this.e3, this.sin_po);\n\n  this.sin_po = Math.sin(this.lat2);\n  this.cos_po = Math.cos(this.lat2);\n  this.t2 = this.sin_po;\n  this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs2 = qsfnz(this.e3, this.sin_po);\n\n  this.sin_po = Math.sin(this.lat0);\n  this.cos_po = Math.cos(this.lat0);\n  this.t3 = this.sin_po;\n  this.qs0 = qsfnz(this.e3, this.sin_po);\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);\n  }\n  else {\n    this.ns0 = this.con;\n  }\n  this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;\n  this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;\n}\n\n/* Albers Conical Equal Area forward equations--mapping lat,long to x,y\n  -------------------------------------------------------------------*/\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  this.sin_phi = Math.sin(lat);\n  this.cos_phi = Math.cos(lat);\n\n  var qs = qsfnz(this.e3, this.sin_phi);\n  var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;\n  var theta = this.ns0 * adjust_lon(lon - this.long0);\n  var x = rh1 * Math.sin(theta) + this.x0;\n  var y = this.rh - rh1 * Math.cos(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh1, qs, con, theta, lon, lat;\n\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  if (this.ns0 >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n  con = rh1 * this.ns0 / this.a;\n  if (this.sphere) {\n    lat = Math.asin((this.c - con * con) / (2 * this.ns0));\n  }\n  else {\n    qs = (this.c - con * con) / this.ns0;\n    lat = this.phi1z(this.e3, qs);\n  }\n\n  lon = adjust_lon(theta / this.ns0 + this.long0);\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\n/* Function to compute phi1, the latitude for the inverse of the\n   Albers Conical Equal-Area projection.\n-------------------------------------------*/\nexport function phi1z(eccent, qs) {\n  var sinphi, cosphi, con, com, dphi;\n  var phi = asinz(0.5 * qs);\n  if (eccent < EPSLN) {\n    return phi;\n  }\n\n  var eccnts = eccent * eccent;\n  for (var i = 1; i <= 25; i++) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    con = eccent * sinphi;\n    com = 1 - con * con;\n    dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi = phi + dphi;\n    if (Math.abs(dphi) <= 1e-7) {\n      return phi;\n    }\n  }\n  return null;\n}\n\nexport var names = [\"Albers_Conic_Equal_Area\", \"Albers\", \"aea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  phi1z: phi1z\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\n/*\n  reference:\n    Wolfram Mathworld \"Gnomonic Projection\"\n    http://mathworld.wolfram.com/GnomonicProjection.html\n    Accessed: 12th November 2009\n  */\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n  // Approximation for projecting points to the horizon (infinity)\n  this.infinity_dist = 1000 * this.a;\n  this.rc = 1;\n}\n\n/* Gnomonic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g;\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;\n  }\n  else {\n\n    // Point is in the opposing hemisphere and is unprojectable\n    // We still need to return a reasonable point, so we project\n    // to infinity, on a bearing\n    // equivalent to the northern hemisphere equivalent\n    // This is a reasonable approximation for short shapes and lines that\n    // straddle the horizon.\n\n    x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);\n    y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* Rho */\n  var sinc, cosc;\n  var c;\n  var lon, lat;\n\n  /* Inverse equations\n      -----------------*/\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n\n  if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    c = Math.atan2(rh, this.rc);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n\n    lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);\n    lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);\n    lon = adjust_lon(this.long0 + lon);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gnom\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, q) {\n  var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));\n  if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {\n    if (q < 0) {\n      return (-1 * HALF_PI);\n    }\n    else {\n      return HALF_PI;\n    }\n  }\n  //var phi = 0.5* q/(1-eccent*eccent);\n  var phi = Math.asin(0.5 * q);\n  var dphi;\n  var sin_phi;\n  var cos_phi;\n  var con;\n  for (var i = 0; i < 30; i++) {\n    sin_phi = Math.sin(phi);\n    cos_phi = Math.cos(phi);\n    con = eccent * sin_phi;\n    dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //console.log(\"IQSFN-CONV:Latitude failed to converge after 30 iterations\");\n  return NaN;\n}\n","import adjust_lon from '../common/adjust_lon';\nimport qsfnz from '../common/qsfnz';\nimport msfnz from '../common/msfnz';\nimport iqsfnz from '../common/iqsfnz';\n\n/*\n  reference:\n    \"Cartographic Projection Procedures for the UNIX Environment-\n    A User's Manual\" by Gerald I. Evenden,\n    USGS Open File Report 90-284and Release 4 Interim Reports (2003)\n*/\nexport function init() {\n  //no-op\n  if (!this.sphere) {\n    this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n  }\n}\n\n/* Cylindrical Equal Area forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  if (this.sphere) {\n    x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);\n    y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);\n  }\n  else {\n    var qs = qsfnz(this.e, Math.sin(lat));\n    x = this.x0 + this.a * this.k0 * dlon;\n    y = this.y0 + this.a * qs * 0.5 / this.k0;\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Cylindrical Equal Area inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));\n    lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));\n  }\n  else {\n    lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);\n    lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"cea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Equidistant Cylindrical (Plate Carre)\";\n\n  this.rc = Math.cos(this.lat_ts);\n}\n\n// forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  var dlon = adjust_lon(lon - this.long0);\n  var dlat = adjust_lat(lat - this.lat0);\n  p.x = this.x0 + (this.a * dlon * this.rc);\n  p.y = this.y0 + (this.a * dlat);\n  return p;\n}\n\n// inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var x = p.x;\n  var y = p.y;\n\n  p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));\n  p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));\n  return p;\n}\n\nexport var names = [\"Equirectangular\", \"Equidistant_Cylindrical\", \"eqc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport mlfn from '../common/mlfn';\nimport {EPSLN} from '../constants/values';\n\nimport gN from '../common/gN';\nvar MAX_ITER = 20;\n\nexport function init() {\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas\n}\n\n/* Polyconic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y, el;\n  var dlon = adjust_lon(lon - this.long0);\n  el = dlon * Math.sin(lat);\n  if (this.sphere) {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.a * this.lat0;\n    }\n    else {\n      x = this.a * Math.sin(el) / Math.tan(lat);\n      y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));\n    }\n  }\n  else {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.ml0;\n    }\n    else {\n      var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);\n      x = nl * Math.sin(el);\n      y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));\n    }\n\n  }\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  var lon, lat, x, y, i;\n  var al, bl;\n  var phi, dphi;\n  x = p.x - this.x0;\n  y = p.y - this.y0;\n\n  if (this.sphere) {\n    if (Math.abs(y + this.a * this.lat0) <= EPSLN) {\n      lon = adjust_lon(x / this.a + this.long0);\n      lat = 0;\n    }\n    else {\n      al = this.lat0 + y / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var tanphi;\n      for (i = MAX_ITER; i; --i) {\n        tanphi = Math.tan(phi);\n        dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);\n        phi += dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n      lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));\n    }\n  }\n  else {\n    if (Math.abs(y + this.ml0) <= EPSLN) {\n      lat = 0;\n      lon = adjust_lon(this.long0 + x / this.a);\n    }\n    else {\n\n      al = (this.ml0 + y) / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var cl, mln, mlnp, ma;\n      var con;\n      for (i = MAX_ITER; i; --i) {\n        con = this.e * Math.sin(phi);\n        cl = Math.sqrt(1 - con * con) * Math.tan(phi);\n        mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n        mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);\n        ma = mln / this.a;\n        dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);\n        phi -= dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n\n      //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);\n      cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);\n      lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Polyconic\", \"poly\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {SEC_TO_RAD} from '../constants/values';\n\n/*\n  reference\n    Department of Land and Survey Technical Circular 1973/32\n      http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf\n    OSG Technical Report 4.1\n      http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf\n  */\n\n/**\n * iterations: Number of iterations to refine inverse transform.\n *     0 -> km accuracy\n *     1 -> m accuracy -- suitable for most mapping applications\n *     2 -> mm accuracy\n */\nexport var iterations = 1;\n\nexport function init() {\n  this.A = [];\n  this.A[1] = 0.6399175073;\n  this.A[2] = -0.1358797613;\n  this.A[3] = 0.063294409;\n  this.A[4] = -0.02526853;\n  this.A[5] = 0.0117879;\n  this.A[6] = -0.0055161;\n  this.A[7] = 0.0026906;\n  this.A[8] = -0.001333;\n  this.A[9] = 0.00067;\n  this.A[10] = -0.00034;\n\n  this.B_re = [];\n  this.B_im = [];\n  this.B_re[1] = 0.7557853228;\n  this.B_im[1] = 0;\n  this.B_re[2] = 0.249204646;\n  this.B_im[2] = 0.003371507;\n  this.B_re[3] = -0.001541739;\n  this.B_im[3] = 0.041058560;\n  this.B_re[4] = -0.10162907;\n  this.B_im[4] = 0.01727609;\n  this.B_re[5] = -0.26623489;\n  this.B_im[5] = -0.36249218;\n  this.B_re[6] = -0.6870983;\n  this.B_im[6] = -1.1651967;\n\n  this.C_re = [];\n  this.C_im = [];\n  this.C_re[1] = 1.3231270439;\n  this.C_im[1] = 0;\n  this.C_re[2] = -0.577245789;\n  this.C_im[2] = -0.007809598;\n  this.C_re[3] = 0.508307513;\n  this.C_im[3] = -0.112208952;\n  this.C_re[4] = -0.15094762;\n  this.C_im[4] = 0.18200602;\n  this.C_re[5] = 1.01418179;\n  this.C_im[5] = 1.64497696;\n  this.C_re[6] = 1.9660549;\n  this.C_im[6] = 2.5127645;\n\n  this.D = [];\n  this.D[1] = 1.5627014243;\n  this.D[2] = 0.5185406398;\n  this.D[3] = -0.03333098;\n  this.D[4] = -0.1052906;\n  this.D[5] = -0.0368594;\n  this.D[6] = 0.007317;\n  this.D[7] = 0.01220;\n  this.D[8] = 0.00394;\n  this.D[9] = -0.0013;\n}\n\n/**\n    New Zealand Map Grid Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var n;\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lat = lat - this.lat0;\n  var delta_lon = lon - this.long0;\n\n  // 1. Calculate d_phi and d_psi    ...                          // and d_lambda\n  // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.\n  var d_phi = delta_lat / SEC_TO_RAD * 1E-5;\n  var d_lambda = delta_lon;\n  var d_phi_n = 1; // d_phi^0\n\n  var d_psi = 0;\n  for (n = 1; n <= 10; n++) {\n    d_phi_n = d_phi_n * d_phi;\n    d_psi = d_psi + this.A[n] * d_phi_n;\n  }\n\n  // 2. Calculate theta\n  var th_re = d_psi;\n  var th_im = d_lambda;\n\n  // 3. Calculate z\n  var th_n_re = 1;\n  var th_n_im = 0; // theta^0\n  var th_n_re1;\n  var th_n_im1;\n\n  var z_re = 0;\n  var z_im = 0;\n  for (n = 1; n <= 6; n++) {\n    th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n    th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n    th_n_re = th_n_re1;\n    th_n_im = th_n_im1;\n    z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;\n    z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;\n  }\n\n  // 4. Calculate easting and northing\n  p.x = (z_im * this.a) + this.x0;\n  p.y = (z_re * this.a) + this.y0;\n\n  return p;\n}\n\n/**\n    New Zealand Map Grid Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var n;\n  var x = p.x;\n  var y = p.y;\n\n  var delta_x = x - this.x0;\n  var delta_y = y - this.y0;\n\n  // 1. Calculate z\n  var z_re = delta_y / this.a;\n  var z_im = delta_x / this.a;\n\n  // 2a. Calculate theta - first approximation gives km accuracy\n  var z_n_re = 1;\n  var z_n_im = 0; // z^0\n  var z_n_re1;\n  var z_n_im1;\n\n  var th_re = 0;\n  var th_im = 0;\n  for (n = 1; n <= 6; n++) {\n    z_n_re1 = z_n_re * z_re - z_n_im * z_im;\n    z_n_im1 = z_n_im * z_re + z_n_re * z_im;\n    z_n_re = z_n_re1;\n    z_n_im = z_n_im1;\n    th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;\n    th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;\n  }\n\n  // 2b. Iterate to refine the accuracy of the calculation\n  //        0 iterations gives km accuracy\n  //        1 iteration gives m accuracy -- good enough for most mapping applications\n  //        2 iterations bives mm accuracy\n  for (var i = 0; i < this.iterations; i++) {\n    var th_n_re = th_re;\n    var th_n_im = th_im;\n    var th_n_re1;\n    var th_n_im1;\n\n    var num_re = z_re;\n    var num_im = z_im;\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    th_n_re = 1;\n    th_n_im = 0;\n    var den_re = this.B_re[1];\n    var den_im = this.B_im[1];\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    // Complex division\n    var den2 = den_re * den_re + den_im * den_im;\n    th_re = (num_re * den_re + num_im * den_im) / den2;\n    th_im = (num_im * den_re - num_re * den_im) / den2;\n  }\n\n  // 3. Calculate d_phi              ...                                    // and d_lambda\n  var d_psi = th_re;\n  var d_lambda = th_im;\n  var d_psi_n = 1; // d_psi^0\n\n  var d_phi = 0;\n  for (n = 1; n <= 9; n++) {\n    d_psi_n = d_psi_n * d_psi;\n    d_phi = d_phi + this.D[n] * d_psi_n;\n  }\n\n  // 4. Calculate latitude and longitude\n  // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.\n  var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);\n  var lon = this.long0 + d_lambda;\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"New_Zealand_Map_Grid\", \"nzmg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\n\n/* Initialize the Miller Cylindrical projection\n  -------------------------------------------*/\nexport function init() {\n  //no-op\n}\n\n/* Miller Cylindrical forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x = this.x0 + this.a * dlon;\n  var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Miller Cylindrical inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n\n  var lon = adjust_lon(this.long0 + p.x / this.a);\n  var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Miller_Cylindrical\", \"mill\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport pj_enfn from '../common/pj_enfn';\nvar MAX_ITER = 20;\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n\nexport function init() {\n  /* Place parameters in static storage for common use\n    -------------------------------------------------*/\n\n\n  if (!this.sphere) {\n    this.en = pj_enfn(this.es);\n  }\n  else {\n    this.n = 1;\n    this.m = 0;\n    this.es = 0;\n    this.C_y = Math.sqrt((this.m + 1) / this.n);\n    this.C_x = this.C_y / (this.m + 1);\n  }\n\n}\n\n/* Sinusoidal forward equations--mapping lat,long to x,y\n  -----------------------------------------------------*/\nexport function forward(p) {\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n    -----------------*/\n  lon = adjust_lon(lon - this.long0);\n\n  if (this.sphere) {\n    if (!this.m) {\n      lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;\n    }\n    else {\n      var k = this.n * Math.sin(lat);\n      for (var i = MAX_ITER; i; --i) {\n        var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));\n        lat -= V;\n        if (Math.abs(V) < EPSLN) {\n          break;\n        }\n      }\n    }\n    x = this.a * this.C_x * lon * (this.m + Math.cos(lat));\n    y = this.a * this.C_y * lat;\n\n  }\n  else {\n\n    var s = Math.sin(lat);\n    var c = Math.cos(lat);\n    y = this.a * pj_mlfn(lat, s, c, this.en);\n    x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var lat, temp, lon, s;\n\n  p.x -= this.x0;\n  lon = p.x / this.a;\n  p.y -= this.y0;\n  lat = p.y / this.a;\n\n  if (this.sphere) {\n    lat /= this.C_y;\n    lon = lon / (this.C_x * (this.m + Math.cos(lat)));\n    if (this.m) {\n      lat = asinz((this.m * lat + Math.sin(lat)) / this.n);\n    }\n    else if (this.n !== 1) {\n      lat = asinz(Math.sin(lat) / this.n);\n    }\n    lon = adjust_lon(lon + this.long0);\n    lat = adjust_lat(lat);\n  }\n  else {\n    lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);\n    s = Math.abs(lat);\n    if (s < HALF_PI) {\n      s = Math.sin(lat);\n      temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));\n      //temp = this.long0 + p.x / (this.a * Math.cos(lat));\n      lon = adjust_lon(temp);\n    }\n    else if ((s - EPSLN) < HALF_PI) {\n      lon = this.long0;\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Sinusoidal\", \"sinu\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nexport function init() {}\nimport {EPSLN} from '../constants/values';\n/* Mollweide forward equations--mapping lat,long to x,y\n    ----------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var theta = lat;\n  var con = Math.PI * Math.sin(lat);\n\n  /* Iterate using the Newton-Raphson method to find theta\n      -----------------------------------------------------*/\n  while (true) {\n    var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));\n    theta += delta_theta;\n    if (Math.abs(delta_theta) < EPSLN) {\n      break;\n    }\n  }\n  theta /= 2;\n\n  /* If the latitude is 90 deg, force the x coordinate to be \"0 + false easting\"\n       this is done here because of precision problems with \"cos(theta)\"\n       --------------------------------------------------------------------------*/\n  if (Math.PI / 2 - Math.abs(lat) < EPSLN) {\n    delta_lon = 0;\n  }\n  var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;\n  var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var theta;\n  var arg;\n\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  arg = p.y / (1.4142135623731 * this.a);\n\n  /* Because of division by zero problems, 'arg' can not be 1.  Therefore\n       a number very close to one is used instead.\n       -------------------------------------------------------------------*/\n  if (Math.abs(arg) > 0.999999999999) {\n    arg = 0.999999999999;\n  }\n  theta = Math.asin(arg);\n  var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));\n  if (lon < (-Math.PI)) {\n    lon = -Math.PI;\n  }\n  if (lon > Math.PI) {\n    lon = Math.PI;\n  }\n  arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;\n  if (Math.abs(arg) > 1) {\n    arg = 1;\n  }\n  var lat = Math.asin(arg);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mollweide\", \"moll\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport msfnz from '../common/msfnz';\nimport mlfn from '../common/mlfn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.lat2 = this.lat2 || this.lat1;\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n\n  this.sinphi = Math.sin(this.lat1);\n  this.cosphi = Math.cos(this.lat1);\n\n  this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);\n  this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);\n\n  if (Math.abs(this.lat1 - this.lat2) < EPSLN) {\n    this.ns = this.sinphi;\n  }\n  else {\n    this.sinphi = Math.sin(this.lat2);\n    this.cosphi = Math.cos(this.lat2);\n    this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);\n    this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);\n    this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);\n  }\n  this.g = this.ml1 + this.ms1 / this.ns;\n  this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  this.rh = this.a * (this.g - this.ml0);\n}\n\n/* Equidistant Conic forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var rh1;\n\n  /* Forward equations\n      -----------------*/\n  if (this.sphere) {\n    rh1 = this.a * (this.g - lat);\n  }\n  else {\n    var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);\n    rh1 = this.a * (this.g - ml);\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  var x = this.x0 + rh1 * Math.sin(theta);\n  var y = this.y0 + this.rh - rh1 * Math.cos(theta);\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  var con, rh1, lat, lon;\n  if (this.ns >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    lat = adjust_lat(this.g - rh1 / this.a);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    var ml = this.g - rh1 / this.a;\n    lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n\n}\n\nexport var names = [\"Equidistant_Conic\", \"eqdc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n/* Initialize the Van Der Grinten projection\n  ----------------------------------------*/\nexport function init() {\n  //this.R = 6370997; //Radius of earth\n  this.R = this.a;\n}\n\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  /* Forward equations\n    -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x, y;\n\n  if (Math.abs(lat) <= EPSLN) {\n    x = this.x0 + this.R * dlon;\n    y = this.y0;\n  }\n  var theta = asinz(2 * Math.abs(lat / Math.PI));\n  if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {\n    x = this.x0;\n    if (lat >= 0) {\n      y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);\n    }\n    else {\n      y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);\n    }\n    //  return(OK);\n  }\n  var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));\n  var asq = al * al;\n  var sinth = Math.sin(theta);\n  var costh = Math.cos(theta);\n\n  var g = costh / (sinth + costh - 1);\n  var gsq = g * g;\n  var m = g * (2 / sinth - 1);\n  var msq = m * m;\n  var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);\n  if (dlon < 0) {\n    con = -con;\n  }\n  x = this.x0 + con;\n  //con = Math.abs(con / (Math.PI * this.R));\n  var q = asq + g;\n  con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);\n  if (lat >= 0) {\n    //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 + con;\n  }\n  else {\n    //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 - con;\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Van Der Grinten inverse equations--mapping x,y to lat/long\n  ---------------------------------------------------------*/\nexport function inverse(p) {\n  var lon, lat;\n  var xx, yy, xys, c1, c2, c3;\n  var a1;\n  var m1;\n  var con;\n  var th1;\n  var d;\n\n  /* inverse equations\n    -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  con = Math.PI * this.R;\n  xx = p.x / con;\n  yy = p.y / con;\n  xys = xx * xx + yy * yy;\n  c1 = -Math.abs(yy) * (1 + xys);\n  c2 = c1 - 2 * yy * yy + xx * xx;\n  c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;\n  d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;\n  a1 = (c1 - c2 * c2 / 3 / c3) / c3;\n  m1 = 2 * Math.sqrt(-a1 / 3);\n  con = ((3 * d) / a1) / m1;\n  if (Math.abs(con) > 1) {\n    if (con >= 0) {\n      con = 1;\n    }\n    else {\n      con = -1;\n    }\n  }\n  th1 = Math.acos(con) / 3;\n  if (p.y >= 0) {\n    lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n  else {\n    lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n\n  if (Math.abs(xx) < EPSLN) {\n    lon = this.long0;\n  }\n  else {\n    lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Van_der_Grinten_I\", \"VanDerGrinten\", \"vandg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport asinz from '../common/asinz';\nimport imlfn from '../common/imlfn';\n\n\n\nexport function init() {\n  this.sin_p12 = Math.sin(this.lat0);\n  this.cos_p12 = Math.cos(this.lat0);\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var dlon = adjust_lon(lon - this.long0);\n  var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;\n  if (this.sphere) {\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);\n      p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);\n      p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //default case\n      cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);\n      c = Math.acos(cos_c);\n      kp = c ? c / Math.sin(c) : 1;\n      p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);\n      p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));\n      return p;\n    }\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);\n      p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);\n      p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //Default case\n      tanphi = sinphi / cosphi;\n      Nl1 = gN(this.a, this.e, this.sin_p12);\n      Nl = gN(this.a, this.e, sinphi);\n      psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));\n      Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));\n      if (Az === 0) {\n        s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {\n        s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else {\n        s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));\n      }\n      G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);\n      H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);\n      GH = G * H;\n      Hs = H * H;\n      s2 = s * s;\n      s3 = s2 * s;\n      s4 = s3 * s;\n      s5 = s4 * s;\n      c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);\n      p.x = this.x0 + c * Math.sin(Az);\n      p.y = this.y0 + c * Math.cos(Az);\n      return p;\n    }\n  }\n\n\n}\n\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F, sinpsi;\n  if (this.sphere) {\n    rh = Math.sqrt(p.x * p.x + p.y * p.y);\n    if (rh > (2 * HALF_PI * this.a)) {\n      return;\n    }\n    z = rh / this.a;\n\n    sinz = Math.sin(z);\n    cosz = Math.cos(z);\n\n    lon = this.long0;\n    if (Math.abs(rh) <= EPSLN) {\n      lat = this.lat0;\n    }\n    else {\n      lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);\n      con = Math.abs(this.lat0) - HALF_PI;\n      if (Math.abs(con) <= EPSLN) {\n        if (this.lat0 >= 0) {\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n        }\n        else {\n          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n        }\n      }\n      else {\n        /*con = cosz - this.sin_p12 * Math.sin(lat);\n        if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {\n          //no-op, just keep the lon value as is\n        } else {\n          var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));\n          lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));\n        }*/\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));\n      }\n    }\n\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = Mlp - rh;\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = rh - Mlp;\n\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else {\n      //default case\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      Az = Math.atan2(p.x, p.y);\n      N1 = gN(this.a, this.e, this.sin_p12);\n      cosAz = Math.cos(Az);\n      tmp = this.e * this.cos_p12 * cosAz;\n      A = -tmp * tmp / (1 - this.es);\n      B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);\n      D = rh / N1;\n      Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;\n      F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;\n      psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);\n      lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));\n      sinpsi = Math.sin(psi);\n      lat = Math.atan2((sinpsi - this.es * F * this.sin_p12) * Math.tan(psi), sinpsi * (1 - this.es));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n  }\n\n}\n\nexport var names = [\"Azimuthal_Equidistant\", \"aeqd\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nexport function init() {\n  //double temp;      /* temporary variable    */\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n}\n\n/* Orthographic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g, x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.a * ksp * cosphi * Math.sin(dlon);\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* height above ellipsoid      */\n  var z; /* angle          */\n  var sinz, cosz; /* sin of z and cos of z      */\n  var con;\n  var lon, lat;\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  z = asinz(rh / this.a);\n\n  sinz = Math.sin(z);\n  cosz = Math.cos(z);\n\n  lon = this.long0;\n  if (Math.abs(rh) <= EPSLN) {\n    lat = this.lat0;\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lat = asinz(cosz * this.sin_p14 + (p.y * sinz * this.cos_p14) / rh);\n  con = Math.abs(this.lat0) - HALF_PI;\n  if (Math.abs(con) <= EPSLN) {\n    if (this.lat0 >= 0) {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n    }\n    else {\n      lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz), rh * this.cos_p14 * cosz - p.y * this.sin_p14 * sinz));\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"ortho\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","// QSC projection rewritten from the original PROJ4\n// https://github.com/OSGeo/proj.4/blob/master/src/PJ_qsc.c\n\nimport {EPSLN, TWO_PI, SPI, HALF_PI, FORTPI} from '../constants/values';\n\n/* constants */\nvar FACE_ENUM = {\n    FRONT: 1,\n    RIGHT: 2,\n    BACK: 3,\n    LEFT: 4,\n    TOP: 5,\n    BOTTOM: 6\n};\n\nvar AREA_ENUM = {\n    AREA_0: 1,\n    AREA_1: 2,\n    AREA_2: 3,\n    AREA_3: 4\n};\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Quadrilateralized Spherical Cube\";\n\n  /* Determine the cube face from the center of projection. */\n  if (this.lat0 >= HALF_PI - FORTPI / 2.0) {\n    this.face = FACE_ENUM.TOP;\n  } else if (this.lat0 <= -(HALF_PI - FORTPI / 2.0)) {\n    this.face = FACE_ENUM.BOTTOM;\n  } else if (Math.abs(this.long0) <= FORTPI) {\n    this.face = FACE_ENUM.FRONT;\n  } else if (Math.abs(this.long0) <= HALF_PI + FORTPI) {\n    this.face = this.long0 > 0.0 ? FACE_ENUM.RIGHT : FACE_ENUM.LEFT;\n  } else {\n    this.face = FACE_ENUM.BACK;\n  }\n\n  /* Fill in useful values for the ellipsoid <-> sphere shift\n   * described in [LK12]. */\n  if (this.es !== 0) {\n    this.one_minus_f = 1 - (this.a - this.b) / this.a;\n    this.one_minus_f_squared = this.one_minus_f * this.one_minus_f;\n  }\n}\n\n// QSC forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n  var xy = {x: 0, y: 0};\n  var lat, lon;\n  var theta, phi;\n  var t, mu;\n  /* nu; */\n  var area = {value: 0};\n\n  // move lon according to projection's lon\n  p.x -= this.long0;\n\n  /* Convert the geodetic latitude to a geocentric latitude.\n   * This corresponds to the shift from the ellipsoid to the sphere\n   * described in [LK12]. */\n  if (this.es !== 0) {//if (P->es != 0) {\n    lat = Math.atan(this.one_minus_f_squared * Math.tan(p.y));\n  } else {\n    lat = p.y;\n  }\n\n  /* Convert the input lat, lon into theta, phi as used by QSC.\n   * This depends on the cube face and the area on it.\n   * For the top and bottom face, we can compute theta and phi\n   * directly from phi, lam. For the other faces, we must use\n   * unit sphere cartesian coordinates as an intermediate step. */\n  lon = p.x; //lon = lp.lam;\n  if (this.face === FACE_ENUM.TOP) {\n    phi = HALF_PI - lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = lon - HALF_PI;\n    } else if (lon > HALF_PI + FORTPI || lon <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = (lon > 0.0 ? lon - SPI : lon + SPI);\n    } else if (lon > -(HALF_PI + FORTPI) && lon <= -FORTPI) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = lon + HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = lon;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = HALF_PI + lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = -lon + HALF_PI;\n    } else if (lon < FORTPI && lon >= -FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = -lon;\n    } else if (lon < -FORTPI && lon >= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = -lon - HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = (lon > 0.0 ? -lon + SPI : -lon - SPI);\n    }\n  } else {\n    var q, r, s;\n    var sinlat, coslat;\n    var sinlon, coslon;\n\n    if (this.face === FACE_ENUM.RIGHT) {\n      lon = qsc_shift_lon_origin(lon, +HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lon = qsc_shift_lon_origin(lon, +SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lon = qsc_shift_lon_origin(lon, -HALF_PI);\n    }\n    sinlat = Math.sin(lat);\n    coslat = Math.cos(lat);\n    sinlon = Math.sin(lon);\n    coslon = Math.cos(lon);\n    q = coslat * coslon;\n    r = coslat * sinlon;\n    s = sinlat;\n\n    if (this.face === FACE_ENUM.FRONT) {\n      phi = Math.acos(q);\n      theta = qsc_fwd_equat_face_theta(phi, s, r, area);\n    } else if (this.face === FACE_ENUM.RIGHT) {\n      phi = Math.acos(r);\n      theta = qsc_fwd_equat_face_theta(phi, s, -q, area);\n    } else if (this.face === FACE_ENUM.BACK) {\n      phi = Math.acos(-q);\n      theta = qsc_fwd_equat_face_theta(phi, s, -r, area);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      phi = Math.acos(-r);\n      theta = qsc_fwd_equat_face_theta(phi, s, q, area);\n    } else {\n      /* Impossible */\n      phi = theta = 0;\n      area.value = AREA_ENUM.AREA_0;\n    }\n  }\n\n  /* Compute mu and nu for the area of definition.\n   * For mu, see Eq. (3-21) in [OL76], but note the typos:\n   * compare with Eq. (3-14). For nu, see Eq. (3-38). */\n  mu = Math.atan((12 / SPI) * (theta + Math.acos(Math.sin(theta) * Math.cos(FORTPI)) - HALF_PI));\n  t = Math.sqrt((1 - Math.cos(phi)) / (Math.cos(mu) * Math.cos(mu)) / (1 - Math.cos(Math.atan(1 / Math.cos(theta)))));\n\n  /* Apply the result to the real area. */\n  if (area.value === AREA_ENUM.AREA_1) {\n    mu += HALF_PI;\n  } else if (area.value === AREA_ENUM.AREA_2) {\n    mu += SPI;\n  } else if (area.value === AREA_ENUM.AREA_3) {\n    mu += 1.5 * SPI;\n  }\n\n  /* Now compute x, y from mu and nu */\n  xy.x = t * Math.cos(mu);\n  xy.y = t * Math.sin(mu);\n  xy.x = xy.x * this.a + this.x0;\n  xy.y = xy.y * this.a + this.y0;\n\n  p.x = xy.x;\n  p.y = xy.y;\n  return p;\n}\n\n// QSC inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n  var lp = {lam: 0, phi: 0};\n  var mu, nu, cosmu, tannu;\n  var tantheta, theta, cosphi, phi;\n  var t;\n  var area = {value: 0};\n\n  /* de-offset */\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  /* Convert the input x, y to the mu and nu angles as used by QSC.\n   * This depends on the area of the cube face. */\n  nu = Math.atan(Math.sqrt(p.x * p.x + p.y * p.y));\n  mu = Math.atan2(p.y, p.x);\n  if (p.x >= 0.0 && p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_0;\n  } else if (p.y >= 0.0 && p.y >= Math.abs(p.x)) {\n    area.value = AREA_ENUM.AREA_1;\n    mu -= HALF_PI;\n  } else if (p.x < 0.0 && -p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_2;\n    mu = (mu < 0.0 ? mu + SPI : mu - SPI);\n  } else {\n    area.value = AREA_ENUM.AREA_3;\n    mu += HALF_PI;\n  }\n\n  /* Compute phi and theta for the area of definition.\n   * The inverse projection is not described in the original paper, but some\n   * good hints can be found here (as of 2011-12-14):\n   * http://fits.gsfc.nasa.gov/fitsbits/saf.93/saf.9302\n   * (search for \"Message-Id: <9302181759.AA25477 at fits.cv.nrao.edu>\") */\n  t = (SPI / 12) * Math.tan(mu);\n  tantheta = Math.sin(t) / (Math.cos(t) - (1 / Math.sqrt(2)));\n  theta = Math.atan(tantheta);\n  cosmu = Math.cos(mu);\n  tannu = Math.tan(nu);\n  cosphi = 1 - cosmu * cosmu * tannu * tannu * (1 - Math.cos(Math.atan(1 / Math.cos(theta))));\n  if (cosphi < -1) {\n    cosphi = -1;\n  } else if (cosphi > +1) {\n    cosphi = +1;\n  }\n\n  /* Apply the result to the real area on the cube face.\n   * For the top and bottom face, we can compute phi and lam directly.\n   * For the other faces, we must use unit sphere cartesian coordinates\n   * as an intermediate step. */\n  if (this.face === FACE_ENUM.TOP) {\n    phi = Math.acos(cosphi);\n    lp.phi = HALF_PI - phi;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = (theta < 0.0 ? theta + SPI : theta - SPI);\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = theta;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = Math.acos(cosphi);\n    lp.phi = phi - HALF_PI;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = -theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = -theta;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = -theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = (theta < 0.0 ? -theta - SPI : -theta + SPI);\n    }\n  } else {\n    /* Compute phi and lam via cartesian unit sphere coordinates. */\n    var q, r, s;\n    q = cosphi;\n    t = q * q;\n    if (t >= 1) {\n      s = 0;\n    } else {\n      s = Math.sqrt(1 - t) * Math.sin(theta);\n    }\n    t += s * s;\n    if (t >= 1) {\n      r = 0;\n    } else {\n      r = Math.sqrt(1 - t);\n    }\n    /* Rotate q,r,s into the correct area. */\n    if (area.value === AREA_ENUM.AREA_1) {\n      t = r;\n      r = -s;\n      s = t;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      r = -r;\n      s = -s;\n    } else if (area.value === AREA_ENUM.AREA_3) {\n      t = r;\n      r = s;\n      s = -t;\n    }\n    /* Rotate q,r,s into the correct cube face. */\n    if (this.face === FACE_ENUM.RIGHT) {\n      t = q;\n      q = -r;\n      r = t;\n    } else if (this.face === FACE_ENUM.BACK) {\n      q = -q;\n      r = -r;\n    } else if (this.face === FACE_ENUM.LEFT) {\n      t = q;\n      q = r;\n      r = -t;\n    }\n    /* Now compute phi and lam from the unit sphere coordinates. */\n    lp.phi = Math.acos(-s) - HALF_PI;\n    lp.lam = Math.atan2(r, q);\n    if (this.face === FACE_ENUM.RIGHT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, +HALF_PI);\n    }\n  }\n\n  /* Apply the shift from the sphere to the ellipsoid as described\n   * in [LK12]. */\n  if (this.es !== 0) {\n    var invert_sign;\n    var tanphi, xa;\n    invert_sign = (lp.phi < 0 ? 1 : 0);\n    tanphi = Math.tan(lp.phi);\n    xa = this.b / Math.sqrt(tanphi * tanphi + this.one_minus_f_squared);\n    lp.phi = Math.atan(Math.sqrt(this.a * this.a - xa * xa) / (this.one_minus_f * xa));\n    if (invert_sign) {\n      lp.phi = -lp.phi;\n    }\n  }\n\n  lp.lam += this.long0;\n  p.x = lp.lam;\n  p.y = lp.phi;\n  return p;\n}\n\n/* Helper function for forward projection: compute the theta angle\n * and determine the area number. */\nfunction qsc_fwd_equat_face_theta(phi, y, x, area) {\n  var theta;\n  if (phi < EPSLN) {\n    area.value = AREA_ENUM.AREA_0;\n    theta = 0.0;\n  } else {\n    theta = Math.atan2(y, x);\n    if (Math.abs(theta) <= FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n    } else if (theta > FORTPI && theta <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta -= HALF_PI;\n    } else if (theta > HALF_PI + FORTPI || theta <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = (theta >= 0.0 ? theta - SPI : theta + SPI);\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta += HALF_PI;\n    }\n  }\n  return theta;\n}\n\n/* Helper function: shift the longitude. */\nfunction qsc_shift_lon_origin(lon, offset) {\n  var slon = lon + offset;\n  if (slon < -SPI) {\n    slon += TWO_PI;\n  } else if (slon > +SPI) {\n    slon -= TWO_PI;\n  }\n  return slon;\n}\n\nexport var names = [\"Quadrilateralized Spherical Cube\", \"Quadrilateralized_Spherical_Cube\", \"qsc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n","// Robinson projection\n// Based on https://github.com/OSGeo/proj.4/blob/master/src/PJ_robin.c\n// Polynomial coeficients from http://article.gmane.org/gmane.comp.gis.proj-4.devel/6039\n\nimport {HALF_PI, D2R, R2D, EPSLN} from '../constants/values';\nimport adjust_lon from '../common/adjust_lon';\n\nvar COEFS_X = [\n    [1.0000, 2.2199e-17, -7.15515e-05, 3.1103e-06],\n    [0.9986, -0.000482243, -2.4897e-05, -1.3309e-06],\n    [0.9954, -0.00083103, -4.48605e-05, -9.86701e-07],\n    [0.9900, -0.00135364, -5.9661e-05, 3.6777e-06],\n    [0.9822, -0.00167442, -4.49547e-06, -5.72411e-06],\n    [0.9730, -0.00214868, -9.03571e-05, 1.8736e-08],\n    [0.9600, -0.00305085, -9.00761e-05, 1.64917e-06],\n    [0.9427, -0.00382792, -6.53386e-05, -2.6154e-06],\n    [0.9216, -0.00467746, -0.00010457, 4.81243e-06],\n    [0.8962, -0.00536223, -3.23831e-05, -5.43432e-06],\n    [0.8679, -0.00609363, -0.000113898, 3.32484e-06],\n    [0.8350, -0.00698325, -6.40253e-05, 9.34959e-07],\n    [0.7986, -0.00755338, -5.00009e-05, 9.35324e-07],\n    [0.7597, -0.00798324, -3.5971e-05, -2.27626e-06],\n    [0.7186, -0.00851367, -7.01149e-05, -8.6303e-06],\n    [0.6732, -0.00986209, -0.000199569, 1.91974e-05],\n    [0.6213, -0.010418, 8.83923e-05, 6.24051e-06],\n    [0.5722, -0.00906601, 0.000182, 6.24051e-06],\n    [0.5322, -0.00677797, 0.000275608, 6.24051e-06]\n];\n\nvar COEFS_Y = [\n    [-5.20417e-18, 0.0124, 1.21431e-18, -8.45284e-11],\n    [0.0620, 0.0124, -1.26793e-09, 4.22642e-10],\n    [0.1240, 0.0124, 5.07171e-09, -1.60604e-09],\n    [0.1860, 0.0123999, -1.90189e-08, 6.00152e-09],\n    [0.2480, 0.0124002, 7.10039e-08, -2.24e-08],\n    [0.3100, 0.0123992, -2.64997e-07, 8.35986e-08],\n    [0.3720, 0.0124029, 9.88983e-07, -3.11994e-07],\n    [0.4340, 0.0123893, -3.69093e-06, -4.35621e-07],\n    [0.4958, 0.0123198, -1.02252e-05, -3.45523e-07],\n    [0.5571, 0.0121916, -1.54081e-05, -5.82288e-07],\n    [0.6176, 0.0119938, -2.41424e-05, -5.25327e-07],\n    [0.6769, 0.011713, -3.20223e-05, -5.16405e-07],\n    [0.7346, 0.0113541, -3.97684e-05, -6.09052e-07],\n    [0.7903, 0.0109107, -4.89042e-05, -1.04739e-06],\n    [0.8435, 0.0103431, -6.4615e-05, -1.40374e-09],\n    [0.8936, 0.00969686, -6.4636e-05, -8.547e-06],\n    [0.9394, 0.00840947, -0.000192841, -4.2106e-06],\n    [0.9761, 0.00616527, -0.000256, -4.2106e-06],\n    [1.0000, 0.00328947, -0.000319159, -4.2106e-06]\n];\n\nvar FXC = 0.8487;\nvar FYC = 1.3523;\nvar C1 = R2D/5; // rad to 5-degree interval\nvar RC1 = 1/C1;\nvar NODES = 18;\n\nvar poly3_val = function(coefs, x) {\n    return coefs[0] + x * (coefs[1] + x * (coefs[2] + x * coefs[3]));\n};\n\nvar poly3_der = function(coefs, x) {\n    return coefs[1] + x * (2 * coefs[2] + x * 3 * coefs[3]);\n};\n\nfunction newton_rapshon(f_df, start, max_err, iters) {\n    var x = start;\n    for (; iters; --iters) {\n        var upd = f_df(x);\n        x -= upd;\n        if (Math.abs(upd) < max_err) {\n            break;\n        }\n    }\n    return x;\n}\n\nexport function init() {\n    this.x0 = this.x0 || 0;\n    this.y0 = this.y0 || 0;\n    this.long0 = this.long0 || 0;\n    this.es = 0;\n    this.title = this.title || \"Robinson\";\n}\n\nexport function forward(ll) {\n    var lon = adjust_lon(ll.x - this.long0);\n\n    var dphi = Math.abs(ll.y);\n    var i = Math.floor(dphi * C1);\n    if (i < 0) {\n        i = 0;\n    } else if (i >= NODES) {\n        i = NODES - 1;\n    }\n    dphi = R2D * (dphi - RC1 * i);\n    var xy = {\n        x: poly3_val(COEFS_X[i], dphi) * lon,\n        y: poly3_val(COEFS_Y[i], dphi)\n    };\n    if (ll.y < 0) {\n        xy.y = -xy.y;\n    }\n\n    xy.x = xy.x * this.a * FXC + this.x0;\n    xy.y = xy.y * this.a * FYC + this.y0;\n    return xy;\n}\n\nexport function inverse(xy) {\n    var ll = {\n        x: (xy.x - this.x0) / (this.a * FXC),\n        y: Math.abs(xy.y - this.y0) / (this.a * FYC)\n    };\n\n    if (ll.y >= 1) { // pathologic case\n        ll.x /= COEFS_X[NODES][0];\n        ll.y = xy.y < 0 ? -HALF_PI : HALF_PI;\n    } else {\n        // find table interval\n        var i = Math.floor(ll.y * NODES);\n        if (i < 0) {\n            i = 0;\n        } else if (i >= NODES) {\n            i = NODES - 1;\n        }\n        for (;;) {\n            if (COEFS_Y[i][0] > ll.y) {\n                --i;\n            } else if (COEFS_Y[i+1][0] <= ll.y) {\n                ++i;\n            } else {\n                break;\n            }\n        }\n        // linear interpolation in 5 degree interval\n        var coefs = COEFS_Y[i];\n        var t = 5 * (ll.y - coefs[0]) / (COEFS_Y[i+1][0] - coefs[0]);\n        // find t so that poly3_val(coefs, t) = ll.y\n        t = newton_rapshon(function(x) {\n            return (poly3_val(coefs, x) - ll.y) / poly3_der(coefs, x);\n        }, t, EPSLN, 100);\n\n        ll.x /= poly3_val(COEFS_X[i], t);\n        ll.y = (5 * i + t) * D2R;\n        if (xy.y < 0) {\n            ll.y = -ll.y;\n        }\n    }\n\n    ll.x = adjust_lon(ll.x + this.long0);\n    return ll;\n}\n\nexport var names = [\"Robinson\", \"robin\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {\n    geodeticToGeocentric,\n    geocentricToGeodetic\n} from '../datumUtils';\n\nexport function init() {\n    this.name = 'geocent';\n\n}\n\nexport function forward(p) {\n    var point = geodeticToGeocentric(p, this.es, this.a);\n    return point;\n}\n\nexport function inverse(p) {\n    var point = geocentricToGeodetic(p, this.es, this.a, this.b);\n    return point;\n}\n\nexport var names = [\"Geocentric\", 'geocentric', \"geocent\", \"Geocent\"];\nexport default {\n    init: init,\n    forward: forward,\n    inverse: inverse,\n    names: names\n};","\nvar mode = {\n  N_POLE: 0,\n  S_POLE: 1,\n  EQUIT: 2,\n  OBLIQ: 3\n};\n\nimport { D2R, HALF_PI, EPSLN } from \"../constants/values\";\nimport hypot from \"../common/hypot\";\n\nvar params = {\n  h:     { def: 100000, num: true },           // default is Karman line, no default in PROJ.7\n  azi:   { def: 0, num: true, degrees: true }, // default is North\n  tilt:  { def: 0, num: true, degrees: true }, // default is Nadir\n  long0: { def: 0, num: true },                // default is Greenwich, conversion to rad is automatic\n  lat0:  { def: 0, num: true }                 // default is Equator, conversion to rad is automatic\n};\n\nexport function init() {\n  Object.keys(params).forEach(function (p) {\n    if (typeof this[p] === \"undefined\") {\n      this[p] = params[p].def;\n    } else if (params[p].num && isNaN(this[p])) {\n      throw new Error(\"Invalid parameter value, must be numeric \" + p + \" = \" + this[p]);\n    } else if (params[p].num) {\n      this[p] = parseFloat(this[p]);\n    }\n    if (params[p].degrees) {\n      this[p] = this[p] * D2R;\n    }\n  }.bind(this));\n\n  if (Math.abs((Math.abs(this.lat0) - HALF_PI)) < EPSLN) {\n    this.mode = this.lat0 < 0 ? mode.S_POLE : mode.N_POLE;\n  } else if (Math.abs(this.lat0) < EPSLN) {\n    this.mode = mode.EQUIT;\n  } else {\n    this.mode = mode.OBLIQ;\n    this.sinph0 = Math.sin(this.lat0);\n    this.cosph0 = Math.cos(this.lat0);\n  }\n\n  this.pn1 = this.h / this.a;  // Normalize relative to the Earth's radius\n\n  if (this.pn1 <= 0 || this.pn1 > 1e10) {\n    throw new Error(\"Invalid height\");\n  }\n  \n  this.p = 1 + this.pn1;\n  this.rp = 1 / this.p;\n  this.h1 = 1 / this.pn1;\n  this.pfact = (this.p + 1) * this.h1;\n  this.es = 0;\n\n  var omega = this.tilt;\n  var gamma = this.azi;\n  this.cg = Math.cos(gamma);\n  this.sg = Math.sin(gamma);\n  this.cw = Math.cos(omega);\n  this.sw = Math.sin(omega);\n}\n\nexport function forward(p) {\n  p.x -= this.long0;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var coslam = Math.cos(p.x);\n  var x, y;\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y = this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y = cosphi * coslam;\n      break;\n    case mode.S_POLE:\n      y = -sinphi;\n      break;\n    case mode.N_POLE:\n      y = sinphi;\n      break;\n  }\n  y = this.pn1 / (this.p - y);\n  x = y * cosphi * Math.sin(p.x);\n\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y *= this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y *= sinphi;\n      break;\n    case mode.N_POLE:\n      y *= -(cosphi * coslam);\n      break;\n    case mode.S_POLE:\n      y *= cosphi * coslam;\n      break;\n  }\n\n  // Tilt \n  var yt, ba;\n  yt = y * this.cg + x * this.sg;\n  ba = 1 / (yt * this.sw * this.h1 + this.cw);\n  x = (x * this.cg - y * this.sg) * this.cw * ba;\n  y = yt * ba;\n\n  p.x = x * this.a;\n  p.y = y * this.a;\n  return p;\n}\n\nexport function inverse(p) {\n  p.x /= this.a;\n  p.y /= this.a;\n  var r = { x: p.x, y: p.y };\n\n  // Un-Tilt\n  var bm, bq, yt;\n  yt = 1 / (this.pn1 - p.y * this.sw);\n  bm = this.pn1 * p.x * yt;\n  bq = this.pn1 * p.y * this.cw * yt;\n  p.x = bm * this.cg + bq * this.sg;\n  p.y = bq * this.cg - bm * this.sg;\n\n  var rh = hypot(p.x, p.y);\n  if (Math.abs(rh) < EPSLN) {\n    r.x = 0;\n    r.y = p.y;\n  } else {\n    var cosz, sinz;\n    sinz = 1 - rh * rh * this.pfact;\n    sinz = (this.p - Math.sqrt(sinz)) / (this.pn1 / rh + rh / this.pn1);\n    cosz = Math.sqrt(1 - sinz * sinz);\n    switch (this.mode) {\n      case mode.OBLIQ:\n        r.y = Math.asin(cosz * this.sinph0 + p.y * sinz * this.cosph0 / rh);\n        p.y = (cosz - this.sinph0 * Math.sin(r.y)) * rh;\n        p.x *= sinz * this.cosph0;\n        break;\n      case mode.EQUIT:\n        r.y = Math.asin(p.y * sinz / rh);\n        p.y = cosz * rh;\n        p.x *= sinz;\n        break;\n      case mode.N_POLE:\n        r.y = Math.asin(cosz);\n        p.y = -p.y;\n        break;\n      case mode.S_POLE:\n        r.y = -Math.asin(cosz);\n        break;\n    }\n    r.x = Math.atan2(p.x, p.y);\n  }\n\n  p.x = r.x + this.long0;\n  p.y = r.y;\n  return p;\n}\n\nexport var names = [\"Tilted_Perspective\", \"tpers\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import hypot from '../common/hypot';\n\nexport function init() {\n    this.flip_axis = (this.sweep === 'x' ? 1 : 0);\n    this.h = Number(this.h);\n    this.radius_g_1 = this.h / this.a;\n\n    if (this.radius_g_1 <= 0 || this.radius_g_1 > 1e10) {\n        throw new Error();\n    }\n\n    this.radius_g = 1.0 + this.radius_g_1;\n    this.C = this.radius_g * this.radius_g - 1.0;\n\n    if (this.es !== 0.0) {\n        var one_es = 1.0 - this.es;\n        var rone_es = 1 / one_es;\n\n        this.radius_p = Math.sqrt(one_es);\n        this.radius_p2 = one_es;\n        this.radius_p_inv2 = rone_es;\n\n        this.shape = 'ellipse'; // Use as a condition in the forward and inverse functions.\n    } else {\n        this.radius_p = 1.0;\n        this.radius_p2 = 1.0;\n        this.radius_p_inv2 = 1.0;\n\n        this.shape = 'sphere';  // Use as a condition in the forward and inverse functions.\n    }\n\n    if (!this.title) {\n        this.title = \"Geostationary Satellite View\";\n    }\n}\n\nfunction forward(p) {\n    var lon = p.x;\n    var lat = p.y;\n    var tmp, v_x, v_y, v_z;\n    lon = lon - this.long0;\n\n    if (this.shape === 'ellipse') {\n        lat = Math.atan(this.radius_p2 * Math.tan(lat));\n        var r = this.radius_p / hypot(this.radius_p * Math.cos(lat), Math.sin(lat));\n\n        v_x = r * Math.cos(lon) * Math.cos(lat);\n        v_y = r * Math.sin(lon) * Math.cos(lat);\n        v_z = r * Math.sin(lat);\n\n        if (((this.radius_g - v_x) * v_x - v_y * v_y - v_z * v_z * this.radius_p_inv2) < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        tmp = this.radius_g - v_x;\n        if (this.flip_axis) {\n            p.x = this.radius_g_1 * Math.atan(v_y / hypot(v_z, tmp));\n            p.y = this.radius_g_1 * Math.atan(v_z / tmp);\n        } else {\n            p.x = this.radius_g_1 * Math.atan(v_y / tmp);\n            p.y = this.radius_g_1 * Math.atan(v_z / hypot(v_y, tmp));\n        }\n    } else if (this.shape === 'sphere') {\n        tmp = Math.cos(lat);\n        v_x = Math.cos(lon) * tmp;\n        v_y = Math.sin(lon) * tmp;\n        v_z = Math.sin(lat);\n        tmp = this.radius_g - v_x;\n\n        if (this.flip_axis) {\n            p.x = this.radius_g_1 * Math.atan(v_y / hypot(v_z, tmp));\n            p.y = this.radius_g_1 * Math.atan(v_z / tmp);\n        } else {\n            p.x = this.radius_g_1 * Math.atan(v_y / tmp);\n            p.y = this.radius_g_1 * Math.atan(v_z / hypot(v_y, tmp));\n        }\n    }\n    p.x = p.x * this.a;\n    p.y = p.y * this.a;\n    return p;\n}\n\nfunction inverse(p) {\n    var v_x = -1.0;\n    var v_y = 0.0;\n    var v_z = 0.0;\n    var a, b, det, k;\n\n    p.x = p.x / this.a;\n    p.y = p.y / this.a;\n\n    if (this.shape === 'ellipse') {\n        if (this.flip_axis) {\n            v_z = Math.tan(p.y / this.radius_g_1);\n            v_y = Math.tan(p.x / this.radius_g_1) * hypot(1.0, v_z);\n        } else {\n            v_y = Math.tan(p.x / this.radius_g_1);\n            v_z = Math.tan(p.y / this.radius_g_1) * hypot(1.0, v_y);\n        }\n\n        var v_zp = v_z / this.radius_p;\n        a = v_y * v_y + v_zp * v_zp + v_x * v_x;\n        b = 2 * this.radius_g * v_x;\n        det = (b * b) - 4 * a * this.C;\n\n        if (det < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        k = (-b - Math.sqrt(det)) / (2.0 * a);\n        v_x = this.radius_g + k * v_x;\n        v_y *= k;\n        v_z *= k;\n\n        p.x = Math.atan2(v_y, v_x);\n        p.y = Math.atan(v_z * Math.cos(p.x) / v_x);\n        p.y = Math.atan(this.radius_p_inv2 * Math.tan(p.y));\n    } else if (this.shape === 'sphere') {\n        if (this.flip_axis) {\n            v_z = Math.tan(p.y / this.radius_g_1);\n            v_y = Math.tan(p.x / this.radius_g_1) * Math.sqrt(1.0 + v_z * v_z);\n        } else {\n            v_y = Math.tan(p.x / this.radius_g_1);\n            v_z = Math.tan(p.y / this.radius_g_1) * Math.sqrt(1.0 + v_y * v_y);\n        }\n\n        a = v_y * v_y + v_z * v_z + v_x * v_x;\n        b = 2 * this.radius_g * v_x;\n        det = (b * b) - 4 * a * this.C;\n        if (det < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        k = (-b - Math.sqrt(det)) / (2.0 * a);\n        v_x = this.radius_g + k * v_x;\n        v_y *= k;\n        v_z *= k;\n\n        p.x = Math.atan2(v_y, v_x);\n        p.y = Math.atan(v_z * Math.cos(p.x) / v_x);\n    }\n    p.x = p.x + this.long0;\n    return p;\n}\n\nexport var names = [\"Geostationary Satellite View\", \"Geostationary_Satellite\", \"geos\"];\nexport default {\n    init: init,\n    forward: forward,\n    inverse: inverse,\n    names: names,\n};\n\n","import tmerc from './lib/projections/tmerc';\nimport etmerc from './lib/projections/etmerc';\nimport utm from './lib/projections/utm';\nimport sterea from './lib/projections/sterea';\nimport stere from './lib/projections/stere';\nimport somerc from './lib/projections/somerc';\nimport omerc from './lib/projections/omerc';\nimport lcc from './lib/projections/lcc';\nimport krovak from './lib/projections/krovak';\nimport cass from './lib/projections/cass';\nimport laea from './lib/projections/laea';\nimport aea from './lib/projections/aea';\nimport gnom from './lib/projections/gnom';\nimport cea from './lib/projections/cea';\nimport eqc from './lib/projections/eqc';\nimport poly from './lib/projections/poly';\nimport nzmg from './lib/projections/nzmg';\nimport mill from './lib/projections/mill';\nimport sinu from './lib/projections/sinu';\nimport moll from './lib/projections/moll';\nimport eqdc from './lib/projections/eqdc';\nimport vandg from './lib/projections/vandg';\nimport aeqd from './lib/projections/aeqd';\nimport ortho from './lib/projections/ortho';\nimport qsc from './lib/projections/qsc';\nimport robin from './lib/projections/robin';\nimport geocent from './lib/projections/geocent';\nimport tpers from './lib/projections/tpers';\nimport geos from './lib/projections/geos';\nexport default function(proj4){\n  proj4.Proj.projections.add(tmerc);\n  proj4.Proj.projections.add(etmerc);\n  proj4.Proj.projections.add(utm);\n  proj4.Proj.projections.add(sterea);\n  proj4.Proj.projections.add(stere);\n  proj4.Proj.projections.add(somerc);\n  proj4.Proj.projections.add(omerc);\n  proj4.Proj.projections.add(lcc);\n  proj4.Proj.projections.add(krovak);\n  proj4.Proj.projections.add(cass);\n  proj4.Proj.projections.add(laea);\n  proj4.Proj.projections.add(aea);\n  proj4.Proj.projections.add(gnom);\n  proj4.Proj.projections.add(cea);\n  proj4.Proj.projections.add(eqc);\n  proj4.Proj.projections.add(poly);\n  proj4.Proj.projections.add(nzmg);\n  proj4.Proj.projections.add(mill);\n  proj4.Proj.projections.add(sinu);\n  proj4.Proj.projections.add(moll);\n  proj4.Proj.projections.add(eqdc);\n  proj4.Proj.projections.add(vandg);\n  proj4.Proj.projections.add(aeqd);\n  proj4.Proj.projections.add(ortho);\n  proj4.Proj.projections.add(qsc);\n  proj4.Proj.projections.add(robin);\n  proj4.Proj.projections.add(geocent);\n  proj4.Proj.projections.add(tpers);\n  proj4.Proj.projections.add(geos);\n}","import proj4 from './core';\nimport Proj from \"./Proj\";\nimport Point from \"./Point\";\nimport common from \"./common/toPoint\";\nimport defs from \"./defs\";\nimport nadgrid from \"./nadgrid\";\nimport transform from \"./transform\";\nimport mgrs from \"mgrs\";\nimport includedProjections from \"../projs\";\n\nproj4.defaultDatum = 'WGS84'; //default datum\nproj4.Proj = Proj;\nproj4.WGS84 = new proj4.Proj('WGS84');\nproj4.Point = Point;\nproj4.toPoint = common;\nproj4.defs = defs;\nproj4.nadgrid = nadgrid;\nproj4.transform = transform;\nproj4.mgrs = mgrs;\nproj4.version = '__VERSION__';\nincludedProjections(proj4);\nexport default proj4;\n","//helper functions shared between different amaps wrapper apps\n\nimport proj4 from \"proj4\";\n/* eslint-disable-next-line max-len */\nproj4.defs(\n  \"EPSG:28992\",\n  \"+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +towgs84=565.417,50.3319,465.552,-0.398957,0.343988,-1.8774,4.0725 +units=m +no_defs\"\n);\nconst transformCoords = proj4(\n  proj4.defs(\"EPSG:4326\"),\n  proj4.defs(\"EPSG:28992\")\n);\n\n//utility function\nfunction query(url) {\n  const promise = new Promise((resolve, reject) => {\n    fetch(url)\n      .then(res => resolve(res.json()))\n      .catch(err => reject(err));\n  });\n  return promise;\n}\n\n//chain of API requests for single-click\n//1. get BAG information.\n//2. after that, we need to get the full object data.\n//3. get omgevingsinfo\nasync function getBagInfo(click) {\n  const xy = {\n    x: click.latlng.lng,\n    y: click.latlng.lat\n  };\n  let nummeraanduidingId = false;\n  if (click.resultObject && click.resultObject.nummeraanduiding_id)\n    nummeraanduidingId = click.resultObject.nummeraanduiding_id;\n  const url = requestFormatter(\n    \"https://api.data.amsterdam.nl/bag/v1.1/nummeraanduiding/?format=json&locatie=\",\n    xy\n  );\n  return await query(url).then(res => {\n    let output = {\n      queryResult: responseFormatter(res, nummeraanduidingId),\n      latlng: click.latlng\n    };\n    return output;\n  });\n}\n\nasync function getFullObjectData(data) {\n  //d: {\n  //  latlng: {},\n  //  queryResult: {},\n  //}\n  let dichtstbijzijnd_adres = {};\n  if (data.queryResult !== null) {\n    try {\n      const res = await query(data.queryResult._links.self.href);\n      dichtstbijzijnd_adres = {\n        openbare_ruimte: res.openbare_ruimte._display,\n        huisnummer: res.huisnummer,\n        huisletter: res.huisletter,\n        huisnummer_toevoeging: res.huisnummer_toevoeging,\n        postcode: res.postcode,\n        woonplaats: res.woonplaats._display\n      };\n    } catch (e) {\n      /* eslint-disable no-console */\n      console.log(\"error!\");\n      console.log(e);\n      /* eslint-enable no-console */\n    }\n  } else {\n    dichtstbijzijnd_adres = null;\n  }\n  return {\n    query: {\n      latitude: data.latlng.lat,\n      longitude: data.latlng.lng\n    },\n    dichtstbijzijnd_adres: dichtstbijzijnd_adres,\n    object: null //no object for an address search\n  };\n}\n\nfunction findOmgevingFeature(features, type) {\n  let feature = features.find(feat => feat.properties.type === type);\n  if (feature === undefined) return null;\n  return feature.properties;\n}\n\nasync function getOmgevingInfo(data) {\n  const res = await query(\n    `https://api.data.amsterdam.nl/geosearch/?datasets=gebieden%2Fstadsdelen%2Cgebieden%2Fbuurten%2Cgebieden%2Fwijken&_fields=code&lat=${data.query.latitude}&lon=${data.query.longitude}&radius=50`\n  );\n  let buurtinfo = findOmgevingFeature(res.features, \"gebieden/buurt\");\n  let wijkinfo = findOmgevingFeature(res.features, \"gebieden/buurtcombinatie\");\n  let stadsdeelinfo = findOmgevingFeature(res.features, \"gebieden/stadsdeel\");\n  if (buurtinfo !== null && wijkinfo !== null && stadsdeelinfo !== null) {\n    data.omgevingsinfo = {\n      buurtnaam: buurtinfo !== undefined ? buurtinfo.display : null,\n      buurtcode: buurtinfo !== undefined ? buurtinfo.code : null,\n      wijknaam: wijkinfo !== undefined ? wijkinfo.display : null,\n      wijkcode: wijkinfo !== undefined ? wijkinfo.code : null,\n      stadsdeelnaam: stadsdeelinfo !== undefined ? stadsdeelinfo.display : null,\n      stadsdeelcode: stadsdeelinfo !== undefined ? stadsdeelinfo.code : null\n    };\n  } else {\n    data.omgevingsinfo = null;\n  }\n\n  return data;\n}\n\nfunction requestFormatter(baseUrl, xy) {\n  let xyRD = transformCoords.forward(xy);\n  return `${baseUrl}${xyRD.x},${xyRD.y},50`;\n}\n\nfunction responseFormatter(res, search_id) {\n  let filtered;\n  search_id =\n    search_id === false ? false : search_id === undefined ? false : search_id; //make sure that search_id is properly set to false\n  if (res.results) {\n    filtered =\n      search_id !== false\n        ? res.results.filter(x => x.landelijk_id === search_id)\n        : res.results.filter(x => x.type_adres === \"Hoofdadres\");\n  } else {\n    throw {\n      error: \"no results property found on query response.\",\n      response: res\n    };\n  }\n  return filtered.length > 0 ? filtered[0] : null;\n}\n\nasync function pointQueryChain(click) {\n  try {\n    const result = await getBagInfo(click)\n      .then(getFullObjectData)\n      .then(getOmgevingInfo);\n    return result;\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport {\n  pointQueryChain,\n  getBagInfo,\n  getFullObjectData,\n  getOmgevingInfo,\n  requestFormatter,\n  responseFormatter,\n  query\n};\n","/*\n * Leaflet.markercluster 1.5.3+master.e5124b2,\n * Provides Beautiful Animated Marker Clustering functionality for Leaflet, a JS library for interactive maps.\n * https://github.com/Leaflet/Leaflet.markercluster\n * (c) 2012-2017, Dave Leaver, smartrak\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory((global.Leaflet = global.Leaflet || {}, global.Leaflet.markercluster = {})));\n}(this, function (exports) { 'use strict';\n\n\t/*\n\t * L.MarkerClusterGroup extends L.FeatureGroup by clustering the markers contained within\n\t */\n\n\tvar MarkerClusterGroup = L.MarkerClusterGroup = L.FeatureGroup.extend({\n\n\t\toptions: {\n\t\t\tmaxClusterRadius: 80, //A cluster will cover at most this many pixels from its center\n\t\t\ticonCreateFunction: null,\n\t\t\tclusterPane: L.Marker.prototype.options.pane,\n\n\t\t\tspiderfyOnEveryZoom: false,\n\t\t\tspiderfyOnMaxZoom: true,\n\t\t\tshowCoverageOnHover: true,\n\t\t\tzoomToBoundsOnClick: true,\n\t\t\tsingleMarkerMode: false,\n\n\t\t\tdisableClusteringAtZoom: null,\n\n\t\t\t// Setting this to false prevents the removal of any clusters outside of the viewpoint, which\n\t\t\t// is the default behaviour for performance reasons.\n\t\t\tremoveOutsideVisibleBounds: true,\n\n\t\t\t// Set to false to disable all animations (zoom and spiderfy).\n\t\t\t// If false, option animateAddingMarkers below has no effect.\n\t\t\t// If L.DomUtil.TRANSITION is falsy, this option has no effect.\n\t\t\tanimate: true,\n\n\t\t\t//Whether to animate adding markers after adding the MarkerClusterGroup to the map\n\t\t\t// If you are adding individual markers set to true, if adding bulk markers leave false for massive performance gains.\n\t\t\tanimateAddingMarkers: false,\n\n\t\t\t// Make it possible to provide custom function to calculate spiderfy shape positions\n\t\t\tspiderfyShapePositions: null,\n\n\t\t\t//Increase to increase the distance away that spiderfied markers appear from the center\n\t\t\tspiderfyDistanceMultiplier: 1,\n\n\t\t\t// Make it possible to specify a polyline options on a spider leg\n\t\t\tspiderLegPolylineOptions: { weight: 1.5, color: '#222', opacity: 0.5 },\n\n\t\t\t// When bulk adding layers, adds markers in chunks. Means addLayers may not add all the layers in the call, others will be loaded during setTimeouts\n\t\t\tchunkedLoading: false,\n\t\t\tchunkInterval: 200, // process markers for a maximum of ~ n milliseconds (then trigger the chunkProgress callback)\n\t\t\tchunkDelay: 50, // at the end of each interval, give n milliseconds back to system/browser\n\t\t\tchunkProgress: null, // progress callback: function(processed, total, elapsed) (e.g. for a progress indicator)\n\n\t\t\t//Options to pass to the L.Polygon constructor\n\t\t\tpolygonOptions: {}\n\t\t},\n\n\t\tinitialize: function (options) {\n\t\t\tL.Util.setOptions(this, options);\n\t\t\tif (!this.options.iconCreateFunction) {\n\t\t\t\tthis.options.iconCreateFunction = this._defaultIconCreateFunction;\n\t\t\t}\n\n\t\t\tthis._featureGroup = L.featureGroup();\n\t\t\tthis._featureGroup.addEventParent(this);\n\n\t\t\tthis._nonPointGroup = L.featureGroup();\n\t\t\tthis._nonPointGroup.addEventParent(this);\n\n\t\t\tthis._inZoomAnimation = 0;\n\t\t\tthis._needsClustering = [];\n\t\t\tthis._needsRemoving = []; //Markers removed while we aren't on the map need to be kept track of\n\t\t\t//The bounds of the currently shown area (from _getExpandedVisibleBounds) Updated on zoom/move\n\t\t\tthis._currentShownBounds = null;\n\n\t\t\tthis._queue = [];\n\n\t\t\tthis._childMarkerEventHandlers = {\n\t\t\t\t'dragstart': this._childMarkerDragStart,\n\t\t\t\t'move': this._childMarkerMoved,\n\t\t\t\t'dragend': this._childMarkerDragEnd,\n\t\t\t};\n\n\t\t\t// Hook the appropriate animation methods.\n\t\t\tvar animate = L.DomUtil.TRANSITION && this.options.animate;\n\t\t\tL.extend(this, animate ? this._withAnimation : this._noAnimation);\n\t\t\t// Remember which MarkerCluster class to instantiate (animated or not).\n\t\t\tthis._markerCluster = animate ? L.MarkerCluster : L.MarkerClusterNonAnimated;\n\t\t},\n\n\t\taddLayer: function (layer) {\n\n\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\treturn this.addLayers([layer]);\n\t\t\t}\n\n\t\t\t//Don't cluster non point data\n\t\t\tif (!layer.getLatLng) {\n\t\t\t\tthis._nonPointGroup.addLayer(layer);\n\t\t\t\tthis.fire('layeradd', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!this._map) {\n\t\t\t\tthis._needsClustering.push(layer);\n\t\t\t\tthis.fire('layeradd', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this.hasLayer(layer)) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\n\t\t\t//If we have already clustered we'll need to add this one to a cluster\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\t\t\t}\n\n\t\t\tthis._addLayer(layer, this._maxZoom);\n\t\t\tthis.fire('layeradd', { layer: layer });\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t//Work out what is visible\n\t\t\tvar visibleLayer = layer,\n\t\t\t    currentZoom = this._zoom;\n\t\t\tif (layer.__parent) {\n\t\t\t\twhile (visibleLayer.__parent._zoom >= currentZoom) {\n\t\t\t\t\tvisibleLayer = visibleLayer.__parent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._currentShownBounds.contains(visibleLayer.getLatLng())) {\n\t\t\t\tif (this.options.animateAddingMarkers) {\n\t\t\t\t\tthis._animationAddLayer(layer, visibleLayer);\n\t\t\t\t} else {\n\t\t\t\t\tthis._animationAddLayerNonAnimated(layer, visibleLayer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tremoveLayer: function (layer) {\n\n\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\treturn this.removeLayers([layer]);\n\t\t\t}\n\n\t\t\t//Non point layers\n\t\t\tif (!layer.getLatLng) {\n\t\t\t\tthis._nonPointGroup.removeLayer(layer);\n\t\t\t\tthis.fire('layerremove', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!this._map) {\n\t\t\t\tif (!this._arraySplice(this._needsClustering, layer) && this.hasLayer(layer)) {\n\t\t\t\t\tthis._needsRemoving.push({ layer: layer, latlng: layer._latlng });\n\t\t\t\t}\n\t\t\t\tthis.fire('layerremove', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!layer.__parent) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\t\t\t\tthis._unspiderfyLayer(layer);\n\t\t\t}\n\n\t\t\t//Remove the marker from clusters\n\t\t\tthis._removeLayer(layer, true);\n\t\t\tthis.fire('layerremove', { layer: layer });\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\tlayer.off(this._childMarkerEventHandlers, this);\n\n\t\t\tif (this._featureGroup.hasLayer(layer)) {\n\t\t\t\tthis._featureGroup.removeLayer(layer);\n\t\t\t\tif (layer.clusterShow) {\n\t\t\t\t\tlayer.clusterShow();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Takes an array of markers and adds them in bulk\n\t\taddLayers: function (layersArray, skipLayerAddEvent) {\n\t\t\tif (!L.Util.isArray(layersArray)) {\n\t\t\t\treturn this.addLayer(layersArray);\n\t\t\t}\n\n\t\t\tvar fg = this._featureGroup,\n\t\t\t    npg = this._nonPointGroup,\n\t\t\t    chunked = this.options.chunkedLoading,\n\t\t\t    chunkInterval = this.options.chunkInterval,\n\t\t\t    chunkProgress = this.options.chunkProgress,\n\t\t\t    l = layersArray.length,\n\t\t\t    offset = 0,\n\t\t\t    originalArray = true,\n\t\t\t    m;\n\n\t\t\tif (this._map) {\n\t\t\t\tvar started = (new Date()).getTime();\n\t\t\t\tvar process = L.bind(function () {\n\t\t\t\t\tvar start = (new Date()).getTime();\n\n\t\t\t\t\t// Make sure to unspiderfy before starting to add some layers\n\t\t\t\t\tif (this._map && this._unspiderfy) {\n\t\t\t\t\t\tthis._unspiderfy();\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (; offset < l; offset++) {\n\t\t\t\t\t\tif (chunked && offset % 200 === 0) {\n\t\t\t\t\t\t\t// every couple hundred markers, instrument the time elapsed since processing started:\n\t\t\t\t\t\t\tvar elapsed = (new Date()).getTime() - start;\n\t\t\t\t\t\t\tif (elapsed > chunkInterval) {\n\t\t\t\t\t\t\t\tbreak; // been working too hard, time to take a break :-)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tm = layersArray[offset];\n\n\t\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\t\t// Side effects:\n\t\t\t\t\t\t// - Total increases, so chunkProgress ratio jumps backward.\n\t\t\t\t\t\t// - Groups are not included in this group, only their non-group child layers (hasLayer).\n\t\t\t\t\t\t// Changing array length while looping does not affect performance in current browsers:\n\t\t\t\t\t\t// http://jsperf.com/for-loop-changing-length/6\n\t\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//Not point data, can't be clustered\n\t\t\t\t\t\tif (!m.getLatLng) {\n\t\t\t\t\t\t\tnpg.addLayer(m);\n\t\t\t\t\t\t\tif (!skipLayerAddEvent) {\n\t\t\t\t\t\t\t\tthis.fire('layeradd', { layer: m });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._addLayer(m, this._maxZoom);\n\t\t\t\t\t\tif (!skipLayerAddEvent) {\n\t\t\t\t\t\t\tthis.fire('layeradd', { layer: m });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//If we just made a cluster of size 2 then we need to remove the other marker from the map (if it is) or we never will\n\t\t\t\t\t\tif (m.__parent) {\n\t\t\t\t\t\t\tif (m.__parent.getChildCount() === 2) {\n\t\t\t\t\t\t\t\tvar markers = m.__parent.getAllChildMarkers(),\n\t\t\t\t\t\t\t\t    otherMarker = markers[0] === m ? markers[1] : markers[0];\n\t\t\t\t\t\t\t\tfg.removeLayer(otherMarker);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chunkProgress) {\n\t\t\t\t\t\t// report progress and time elapsed:\n\t\t\t\t\t\tchunkProgress(offset, l, (new Date()).getTime() - started);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Completed processing all markers.\n\t\t\t\t\tif (offset === l) {\n\n\t\t\t\t\t\t// Refresh bounds and weighted positions.\n\t\t\t\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\t\t\t\tthis._refreshClustersIcons();\n\n\t\t\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(process, this.options.chunkDelay);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tprocess();\n\t\t\t} else {\n\t\t\t\tvar needsClustering = this._needsClustering;\n\n\t\t\t\tfor (; offset < l; offset++) {\n\t\t\t\t\tm = layersArray[offset];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t//Not point data, can't be clustered\n\t\t\t\t\tif (!m.getLatLng) {\n\t\t\t\t\t\tnpg.addLayer(m);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsClustering.push(m);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\t//Takes an array of markers and removes them in bulk\n\t\tremoveLayers: function (layersArray) {\n\t\t\tvar i, m,\n\t\t\t    l = layersArray.length,\n\t\t\t    fg = this._featureGroup,\n\t\t\t    npg = this._nonPointGroup,\n\t\t\t    originalArray = true;\n\n\t\t\tif (!this._map) {\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tm = layersArray[i];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._arraySplice(this._needsClustering, m);\n\t\t\t\t\tnpg.removeLayer(m);\n\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\tthis._needsRemoving.push({ layer: m, latlng: m._latlng });\n\t\t\t\t\t}\n\t\t\t\t\tthis.fire('layerremove', { layer: m });\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\n\t\t\t\t// Work on a copy of the array, so that next loop is not affected.\n\t\t\t\tvar layersArray2 = layersArray.slice(),\n\t\t\t\t    l2 = l;\n\t\t\t\tfor (i = 0; i < l2; i++) {\n\t\t\t\t\tm = layersArray2[i];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray2);\n\t\t\t\t\t\tl2 = layersArray2.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._unspiderfyLayer(m);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\tm = layersArray[i];\n\n\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!m.__parent) {\n\t\t\t\t\tnpg.removeLayer(m);\n\t\t\t\t\tthis.fire('layerremove', { layer: m });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tthis._removeLayer(m, true, true);\n\t\t\t\tthis.fire('layerremove', { layer: m });\n\n\t\t\t\tif (fg.hasLayer(m)) {\n\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t//Fix up the clusters and markers on the map\n\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Removes all layers from the MarkerClusterGroup\n\t\tclearLayers: function () {\n\t\t\t//Need our own special implementation as the LayerGroup one doesn't work for us\n\n\t\t\t//If we aren't on the map (yet), blow away the markers we know of\n\t\t\tif (!this._map) {\n\t\t\t\tthis._needsClustering = [];\n\t\t\t\tthis._needsRemoving = [];\n\t\t\t\tdelete this._gridClusters;\n\t\t\t\tdelete this._gridUnclustered;\n\t\t\t}\n\n\t\t\tif (this._noanimationUnspiderfy) {\n\t\t\t\tthis._noanimationUnspiderfy();\n\t\t\t}\n\n\t\t\t//Remove all the visible layers\n\t\t\tthis._featureGroup.clearLayers();\n\t\t\tthis._nonPointGroup.clearLayers();\n\n\t\t\tthis.eachLayer(function (marker) {\n\t\t\t\tmarker.off(this._childMarkerEventHandlers, this);\n\t\t\t\tdelete marker.__parent;\n\t\t\t}, this);\n\n\t\t\tif (this._map) {\n\t\t\t\t//Reset _topClusterLevel and the DistanceGrids\n\t\t\t\tthis._generateInitialClusters();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Override FeatureGroup.getBounds as it doesn't work\n\t\tgetBounds: function () {\n\t\t\tvar bounds = new L.LatLngBounds();\n\n\t\t\tif (this._topClusterLevel) {\n\t\t\t\tbounds.extend(this._topClusterLevel._bounds);\n\t\t\t}\n\n\t\t\tfor (var i = this._needsClustering.length - 1; i >= 0; i--) {\n\t\t\t\tbounds.extend(this._needsClustering[i].getLatLng());\n\t\t\t}\n\n\t\t\tbounds.extend(this._nonPointGroup.getBounds());\n\n\t\t\treturn bounds;\n\t\t},\n\n\t\t//Overrides LayerGroup.eachLayer\n\t\teachLayer: function (method, context) {\n\t\t\tvar markers = this._needsClustering.slice(),\n\t\t\t\tneedsRemoving = this._needsRemoving,\n\t\t\t\tthisNeedsRemoving, i, j;\n\n\t\t\tif (this._topClusterLevel) {\n\t\t\t\tthis._topClusterLevel.getAllChildMarkers(markers);\n\t\t\t}\n\n\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\tthisNeedsRemoving = true;\n\n\t\t\t\tfor (j = needsRemoving.length - 1; j >= 0; j--) {\n\t\t\t\t\tif (needsRemoving[j].layer === markers[i]) {\n\t\t\t\t\t\tthisNeedsRemoving = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (thisNeedsRemoving) {\n\t\t\t\t\tmethod.call(context, markers[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._nonPointGroup.eachLayer(method, context);\n\t\t},\n\n\t\t//Overrides LayerGroup.getLayers\n\t\tgetLayers: function () {\n\t\t\tvar layers = [];\n\t\t\tthis.eachLayer(function (l) {\n\t\t\t\tlayers.push(l);\n\t\t\t});\n\t\t\treturn layers;\n\t\t},\n\n\t\t//Overrides LayerGroup.getLayer, WARNING: Really bad performance\n\t\tgetLayer: function (id) {\n\t\t\tvar result = null;\n\n\t\t\tid = parseInt(id, 10);\n\n\t\t\tthis.eachLayer(function (l) {\n\t\t\t\tif (L.stamp(l) === id) {\n\t\t\t\t\tresult = l;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\t//Returns true if the given layer is in this MarkerClusterGroup\n\t\thasLayer: function (layer) {\n\t\t\tif (!layer) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i, anArray = this._needsClustering;\n\n\t\t\tfor (i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i] === layer) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanArray = this._needsRemoving;\n\t\t\tfor (i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i].layer === layer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!(layer.__parent && layer.__parent._group === this) || this._nonPointGroup.hasLayer(layer);\n\t\t},\n\n\t\t//Zoom down to show the given layer (spiderfying if necessary) then calls the callback\n\t\tzoomToShowLayer: function (layer, callback) {\n\n\t\t\tvar map = this._map;\n\n\t\t\tif (typeof callback !== 'function') {\n\t\t\t\tcallback = function () {};\n\t\t\t}\n\n\t\t\tvar showMarker = function () {\n\t\t\t\t// Assumes that map.hasLayer checks for direct appearance on map, not recursively calling\n\t\t\t\t// hasLayer on Layer Groups that are on map (typically not calling this MarkerClusterGroup.hasLayer, which would always return true)\n\t\t\t\tif ((map.hasLayer(layer) || map.hasLayer(layer.__parent)) && !this._inZoomAnimation) {\n\t\t\t\t\tthis._map.off('moveend', showMarker, this);\n\t\t\t\t\tthis.off('animationend', showMarker, this);\n\n\t\t\t\t\tif (map.hasLayer(layer)) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t} else if (layer.__parent._icon) {\n\t\t\t\t\t\tthis.once('spiderfied', callback, this);\n\t\t\t\t\t\tlayer.__parent.spiderfy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (layer._icon && this._map.getBounds().contains(layer.getLatLng())) {\n\t\t\t\t//Layer is visible ond on screen, immediate return\n\t\t\t\tcallback();\n\t\t\t} else if (layer.__parent._zoom < Math.round(this._map._zoom)) {\n\t\t\t\t//Layer should be visible at this zoom level. It must not be on screen so just pan over to it\n\t\t\t\tthis._map.on('moveend', showMarker, this);\n\t\t\t\tthis._map.panTo(layer.getLatLng());\n\t\t\t} else {\n\t\t\t\tthis._map.on('moveend', showMarker, this);\n\t\t\t\tthis.on('animationend', showMarker, this);\n\t\t\t\tlayer.__parent.zoomToBounds();\n\t\t\t}\n\t\t},\n\n\t\t//Overrides FeatureGroup.onAdd\n\t\tonAdd: function (map) {\n\t\t\tthis._map = map;\n\t\t\tvar i, l, layer;\n\n\t\t\tif (!isFinite(this._map.getMaxZoom())) {\n\t\t\t\tthrow \"Map has no maxZoom specified\";\n\t\t\t}\n\n\t\t\tthis._featureGroup.addTo(map);\n\t\t\tthis._nonPointGroup.addTo(map);\n\n\t\t\tif (!this._gridClusters) {\n\t\t\t\tthis._generateInitialClusters();\n\t\t\t}\n\n\t\t\tthis._maxLat = map.options.crs.projection.MAX_LATITUDE;\n\n\t\t\t//Restore all the positions as they are in the MCG before removing them\n\t\t\tfor (i = 0, l = this._needsRemoving.length; i < l; i++) {\n\t\t\t\tlayer = this._needsRemoving[i];\n\t\t\t\tlayer.newlatlng = layer.layer._latlng;\n\t\t\t\tlayer.layer._latlng = layer.latlng;\n\t\t\t}\n\t\t\t//Remove them, then restore their new positions\n\t\t\tfor (i = 0, l = this._needsRemoving.length; i < l; i++) {\n\t\t\t\tlayer = this._needsRemoving[i];\n\t\t\t\tthis._removeLayer(layer.layer, true);\n\t\t\t\tlayer.layer._latlng = layer.newlatlng;\n\t\t\t}\n\t\t\tthis._needsRemoving = [];\n\n\t\t\t//Remember the current zoom level and bounds\n\t\t\tthis._zoom = Math.round(this._map._zoom);\n\t\t\tthis._currentShownBounds = this._getExpandedVisibleBounds();\n\n\t\t\tthis._map.on('zoomend', this._zoomEnd, this);\n\t\t\tthis._map.on('moveend', this._moveEnd, this);\n\n\t\t\tif (this._spiderfierOnAdd) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\n\t\t\t\tthis._spiderfierOnAdd();\n\t\t\t}\n\n\t\t\tthis._bindEvents();\n\n\t\t\t//Actually add our markers to the map:\n\t\t\tl = this._needsClustering;\n\t\t\tthis._needsClustering = [];\n\t\t\tthis.addLayers(l, true);\n\t\t},\n\n\t\t//Overrides FeatureGroup.onRemove\n\t\tonRemove: function (map) {\n\t\t\tmap.off('zoomend', this._zoomEnd, this);\n\t\t\tmap.off('moveend', this._moveEnd, this);\n\n\t\t\tthis._unbindEvents();\n\n\t\t\t//In case we are in a cluster animation\n\t\t\tthis._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\n\t\t\tif (this._spiderfierOnRemove) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\n\t\t\t\tthis._spiderfierOnRemove();\n\t\t\t}\n\n\t\t\tdelete this._maxLat;\n\n\t\t\t//Clean up all the layers we added to the map\n\t\t\tthis._hideCoverage();\n\t\t\tthis._featureGroup.remove();\n\t\t\tthis._nonPointGroup.remove();\n\n\t\t\tthis._featureGroup.clearLayers();\n\n\t\t\tthis._map = null;\n\t\t},\n\n\t\tgetVisibleParent: function (marker) {\n\t\t\tvar vMarker = marker;\n\t\t\twhile (vMarker && !vMarker._icon) {\n\t\t\t\tvMarker = vMarker.__parent;\n\t\t\t}\n\t\t\treturn vMarker || null;\n\t\t},\n\n\t\t//Remove the given object from the given array\n\t\t_arraySplice: function (anArray, obj) {\n\t\t\tfor (var i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i] === obj) {\n\t\t\t\t\tanArray.splice(i, 1);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes a marker from all _gridUnclustered zoom levels, starting at the supplied zoom.\n\t\t * @param marker to be removed from _gridUnclustered.\n\t\t * @param z integer bottom start zoom level (included)\n\t\t * @private\n\t\t */\n\t\t_removeFromGridUnclustered: function (marker, z) {\n\t\t\tvar map = this._map,\n\t\t\t    gridUnclustered = this._gridUnclustered,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\tfor (; z >= minZoom; z--) {\n\t\t\t\tif (!gridUnclustered[z].removeObject(marker, map.project(marker.getLatLng(), z))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_childMarkerDragStart: function (e) {\n\t\t\te.target.__dragStart = e.target._latlng;\n\t\t},\n\n\t\t_childMarkerMoved: function (e) {\n\t\t\tif (!this._ignoreMove && !e.target.__dragStart) {\n\t\t\t\tvar isPopupOpen = e.target._popup && e.target._popup.isOpen();\n\n\t\t\t\tthis._moveChild(e.target, e.oldLatLng, e.latlng);\n\n\t\t\t\tif (isPopupOpen) {\n\t\t\t\t\te.target.openPopup();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_moveChild: function (layer, from, to) {\n\t\t\tlayer._latlng = from;\n\t\t\tthis.removeLayer(layer);\n\n\t\t\tlayer._latlng = to;\n\t\t\tthis.addLayer(layer);\n\t\t},\n\n\t\t_childMarkerDragEnd: function (e) {\n\t\t\tvar dragStart = e.target.__dragStart;\n\t\t\tdelete e.target.__dragStart;\n\t\t\tif (dragStart) {\n\t\t\t\tthis._moveChild(e.target, dragStart, e.target._latlng);\n\t\t\t}\t\t\n\t\t},\n\n\n\t\t//Internal function for removing a marker from everything.\n\t\t//dontUpdateMap: set to true if you will handle updating the map manually (for bulk functions)\n\t\t_removeLayer: function (marker, removeFromDistanceGrid, dontUpdateMap) {\n\t\t\tvar gridClusters = this._gridClusters,\n\t\t\t\tgridUnclustered = this._gridUnclustered,\n\t\t\t\tfg = this._featureGroup,\n\t\t\t\tmap = this._map,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\t//Remove the marker from distance clusters it might be in\n\t\t\tif (removeFromDistanceGrid) {\n\t\t\t\tthis._removeFromGridUnclustered(marker, this._maxZoom);\n\t\t\t}\n\n\t\t\t//Work our way up the clusters removing them as we go if required\n\t\t\tvar cluster = marker.__parent,\n\t\t\t\tmarkers = cluster._markers,\n\t\t\t\totherMarker;\n\n\t\t\t//Remove the marker from the immediate parents marker list\n\t\t\tthis._arraySplice(markers, marker);\n\n\t\t\twhile (cluster) {\n\t\t\t\tcluster._childCount--;\n\t\t\t\tcluster._boundsNeedUpdate = true;\n\n\t\t\t\tif (cluster._zoom < minZoom) {\n\t\t\t\t\t//Top level, do nothing\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (removeFromDistanceGrid && cluster._childCount <= 1) { //Cluster no longer required\n\t\t\t\t\t//We need to push the other marker up to the parent\n\t\t\t\t\totherMarker = cluster._markers[0] === marker ? cluster._markers[1] : cluster._markers[0];\n\n\t\t\t\t\t//Update distance grid\n\t\t\t\t\tgridClusters[cluster._zoom].removeObject(cluster, map.project(cluster._cLatLng, cluster._zoom));\n\t\t\t\t\tgridUnclustered[cluster._zoom].addObject(otherMarker, map.project(otherMarker.getLatLng(), cluster._zoom));\n\n\t\t\t\t\t//Move otherMarker up to parent\n\t\t\t\t\tthis._arraySplice(cluster.__parent._childClusters, cluster);\n\t\t\t\t\tcluster.__parent._markers.push(otherMarker);\n\t\t\t\t\totherMarker.__parent = cluster.__parent;\n\n\t\t\t\t\tif (cluster._icon) {\n\t\t\t\t\t\t//Cluster is currently on the map, need to put the marker on the map instead\n\t\t\t\t\t\tfg.removeLayer(cluster);\n\t\t\t\t\t\tif (!dontUpdateMap) {\n\t\t\t\t\t\t\tfg.addLayer(otherMarker);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcluster._iconNeedsUpdate = true;\n\t\t\t\t}\n\n\t\t\t\tcluster = cluster.__parent;\n\t\t\t}\n\n\t\t\tdelete marker.__parent;\n\t\t},\n\n\t\t_isOrIsParent: function (el, oel) {\n\t\t\twhile (oel) {\n\t\t\t\tif (el === oel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\toel = oel.parentNode;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t//Override L.Evented.fire\n\t\tfire: function (type, data, propagate) {\n\t\t\tif (data && data.layer instanceof L.MarkerCluster) {\n\t\t\t\t//Prevent multiple clustermouseover/off events if the icon is made up of stacked divs (Doesn't work in ie <= 8, no relatedTarget)\n\t\t\t\tif (data.originalEvent && this._isOrIsParent(data.layer._icon, data.originalEvent.relatedTarget)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttype = 'cluster' + type;\n\t\t\t}\n\n\t\t\tL.FeatureGroup.prototype.fire.call(this, type, data, propagate);\n\t\t},\n\n\t\t//Override L.Evented.listens\n\t\tlistens: function (type, propagate) {\n\t\t\treturn L.FeatureGroup.prototype.listens.call(this, type, propagate) || L.FeatureGroup.prototype.listens.call(this, 'cluster' + type, propagate);\n\t\t},\n\n\t\t//Default functionality\n\t\t_defaultIconCreateFunction: function (cluster) {\n\t\t\tvar childCount = cluster.getChildCount();\n\n\t\t\tvar c = ' marker-cluster-';\n\t\t\tif (childCount < 10) {\n\t\t\t\tc += 'small';\n\t\t\t} else if (childCount < 100) {\n\t\t\t\tc += 'medium';\n\t\t\t} else {\n\t\t\t\tc += 'large';\n\t\t\t}\n\n\t\t\treturn new L.DivIcon({ html: '<div><span>' + childCount + '</span></div>', className: 'marker-cluster' + c, iconSize: new L.Point(40, 40) });\n\t\t},\n\n\t\t_bindEvents: function () {\n\t\t\tvar map = this._map,\n\t\t\t    spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t\t\t    showCoverageOnHover = this.options.showCoverageOnHover,\n\t\t\t    zoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\n\t\t\t    spiderfyOnEveryZoom = this.options.spiderfyOnEveryZoom;\n\n\t\t\t//Zoom on cluster click or spiderfy if we are at the lowest level\n\t\t\tif (spiderfyOnMaxZoom || zoomToBoundsOnClick || spiderfyOnEveryZoom) {\n\t\t\t\tthis.on('clusterclick clusterkeypress', this._zoomOrSpiderfy, this);\n\t\t\t}\n\n\t\t\t//Show convex hull (boundary) polygon on mouse over\n\t\t\tif (showCoverageOnHover) {\n\t\t\t\tthis.on('clustermouseover', this._showCoverage, this);\n\t\t\t\tthis.on('clustermouseout', this._hideCoverage, this);\n\t\t\t\tmap.on('zoomend', this._hideCoverage, this);\n\t\t\t}\n\t\t},\n\n\t\t_zoomOrSpiderfy: function (e) {\n\t\t\tvar cluster = e.layer,\n\t\t\t    bottomCluster = cluster;\n\n\t\t\tif (e.type === 'clusterkeypress' && e.originalEvent && e.originalEvent.keyCode !== 13) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twhile (bottomCluster._childClusters.length === 1) {\n\t\t\t\tbottomCluster = bottomCluster._childClusters[0];\n\t\t\t}\n\n\t\t\tif (bottomCluster._zoom === this._maxZoom &&\n\t\t\t\tbottomCluster._childCount === cluster._childCount &&\n\t\t\t\tthis.options.spiderfyOnMaxZoom) {\n\n\t\t\t\t// All child markers are contained in a single cluster from this._maxZoom to this cluster.\n\t\t\t\tcluster.spiderfy();\n\t\t\t} else if (this.options.zoomToBoundsOnClick) {\n\t\t\t\tcluster.zoomToBounds();\n\t\t\t}\n\n\t\t\tif (this.options.spiderfyOnEveryZoom) {\n\t\t\t\tcluster.spiderfy();\n\t\t\t}\n\n\t\t\t// Focus the map again for keyboard users.\n\t\t\tif (e.originalEvent && e.originalEvent.keyCode === 13) {\n\t\t\t\tthis._map._container.focus();\n\t\t\t}\n\t\t},\n\n\t\t_showCoverage: function (e) {\n\t\t\tvar map = this._map;\n\t\t\tif (this._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._shownPolygon) {\n\t\t\t\tmap.removeLayer(this._shownPolygon);\n\t\t\t}\n\t\t\tif (e.layer.getChildCount() > 2 && e.layer !== this._spiderfied) {\n\t\t\t\tthis._shownPolygon = new L.Polygon(e.layer.getConvexHull(), this.options.polygonOptions);\n\t\t\t\tmap.addLayer(this._shownPolygon);\n\t\t\t}\n\t\t},\n\n\t\t_hideCoverage: function () {\n\t\t\tif (this._shownPolygon) {\n\t\t\t\tthis._map.removeLayer(this._shownPolygon);\n\t\t\t\tthis._shownPolygon = null;\n\t\t\t}\n\t\t},\n\n\t\t_unbindEvents: function () {\n\t\t\tvar spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t\t\t\tshowCoverageOnHover = this.options.showCoverageOnHover,\n\t\t\t\tzoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\n\t\t\t\tspiderfyOnEveryZoom = this.options.spiderfyOnEveryZoom,\n\t\t\t\tmap = this._map;\n\n\t\t\tif (spiderfyOnMaxZoom || zoomToBoundsOnClick || spiderfyOnEveryZoom) {\n\t\t\t\tthis.off('clusterclick clusterkeypress', this._zoomOrSpiderfy, this);\n\t\t\t}\n\t\t\tif (showCoverageOnHover) {\n\t\t\t\tthis.off('clustermouseover', this._showCoverage, this);\n\t\t\t\tthis.off('clustermouseout', this._hideCoverage, this);\n\t\t\t\tmap.off('zoomend', this._hideCoverage, this);\n\t\t\t}\n\t\t},\n\n\t\t_zoomEnd: function () {\n\t\t\tif (!this._map) { //May have been removed from the map by a zoomEnd handler\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._mergeSplitClusters();\n\n\t\t\tthis._zoom = Math.round(this._map._zoom);\n\t\t\tthis._currentShownBounds = this._getExpandedVisibleBounds();\n\t\t},\n\n\t\t_moveEnd: function () {\n\t\t\tif (this._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar newBounds = this._getExpandedVisibleBounds();\n\n\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), this._zoom, newBounds);\n\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, Math.round(this._map._zoom), newBounds);\n\n\t\t\tthis._currentShownBounds = newBounds;\n\t\t\treturn;\n\t\t},\n\n\t\t_generateInitialClusters: function () {\n\t\t\tvar maxZoom = Math.ceil(this._map.getMaxZoom()),\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t\tradius = this.options.maxClusterRadius,\n\t\t\t\tradiusFn = radius;\n\n\t\t\t//If we just set maxClusterRadius to a single number, we need to create\n\t\t\t//a simple function to return that number. Otherwise, we just have to\n\t\t\t//use the function we've passed in.\n\t\t\tif (typeof radius !== \"function\") {\n\t\t\t\tradiusFn = function () { return radius; };\n\t\t\t}\n\n\t\t\tif (this.options.disableClusteringAtZoom !== null) {\n\t\t\t\tmaxZoom = this.options.disableClusteringAtZoom - 1;\n\t\t\t}\n\t\t\tthis._maxZoom = maxZoom;\n\t\t\tthis._gridClusters = {};\n\t\t\tthis._gridUnclustered = {};\n\n\t\t\t//Set up DistanceGrids for each zoom\n\t\t\tfor (var zoom = maxZoom; zoom >= minZoom; zoom--) {\n\t\t\t\tthis._gridClusters[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t\t\t\tthis._gridUnclustered[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t\t\t}\n\n\t\t\t// Instantiate the appropriate L.MarkerCluster class (animated or not).\n\t\t\tthis._topClusterLevel = new this._markerCluster(this, minZoom - 1);\n\t\t},\n\n\t\t//Zoom: Zoom to start adding at (Pass this._maxZoom to start at the bottom)\n\t\t_addLayer: function (layer, zoom) {\n\t\t\tvar gridClusters = this._gridClusters,\n\t\t\t    gridUnclustered = this._gridUnclustered,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t    markerPoint, z;\n\n\t\t\tif (this.options.singleMarkerMode) {\n\t\t\t\tthis._overrideMarkerIcon(layer);\n\t\t\t}\n\n\t\t\tlayer.on(this._childMarkerEventHandlers, this);\n\n\t\t\t//Find the lowest zoom level to slot this one in\n\t\t\tfor (; zoom >= minZoom; zoom--) {\n\t\t\t\tmarkerPoint = this._map.project(layer.getLatLng(), zoom); // calculate pixel position\n\n\t\t\t\t//Try find a cluster close by\n\t\t\t\tvar closest = gridClusters[zoom].getNearObject(markerPoint);\n\t\t\t\tif (closest) {\n\t\t\t\t\tclosest._addChild(layer);\n\t\t\t\t\tlayer.__parent = closest;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Try find a marker close by to form a new cluster with\n\t\t\t\tclosest = gridUnclustered[zoom].getNearObject(markerPoint);\n\t\t\t\tif (closest) {\n\t\t\t\t\tvar parent = closest.__parent;\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tthis._removeLayer(closest, false);\n\t\t\t\t\t}\n\n\t\t\t\t\t//Create new cluster with these 2 in it\n\n\t\t\t\t\tvar newCluster = new this._markerCluster(this, zoom, closest, layer);\n\t\t\t\t\tgridClusters[zoom].addObject(newCluster, this._map.project(newCluster._cLatLng, zoom));\n\t\t\t\t\tclosest.__parent = newCluster;\n\t\t\t\t\tlayer.__parent = newCluster;\n\n\t\t\t\t\t//First create any new intermediate parent clusters that don't exist\n\t\t\t\t\tvar lastParent = newCluster;\n\t\t\t\t\tfor (z = zoom - 1; z > parent._zoom; z--) {\n\t\t\t\t\t\tlastParent = new this._markerCluster(this, z, lastParent);\n\t\t\t\t\t\tgridClusters[z].addObject(lastParent, this._map.project(closest.getLatLng(), z));\n\t\t\t\t\t}\n\t\t\t\t\tparent._addChild(lastParent);\n\n\t\t\t\t\t//Remove closest from this zoom level and any above that it is in, replace with newCluster\n\t\t\t\t\tthis._removeFromGridUnclustered(closest, zoom);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Didn't manage to cluster in at this zoom, record us as a marker here and continue upwards\n\t\t\t\tgridUnclustered[zoom].addObject(layer, markerPoint);\n\t\t\t}\n\n\t\t\t//Didn't get in anything, add us to the top\n\t\t\tthis._topClusterLevel._addChild(layer);\n\t\t\tlayer.__parent = this._topClusterLevel;\n\t\t\treturn;\n\t\t},\n\n\t\t/**\n\t\t * Refreshes the icon of all \"dirty\" visible clusters.\n\t\t * Non-visible \"dirty\" clusters will be updated when they are added to the map.\n\t\t * @private\n\t\t */\n\t\t_refreshClustersIcons: function () {\n\t\t\tthis._featureGroup.eachLayer(function (c) {\n\t\t\t\tif (c instanceof L.MarkerCluster && c._iconNeedsUpdate) {\n\t\t\t\t\tc._updateIcon();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//Enqueue code to fire after the marker expand/contract has happened\n\t\t_enqueue: function (fn) {\n\t\t\tthis._queue.push(fn);\n\t\t\tif (!this._queueTimeout) {\n\t\t\t\tthis._queueTimeout = setTimeout(L.bind(this._processQueue, this), 300);\n\t\t\t}\n\t\t},\n\t\t_processQueue: function () {\n\t\t\tfor (var i = 0; i < this._queue.length; i++) {\n\t\t\t\tthis._queue[i].call(this);\n\t\t\t}\n\t\t\tthis._queue.length = 0;\n\t\t\tclearTimeout(this._queueTimeout);\n\t\t\tthis._queueTimeout = null;\n\t\t},\n\n\t\t//Merge and split any existing clusters that are too big or small\n\t\t_mergeSplitClusters: function () {\n\t\t\tvar mapZoom = Math.round(this._map._zoom);\n\n\t\t\t//In case we are starting to split before the animation finished\n\t\t\tthis._processQueue();\n\n\t\t\tif (this._zoom < mapZoom && this._currentShownBounds.intersects(this._getExpandedVisibleBounds())) { //Zoom in, split\n\t\t\t\tthis._animationStart();\n\t\t\t\t//Remove clusters now off screen\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), this._zoom, this._getExpandedVisibleBounds());\n\n\t\t\t\tthis._animationZoomIn(this._zoom, mapZoom);\n\n\t\t\t} else if (this._zoom > mapZoom) { //Zoom out, merge\n\t\t\t\tthis._animationStart();\n\n\t\t\t\tthis._animationZoomOut(this._zoom, mapZoom);\n\t\t\t} else {\n\t\t\t\tthis._moveEnd();\n\t\t\t}\n\t\t},\n\n\t\t//Gets the maps visible bounds expanded in each direction by the size of the screen (so the user cannot see an area we do not cover in one pan)\n\t\t_getExpandedVisibleBounds: function () {\n\t\t\tif (!this.options.removeOutsideVisibleBounds) {\n\t\t\t\treturn this._mapBoundsInfinite;\n\t\t\t} else if (L.Browser.mobile) {\n\t\t\t\treturn this._checkBoundsMaxLat(this._map.getBounds());\n\t\t\t}\n\n\t\t\treturn this._checkBoundsMaxLat(this._map.getBounds().pad(1)); // Padding expands the bounds by its own dimensions but scaled with the given factor.\n\t\t},\n\n\t\t/**\n\t\t * Expands the latitude to Infinity (or -Infinity) if the input bounds reach the map projection maximum defined latitude\n\t\t * (in the case of Web/Spherical Mercator, it is 85.0511287798 / see https://en.wikipedia.org/wiki/Web_Mercator#Formulas).\n\t\t * Otherwise, the removeOutsideVisibleBounds option will remove markers beyond that limit, whereas the same markers without\n\t\t * this option (or outside MCG) will have their position floored (ceiled) by the projection and rendered at that limit,\n\t\t * making the user think that MCG \"eats\" them and never displays them again.\n\t\t * @param bounds L.LatLngBounds\n\t\t * @returns {L.LatLngBounds}\n\t\t * @private\n\t\t */\n\t\t_checkBoundsMaxLat: function (bounds) {\n\t\t\tvar maxLat = this._maxLat;\n\n\t\t\tif (maxLat !== undefined) {\n\t\t\t\tif (bounds.getNorth() >= maxLat) {\n\t\t\t\t\tbounds._northEast.lat = Infinity;\n\t\t\t\t}\n\t\t\t\tif (bounds.getSouth() <= -maxLat) {\n\t\t\t\t\tbounds._southWest.lat = -Infinity;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn bounds;\n\t\t},\n\n\t\t//Shared animation code\n\t\t_animationAddLayerNonAnimated: function (layer, newCluster) {\n\t\t\tif (newCluster === layer) {\n\t\t\t\tthis._featureGroup.addLayer(layer);\n\t\t\t} else if (newCluster._childCount === 2) {\n\t\t\t\tnewCluster._addToMap();\n\n\t\t\t\tvar markers = newCluster.getAllChildMarkers();\n\t\t\t\tthis._featureGroup.removeLayer(markers[0]);\n\t\t\t\tthis._featureGroup.removeLayer(markers[1]);\n\t\t\t} else {\n\t\t\t\tnewCluster._updateIcon();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Extracts individual (i.e. non-group) layers from a Layer Group.\n\t\t * @param group to extract layers from.\n\t\t * @param output {Array} in which to store the extracted layers.\n\t\t * @returns {*|Array}\n\t\t * @private\n\t\t */\n\t\t_extractNonGroupLayers: function (group, output) {\n\t\t\tvar layers = group.getLayers(),\n\t\t\t    i = 0,\n\t\t\t    layer;\n\n\t\t\toutput = output || [];\n\n\t\t\tfor (; i < layers.length; i++) {\n\t\t\t\tlayer = layers[i];\n\n\t\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\t\tthis._extractNonGroupLayers(layer, output);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\toutput.push(layer);\n\t\t\t}\n\n\t\t\treturn output;\n\t\t},\n\n\t\t/**\n\t\t * Implements the singleMarkerMode option.\n\t\t * @param layer Marker to re-style using the Clusters iconCreateFunction.\n\t\t * @returns {L.Icon} The newly created icon.\n\t\t * @private\n\t\t */\n\t\t_overrideMarkerIcon: function (layer) {\n\t\t\tvar icon = layer.options.icon = this.options.iconCreateFunction({\n\t\t\t\tgetChildCount: function () {\n\t\t\t\t\treturn 1;\n\t\t\t\t},\n\t\t\t\tgetAllChildMarkers: function () {\n\t\t\t\t\treturn [layer];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn icon;\n\t\t}\n\t});\n\n\t// Constant bounds used in case option \"removeOutsideVisibleBounds\" is set to false.\n\tL.MarkerClusterGroup.include({\n\t\t_mapBoundsInfinite: new L.LatLngBounds(new L.LatLng(-Infinity, -Infinity), new L.LatLng(Infinity, Infinity))\n\t});\n\n\tL.MarkerClusterGroup.include({\n\t\t_noAnimation: {\n\t\t\t//Non Animated versions of everything\n\t\t\t_animationStart: function () {\n\t\t\t\t//Do nothing...\n\t\t\t},\n\t\t\t_animationZoomIn: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel);\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\n\t\t\t\t//We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\n\t\t\t\tthis.fire('animationend');\n\t\t\t},\n\t\t\t_animationZoomOut: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel);\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\n\t\t\t\t//We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\n\t\t\t\tthis.fire('animationend');\n\t\t\t},\n\t\t\t_animationAddLayer: function (layer, newCluster) {\n\t\t\t\tthis._animationAddLayerNonAnimated(layer, newCluster);\n\t\t\t}\n\t\t},\n\n\t\t_withAnimation: {\n\t\t\t//Animated versions here\n\t\t\t_animationStart: function () {\n\t\t\t\tthis._map._mapPane.className += ' leaflet-cluster-anim';\n\t\t\t\tthis._inZoomAnimation++;\n\t\t\t},\n\n\t\t\t_animationZoomIn: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tvar bounds = this._getExpandedVisibleBounds(),\n\t\t\t\t    fg = this._featureGroup,\n\t\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t\t    i;\n\n\t\t\t\tthis._ignoreMove = true;\n\n\t\t\t\t//Add all children of current clusters to map and remove those clusters from map\n\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, minZoom, function (c) {\n\t\t\t\t\tvar startPos = c._latlng,\n\t\t\t\t\t    markers  = c._markers,\n\t\t\t\t\t    m;\n\n\t\t\t\t\tif (!bounds.contains(startPos)) {\n\t\t\t\t\t\tstartPos = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (c._isSingleParent() && previousZoomLevel + 1 === newZoomLevel) { //Immediately add the new child and remove us\n\t\t\t\t\t\tfg.removeLayer(c);\n\t\t\t\t\t\tc._recursivelyAddChildrenToMap(null, newZoomLevel, bounds);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//Fade out old cluster\n\t\t\t\t\t\tc.clusterHide();\n\t\t\t\t\t\tc._recursivelyAddChildrenToMap(startPos, newZoomLevel, bounds);\n\t\t\t\t\t}\n\n\t\t\t\t\t//Remove all markers that aren't visible any more\n\t\t\t\t\t//TODO: Do we actually need to do this on the higher levels too?\n\t\t\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = markers[i];\n\t\t\t\t\t\tif (!bounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis._forceLayout();\n\n\t\t\t\t//Update opacities\n\t\t\t\tthis._topClusterLevel._recursivelyBecomeVisible(bounds, newZoomLevel);\n\t\t\t\t//TODO Maybe? Update markers in _recursivelyBecomeVisible\n\t\t\t\tfg.eachLayer(function (n) {\n\t\t\t\t\tif (!(n instanceof L.MarkerCluster) && n._icon) {\n\t\t\t\t\t\tn.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//update the positions of the just added clusters/markers\n\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, newZoomLevel, function (c) {\n\t\t\t\t\tc._recursivelyRestoreChildPositions(newZoomLevel);\n\t\t\t\t});\n\n\t\t\t\tthis._ignoreMove = false;\n\n\t\t\t\t//Remove the old clusters and close the zoom animation\n\t\t\t\tthis._enqueue(function () {\n\t\t\t\t\t//update the positions of the just added clusters/markers\n\t\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, minZoom, function (c) {\n\t\t\t\t\t\tfg.removeLayer(c);\n\t\t\t\t\t\tc.clusterShow();\n\t\t\t\t\t});\n\n\t\t\t\t\tthis._animationEnd();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_animationZoomOut: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._animationZoomOutSingle(this._topClusterLevel, previousZoomLevel - 1, newZoomLevel);\n\n\t\t\t\t//Need to add markers for those that weren't on the map before but are now\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\t\t\t\t//Remove markers that were on the map before but won't be now\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel, this._getExpandedVisibleBounds());\n\t\t\t},\n\n\t\t\t_animationAddLayer: function (layer, newCluster) {\n\t\t\t\tvar me = this,\n\t\t\t\t    fg = this._featureGroup;\n\n\t\t\t\tfg.addLayer(layer);\n\t\t\t\tif (newCluster !== layer) {\n\t\t\t\t\tif (newCluster._childCount > 2) { //Was already a cluster\n\n\t\t\t\t\t\tnewCluster._updateIcon();\n\t\t\t\t\t\tthis._forceLayout();\n\t\t\t\t\t\tthis._animationStart();\n\n\t\t\t\t\t\tlayer._setPos(this._map.latLngToLayerPoint(newCluster.getLatLng()));\n\t\t\t\t\t\tlayer.clusterHide();\n\n\t\t\t\t\t\tthis._enqueue(function () {\n\t\t\t\t\t\t\tfg.removeLayer(layer);\n\t\t\t\t\t\t\tlayer.clusterShow();\n\n\t\t\t\t\t\t\tme._animationEnd();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else { //Just became a cluster\n\t\t\t\t\t\tthis._forceLayout();\n\n\t\t\t\t\t\tme._animationStart();\n\t\t\t\t\t\tme._animationZoomOutSingle(newCluster, this._map.getMaxZoom(), this._zoom);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Private methods for animated versions.\n\t\t_animationZoomOutSingle: function (cluster, previousZoomLevel, newZoomLevel) {\n\t\t\tvar bounds = this._getExpandedVisibleBounds(),\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\t//Animate all of the markers in the clusters to move to their cluster center point\n\t\t\tcluster._recursivelyAnimateChildrenInAndAddSelfToMap(bounds, minZoom, previousZoomLevel + 1, newZoomLevel);\n\n\t\t\tvar me = this;\n\n\t\t\t//Update the opacity (If we immediately set it they won't animate)\n\t\t\tthis._forceLayout();\n\t\t\tcluster._recursivelyBecomeVisible(bounds, newZoomLevel);\n\n\t\t\t//TODO: Maybe use the transition timing stuff to make this more reliable\n\t\t\t//When the animations are done, tidy up\n\t\t\tthis._enqueue(function () {\n\n\t\t\t\t//This cluster stopped being a cluster before the timeout fired\n\t\t\t\tif (cluster._childCount === 1) {\n\t\t\t\t\tvar m = cluster._markers[0];\n\t\t\t\t\t//If we were in a cluster animation at the time then the opacity and position of our child could be wrong now, so fix it\n\t\t\t\t\tthis._ignoreMove = true;\n\t\t\t\t\tm.setLatLng(m.getLatLng());\n\t\t\t\t\tthis._ignoreMove = false;\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcluster._recursively(bounds, newZoomLevel, minZoom, function (c) {\n\t\t\t\t\t\tc._recursivelyRemoveChildrenFromMap(bounds, minZoom, previousZoomLevel + 1);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tme._animationEnd();\n\t\t\t});\n\t\t},\n\n\t\t_animationEnd: function () {\n\t\t\tif (this._map) {\n\t\t\t\tthis._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\t\t\t}\n\t\t\tthis._inZoomAnimation--;\n\t\t\tthis.fire('animationend');\n\t\t},\n\n\t\t//Force a browser layout of stuff in the map\n\t\t// Should apply the current opacity and location to all elements so we can update them again for an animation\n\t\t_forceLayout: function () {\n\t\t\t//In my testing this works, infact offsetWidth of any element seems to work.\n\t\t\t//Could loop all this._layers and do this for each _icon if it stops working\n\n\t\t\tL.Util.falseFn(document.body.offsetWidth);\n\t\t}\n\t});\n\n\tL.markerClusterGroup = function (options) {\n\t\treturn new L.MarkerClusterGroup(options);\n\t};\n\n\tvar MarkerCluster = L.MarkerCluster = L.Marker.extend({\n\t\toptions: L.Icon.prototype.options,\n\n\t\tinitialize: function (group, zoom, a, b) {\n\n\t\t\tL.Marker.prototype.initialize.call(this, a ? (a._cLatLng || a.getLatLng()) : new L.LatLng(0, 0),\n\t            { icon: this, pane: group.options.clusterPane });\n\n\t\t\tthis._group = group;\n\t\t\tthis._zoom = zoom;\n\n\t\t\tthis._markers = [];\n\t\t\tthis._childClusters = [];\n\t\t\tthis._childCount = 0;\n\t\t\tthis._iconNeedsUpdate = true;\n\t\t\tthis._boundsNeedUpdate = true;\n\n\t\t\tthis._bounds = new L.LatLngBounds();\n\n\t\t\tif (a) {\n\t\t\t\tthis._addChild(a);\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis._addChild(b);\n\t\t\t}\n\t\t},\n\n\t\t//Recursively retrieve all child markers of this cluster\n\t\tgetAllChildMarkers: function (storageArray, ignoreDraggedMarker) {\n\t\t\tstorageArray = storageArray || [];\n\n\t\t\tfor (var i = this._childClusters.length - 1; i >= 0; i--) {\n\t\t\t\tthis._childClusters[i].getAllChildMarkers(storageArray, ignoreDraggedMarker);\n\t\t\t}\n\n\t\t\tfor (var j = this._markers.length - 1; j >= 0; j--) {\n\t\t\t\tif (ignoreDraggedMarker && this._markers[j].__dragStart) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstorageArray.push(this._markers[j]);\n\t\t\t}\n\n\t\t\treturn storageArray;\n\t\t},\n\n\t\t//Returns the count of how many child markers we have\n\t\tgetChildCount: function () {\n\t\t\treturn this._childCount;\n\t\t},\n\n\t\t//Zoom to the minimum of showing all of the child markers, or the extents of this cluster\n\t\tzoomToBounds: function (fitBoundsOptions) {\n\t\t\tvar childClusters = this._childClusters.slice(),\n\t\t\t\tmap = this._group._map,\n\t\t\t\tboundsZoom = map.getBoundsZoom(this._bounds),\n\t\t\t\tzoom = this._zoom + 1,\n\t\t\t\tmapZoom = map.getZoom(),\n\t\t\t\ti;\n\n\t\t\t//calculate how far we need to zoom down to see all of the markers\n\t\t\twhile (childClusters.length > 0 && boundsZoom > zoom) {\n\t\t\t\tzoom++;\n\t\t\t\tvar newClusters = [];\n\t\t\t\tfor (i = 0; i < childClusters.length; i++) {\n\t\t\t\t\tnewClusters = newClusters.concat(childClusters[i]._childClusters);\n\t\t\t\t}\n\t\t\t\tchildClusters = newClusters;\n\t\t\t}\n\n\t\t\tif (boundsZoom > zoom) {\n\t\t\t\tthis._group._map.setView(this._latlng, zoom);\n\t\t\t} else if (boundsZoom <= mapZoom) { //If fitBounds wouldn't zoom us down, zoom us down instead\n\t\t\t\tthis._group._map.setView(this._latlng, mapZoom + 1);\n\t\t\t} else {\n\t\t\t\tthis._group._map.fitBounds(this._bounds, fitBoundsOptions);\n\t\t\t}\n\t\t},\n\n\t\tgetBounds: function () {\n\t\t\tvar bounds = new L.LatLngBounds();\n\t\t\tbounds.extend(this._bounds);\n\t\t\treturn bounds;\n\t\t},\n\n\t\t_updateIcon: function () {\n\t\t\tthis._iconNeedsUpdate = true;\n\t\t\tif (this._icon) {\n\t\t\t\tthis.setIcon(this);\n\t\t\t}\n\t\t},\n\n\t\t//Cludge for Icon, we pretend to be an icon for performance\n\t\tcreateIcon: function () {\n\t\t\tif (this._iconNeedsUpdate) {\n\t\t\t\tthis._iconObj = this._group.options.iconCreateFunction(this);\n\t\t\t\tthis._iconNeedsUpdate = false;\n\t\t\t}\n\t\t\treturn this._iconObj.createIcon();\n\t\t},\n\t\tcreateShadow: function () {\n\t\t\treturn this._iconObj.createShadow();\n\t\t},\n\n\n\t\t_addChild: function (new1, isNotificationFromChild) {\n\n\t\t\tthis._iconNeedsUpdate = true;\n\n\t\t\tthis._boundsNeedUpdate = true;\n\t\t\tthis._setClusterCenter(new1);\n\n\t\t\tif (new1 instanceof L.MarkerCluster) {\n\t\t\t\tif (!isNotificationFromChild) {\n\t\t\t\t\tthis._childClusters.push(new1);\n\t\t\t\t\tnew1.__parent = this;\n\t\t\t\t}\n\t\t\t\tthis._childCount += new1._childCount;\n\t\t\t} else {\n\t\t\t\tif (!isNotificationFromChild) {\n\t\t\t\t\tthis._markers.push(new1);\n\t\t\t\t}\n\t\t\t\tthis._childCount++;\n\t\t\t}\n\n\t\t\tif (this.__parent) {\n\t\t\t\tthis.__parent._addChild(new1, true);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Makes sure the cluster center is set. If not, uses the child center if it is a cluster, or the marker position.\n\t\t * @param child L.MarkerCluster|L.Marker that will be used as cluster center if not defined yet.\n\t\t * @private\n\t\t */\n\t\t_setClusterCenter: function (child) {\n\t\t\tif (!this._cLatLng) {\n\t\t\t\t// when clustering, take position of the first point as the cluster center\n\t\t\t\tthis._cLatLng = child._cLatLng || child._latlng;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Assigns impossible bounding values so that the next extend entirely determines the new bounds.\n\t\t * This method avoids having to trash the previous L.LatLngBounds object and to create a new one, which is much slower for this class.\n\t\t * As long as the bounds are not extended, most other methods would probably fail, as they would with bounds initialized but not extended.\n\t\t * @private\n\t\t */\n\t\t_resetBounds: function () {\n\t\t\tvar bounds = this._bounds;\n\n\t\t\tif (bounds._southWest) {\n\t\t\t\tbounds._southWest.lat = Infinity;\n\t\t\t\tbounds._southWest.lng = Infinity;\n\t\t\t}\n\t\t\tif (bounds._northEast) {\n\t\t\t\tbounds._northEast.lat = -Infinity;\n\t\t\t\tbounds._northEast.lng = -Infinity;\n\t\t\t}\n\t\t},\n\n\t\t_recalculateBounds: function () {\n\t\t\tvar markers = this._markers,\n\t\t\t    childClusters = this._childClusters,\n\t\t\t    latSum = 0,\n\t\t\t    lngSum = 0,\n\t\t\t    totalCount = this._childCount,\n\t\t\t    i, child, childLatLng, childCount;\n\n\t\t\t// Case where all markers are removed from the map and we are left with just an empty _topClusterLevel.\n\t\t\tif (totalCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Reset rather than creating a new object, for performance.\n\t\t\tthis._resetBounds();\n\n\t\t\t// Child markers.\n\t\t\tfor (i = 0; i < markers.length; i++) {\n\t\t\t\tchildLatLng = markers[i]._latlng;\n\n\t\t\t\tthis._bounds.extend(childLatLng);\n\n\t\t\t\tlatSum += childLatLng.lat;\n\t\t\t\tlngSum += childLatLng.lng;\n\t\t\t}\n\n\t\t\t// Child clusters.\n\t\t\tfor (i = 0; i < childClusters.length; i++) {\n\t\t\t\tchild = childClusters[i];\n\n\t\t\t\t// Re-compute child bounds and weighted position first if necessary.\n\t\t\t\tif (child._boundsNeedUpdate) {\n\t\t\t\t\tchild._recalculateBounds();\n\t\t\t\t}\n\n\t\t\t\tthis._bounds.extend(child._bounds);\n\n\t\t\t\tchildLatLng = child._wLatLng;\n\t\t\t\tchildCount = child._childCount;\n\n\t\t\t\tlatSum += childLatLng.lat * childCount;\n\t\t\t\tlngSum += childLatLng.lng * childCount;\n\t\t\t}\n\n\t\t\tthis._latlng = this._wLatLng = new L.LatLng(latSum / totalCount, lngSum / totalCount);\n\n\t\t\t// Reset dirty flag.\n\t\t\tthis._boundsNeedUpdate = false;\n\t\t},\n\n\t\t//Set our markers position as given and add it to the map\n\t\t_addToMap: function (startPos) {\n\t\t\tif (startPos) {\n\t\t\t\tthis._backupLatlng = this._latlng;\n\t\t\t\tthis.setLatLng(startPos);\n\t\t\t}\n\t\t\tthis._group._featureGroup.addLayer(this);\n\t\t},\n\n\t\t_recursivelyAnimateChildrenIn: function (bounds, center, maxZoom) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom(), maxZoom - 1,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tvar markers = c._markers,\n\t\t\t\t\t\ti, m;\n\t\t\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = markers[i];\n\n\t\t\t\t\t\t//Only do it if the icon is still on the map\n\t\t\t\t\t\tif (m._icon) {\n\t\t\t\t\t\t\tm._setPos(center);\n\t\t\t\t\t\t\tm.clusterHide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\tvar childClusters = c._childClusters,\n\t\t\t\t\t\tj, cm;\n\t\t\t\t\tfor (j = childClusters.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tcm = childClusters[j];\n\t\t\t\t\t\tif (cm._icon) {\n\t\t\t\t\t\t\tcm._setPos(center);\n\t\t\t\t\t\t\tcm.clusterHide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyAnimateChildrenInAndAddSelfToMap: function (bounds, mapMinZoom, previousZoomLevel, newZoomLevel) {\n\t\t\tthis._recursively(bounds, newZoomLevel, mapMinZoom,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tc._recursivelyAnimateChildrenIn(bounds, c._group._map.latLngToLayerPoint(c.getLatLng()).round(), previousZoomLevel);\n\n\t\t\t\t\t//TODO: depthToAnimateIn affects _isSingleParent, if there is a multizoom we may/may not be.\n\t\t\t\t\t//As a hack we only do a animation free zoom on a single level zoom, if someone does multiple levels then we always animate\n\t\t\t\t\tif (c._isSingleParent() && previousZoomLevel - 1 === newZoomLevel) {\n\t\t\t\t\t\tc.clusterShow();\n\t\t\t\t\t\tc._recursivelyRemoveChildrenFromMap(bounds, mapMinZoom, previousZoomLevel); //Immediately remove our children as we are replacing them. TODO previousBounds not bounds\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc.clusterHide();\n\t\t\t\t\t}\n\n\t\t\t\t\tc._addToMap();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyBecomeVisible: function (bounds, zoomLevel) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom(), zoomLevel, null, function (c) {\n\t\t\t\tc.clusterShow();\n\t\t\t});\n\t\t},\n\n\t\t_recursivelyAddChildrenToMap: function (startPos, zoomLevel, bounds) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom() - 1, zoomLevel,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tif (zoomLevel === c._zoom) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//Add our child markers at startPos (so they can be animated out)\n\t\t\t\t\tfor (var i = c._markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tvar nm = c._markers[i];\n\n\t\t\t\t\t\tif (!bounds.contains(nm._latlng)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (startPos) {\n\t\t\t\t\t\t\tnm._backupLatlng = nm.getLatLng();\n\n\t\t\t\t\t\t\tnm.setLatLng(startPos);\n\t\t\t\t\t\t\tif (nm.clusterHide) {\n\t\t\t\t\t\t\t\tnm.clusterHide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tc._group._featureGroup.addLayer(nm);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\tc._addToMap(startPos);\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyRestoreChildPositions: function (zoomLevel) {\n\t\t\t//Fix positions of child markers\n\t\t\tfor (var i = this._markers.length - 1; i >= 0; i--) {\n\t\t\t\tvar nm = this._markers[i];\n\t\t\t\tif (nm._backupLatlng) {\n\t\t\t\t\tnm.setLatLng(nm._backupLatlng);\n\t\t\t\t\tdelete nm._backupLatlng;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (zoomLevel - 1 === this._zoom) {\n\t\t\t\t//Reposition child clusters\n\t\t\t\tfor (var j = this._childClusters.length - 1; j >= 0; j--) {\n\t\t\t\t\tthis._childClusters[j]._restorePosition();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var k = this._childClusters.length - 1; k >= 0; k--) {\n\t\t\t\t\tthis._childClusters[k]._recursivelyRestoreChildPositions(zoomLevel);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_restorePosition: function () {\n\t\t\tif (this._backupLatlng) {\n\t\t\t\tthis.setLatLng(this._backupLatlng);\n\t\t\t\tdelete this._backupLatlng;\n\t\t\t}\n\t\t},\n\n\t\t//exceptBounds: If set, don't remove any markers/clusters in it\n\t\t_recursivelyRemoveChildrenFromMap: function (previousBounds, mapMinZoom, zoomLevel, exceptBounds) {\n\t\t\tvar m, i;\n\t\t\tthis._recursively(previousBounds, mapMinZoom - 1, zoomLevel - 1,\n\t\t\t\tfunction (c) {\n\t\t\t\t\t//Remove markers at every level\n\t\t\t\t\tfor (i = c._markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = c._markers[i];\n\t\t\t\t\t\tif (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tc._group._featureGroup.removeLayer(m);\n\t\t\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\t//Remove child clusters at just the bottom level\n\t\t\t\t\tfor (i = c._childClusters.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = c._childClusters[i];\n\t\t\t\t\t\tif (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tc._group._featureGroup.removeLayer(m);\n\t\t\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t//Run the given functions recursively to this and child clusters\n\t\t// boundsToApplyTo: a L.LatLngBounds representing the bounds of what clusters to recurse in to\n\t\t// zoomLevelToStart: zoom level to start running functions (inclusive)\n\t\t// zoomLevelToStop: zoom level to stop running functions (inclusive)\n\t\t// runAtEveryLevel: function that takes an L.MarkerCluster as an argument that should be applied on every level\n\t\t// runAtBottomLevel: function that takes an L.MarkerCluster as an argument that should be applied at only the bottom level\n\t\t_recursively: function (boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel) {\n\t\t\tvar childClusters = this._childClusters,\n\t\t\t    zoom = this._zoom,\n\t\t\t    i, c;\n\n\t\t\tif (zoomLevelToStart <= zoom) {\n\t\t\t\tif (runAtEveryLevel) {\n\t\t\t\t\trunAtEveryLevel(this);\n\t\t\t\t}\n\t\t\t\tif (runAtBottomLevel && zoom === zoomLevelToStop) {\n\t\t\t\t\trunAtBottomLevel(this);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (zoom < zoomLevelToStart || zoom < zoomLevelToStop) {\n\t\t\t\tfor (i = childClusters.length - 1; i >= 0; i--) {\n\t\t\t\t\tc = childClusters[i];\n\t\t\t\t\tif (c._boundsNeedUpdate) {\n\t\t\t\t\t\tc._recalculateBounds();\n\t\t\t\t\t}\n\t\t\t\t\tif (boundsToApplyTo.intersects(c._bounds)) {\n\t\t\t\t\t\tc._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t//Returns true if we are the parent of only one cluster and that cluster is the same as us\n\t\t_isSingleParent: function () {\n\t\t\t//Don't need to check this._markers as the rest won't work if there are any\n\t\t\treturn this._childClusters.length > 0 && this._childClusters[0]._childCount === this._childCount;\n\t\t}\n\t});\n\n\t/*\n\t* Extends L.Marker to include two extra methods: clusterHide and clusterShow.\n\t* \n\t* They work as setOpacity(0) and setOpacity(1) respectively, but\n\t* don't overwrite the options.opacity\n\t* \n\t*/\n\n\tL.Marker.include({\n\t\tclusterHide: function () {\n\t\t\tvar backup = this.options.opacity;\n\t\t\tthis.setOpacity(0);\n\t\t\tthis.options.opacity = backup;\n\t\t\treturn this;\n\t\t},\n\t\t\n\t\tclusterShow: function () {\n\t\t\treturn this.setOpacity(this.options.opacity);\n\t\t}\n\t});\n\n\tL.DistanceGrid = function (cellSize) {\n\t\tthis._cellSize = cellSize;\n\t\tthis._sqCellSize = cellSize * cellSize;\n\t\tthis._grid = {};\n\t\tthis._objectPoint = { };\n\t};\n\n\tL.DistanceGrid.prototype = {\n\n\t\taddObject: function (obj, point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    grid = this._grid,\n\t\t\t    row = grid[y] = grid[y] || {},\n\t\t\t    cell = row[x] = row[x] || [],\n\t\t\t    stamp = L.Util.stamp(obj);\n\n\t\t\tthis._objectPoint[stamp] = point;\n\n\t\t\tcell.push(obj);\n\t\t},\n\n\t\tupdateObject: function (obj, point) {\n\t\t\tthis.removeObject(obj);\n\t\t\tthis.addObject(obj, point);\n\t\t},\n\n\t\t//Returns true if the object was found\n\t\tremoveObject: function (obj, point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    grid = this._grid,\n\t\t\t    row = grid[y] = grid[y] || {},\n\t\t\t    cell = row[x] = row[x] || [],\n\t\t\t    i, len;\n\n\t\t\tdelete this._objectPoint[L.Util.stamp(obj)];\n\n\t\t\tfor (i = 0, len = cell.length; i < len; i++) {\n\t\t\t\tif (cell[i] === obj) {\n\n\t\t\t\t\tcell.splice(i, 1);\n\n\t\t\t\t\tif (len === 1) {\n\t\t\t\t\t\tdelete row[x];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\teachObject: function (fn, context) {\n\t\t\tvar i, j, k, len, row, cell, removed,\n\t\t\t    grid = this._grid;\n\n\t\t\tfor (i in grid) {\n\t\t\t\trow = grid[i];\n\n\t\t\t\tfor (j in row) {\n\t\t\t\t\tcell = row[j];\n\n\t\t\t\t\tfor (k = 0, len = cell.length; k < len; k++) {\n\t\t\t\t\t\tremoved = fn.call(context, cell[k]);\n\t\t\t\t\t\tif (removed) {\n\t\t\t\t\t\t\tk--;\n\t\t\t\t\t\t\tlen--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetNearObject: function (point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    i, j, k, row, cell, len, obj, dist,\n\t\t\t    objectPoint = this._objectPoint,\n\t\t\t    closestDistSq = this._sqCellSize,\n\t\t\t    closest = null;\n\n\t\t\tfor (i = y - 1; i <= y + 1; i++) {\n\t\t\t\trow = this._grid[i];\n\t\t\t\tif (row) {\n\n\t\t\t\t\tfor (j = x - 1; j <= x + 1; j++) {\n\t\t\t\t\t\tcell = row[j];\n\t\t\t\t\t\tif (cell) {\n\n\t\t\t\t\t\t\tfor (k = 0, len = cell.length; k < len; k++) {\n\t\t\t\t\t\t\t\tobj = cell[k];\n\t\t\t\t\t\t\t\tdist = this._sqDist(objectPoint[L.Util.stamp(obj)], point);\n\t\t\t\t\t\t\t\tif (dist < closestDistSq ||\n\t\t\t\t\t\t\t\t\tdist <= closestDistSq && closest === null) {\n\t\t\t\t\t\t\t\t\tclosestDistSq = dist;\n\t\t\t\t\t\t\t\t\tclosest = obj;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn closest;\n\t\t},\n\n\t\t_getCoord: function (x) {\n\t\t\tvar coord = Math.floor(x / this._cellSize);\n\t\t\treturn isFinite(coord) ? coord : x;\n\t\t},\n\n\t\t_sqDist: function (p, p2) {\n\t\t\tvar dx = p2.x - p.x,\n\t\t\t    dy = p2.y - p.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\t}\n\t};\n\n\t/* Copyright (c) 2012 the authors listed at the following URL, and/or\n\tthe authors of referenced articles or incorporated external code:\n\thttp://en.literateprograms.org/Quickhull_(Javascript)?action=history&offset=20120410175256\n\n\tPermission is hereby granted, free of charge, to any person obtaining\n\ta copy of this software and associated documentation files (the\n\t\"Software\"), to deal in the Software without restriction, including\n\twithout limitation the rights to use, copy, modify, merge, publish,\n\tdistribute, sublicense, and/or sell copies of the Software, and to\n\tpermit persons to whom the Software is furnished to do so, subject to\n\tthe following conditions:\n\n\tThe above copyright notice and this permission notice shall be\n\tincluded in all copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n\tEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\tMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n\tIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n\tCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n\tTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n\tSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\tRetrieved from: http://en.literateprograms.org/Quickhull_(Javascript)?oldid=18434\n\t*/\n\n\t(function () {\n\t\tL.QuickHull = {\n\n\t\t\t/*\n\t\t\t * @param {Object} cpt a point to be measured from the baseline\n\t\t\t * @param {Array} bl the baseline, as represented by a two-element\n\t\t\t *   array of latlng objects.\n\t\t\t * @returns {Number} an approximate distance measure\n\t\t\t */\n\t\t\tgetDistant: function (cpt, bl) {\n\t\t\t\tvar vY = bl[1].lat - bl[0].lat,\n\t\t\t\t\tvX = bl[0].lng - bl[1].lng;\n\t\t\t\treturn (vX * (cpt.lat - bl[0].lat) + vY * (cpt.lng - bl[0].lng));\n\t\t\t},\n\n\t\t\t/*\n\t\t\t * @param {Array} baseLine a two-element array of latlng objects\n\t\t\t *   representing the baseline to project from\n\t\t\t * @param {Array} latLngs an array of latlng objects\n\t\t\t * @returns {Object} the maximum point and all new points to stay\n\t\t\t *   in consideration for the hull.\n\t\t\t */\n\t\t\tfindMostDistantPointFromBaseLine: function (baseLine, latLngs) {\n\t\t\t\tvar maxD = 0,\n\t\t\t\t\tmaxPt = null,\n\t\t\t\t\tnewPoints = [],\n\t\t\t\t\ti, pt, d;\n\n\t\t\t\tfor (i = latLngs.length - 1; i >= 0; i--) {\n\t\t\t\t\tpt = latLngs[i];\n\t\t\t\t\td = this.getDistant(pt, baseLine);\n\n\t\t\t\t\tif (d > 0) {\n\t\t\t\t\t\tnewPoints.push(pt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (d > maxD) {\n\t\t\t\t\t\tmaxD = d;\n\t\t\t\t\t\tmaxPt = pt;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn { maxPoint: maxPt, newPoints: newPoints };\n\t\t\t},\n\n\n\t\t\t/*\n\t\t\t * Given a baseline, compute the convex hull of latLngs as an array\n\t\t\t * of latLngs.\n\t\t\t *\n\t\t\t * @param {Array} latLngs\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tbuildConvexHull: function (baseLine, latLngs) {\n\t\t\t\tvar convexHullBaseLines = [],\n\t\t\t\t\tt = this.findMostDistantPointFromBaseLine(baseLine, latLngs);\n\n\t\t\t\tif (t.maxPoint) { // if there is still a point \"outside\" the base line\n\t\t\t\t\tconvexHullBaseLines =\n\t\t\t\t\t\tconvexHullBaseLines.concat(\n\t\t\t\t\t\t\tthis.buildConvexHull([baseLine[0], t.maxPoint], t.newPoints)\n\t\t\t\t\t\t);\n\t\t\t\t\tconvexHullBaseLines =\n\t\t\t\t\t\tconvexHullBaseLines.concat(\n\t\t\t\t\t\t\tthis.buildConvexHull([t.maxPoint, baseLine[1]], t.newPoints)\n\t\t\t\t\t\t);\n\t\t\t\t\treturn convexHullBaseLines;\n\t\t\t\t} else {  // if there is no more point \"outside\" the base line, the current base line is part of the convex hull\n\t\t\t\t\treturn [baseLine[0]];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/*\n\t\t\t * Given an array of latlngs, compute a convex hull as an array\n\t\t\t * of latlngs\n\t\t\t *\n\t\t\t * @param {Array} latLngs\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tgetConvexHull: function (latLngs) {\n\t\t\t\t// find first baseline\n\t\t\t\tvar maxLat = false, minLat = false,\n\t\t\t\t\tmaxLng = false, minLng = false,\n\t\t\t\t\tmaxLatPt = null, minLatPt = null,\n\t\t\t\t\tmaxLngPt = null, minLngPt = null,\n\t\t\t\t\tmaxPt = null, minPt = null,\n\t\t\t\t\ti;\n\n\t\t\t\tfor (i = latLngs.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar pt = latLngs[i];\n\t\t\t\t\tif (maxLat === false || pt.lat > maxLat) {\n\t\t\t\t\t\tmaxLatPt = pt;\n\t\t\t\t\t\tmaxLat = pt.lat;\n\t\t\t\t\t}\n\t\t\t\t\tif (minLat === false || pt.lat < minLat) {\n\t\t\t\t\t\tminLatPt = pt;\n\t\t\t\t\t\tminLat = pt.lat;\n\t\t\t\t\t}\n\t\t\t\t\tif (maxLng === false || pt.lng > maxLng) {\n\t\t\t\t\t\tmaxLngPt = pt;\n\t\t\t\t\t\tmaxLng = pt.lng;\n\t\t\t\t\t}\n\t\t\t\t\tif (minLng === false || pt.lng < minLng) {\n\t\t\t\t\t\tminLngPt = pt;\n\t\t\t\t\t\tminLng = pt.lng;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (minLat !== maxLat) {\n\t\t\t\t\tminPt = minLatPt;\n\t\t\t\t\tmaxPt = maxLatPt;\n\t\t\t\t} else {\n\t\t\t\t\tminPt = minLngPt;\n\t\t\t\t\tmaxPt = maxLngPt;\n\t\t\t\t}\n\n\t\t\t\tvar ch = [].concat(this.buildConvexHull([minPt, maxPt], latLngs),\n\t\t\t\t\t\t\t\t\tthis.buildConvexHull([maxPt, minPt], latLngs));\n\t\t\t\treturn ch;\n\t\t\t}\n\t\t};\n\t}());\n\n\tL.MarkerCluster.include({\n\t\tgetConvexHull: function () {\n\t\t\tvar childMarkers = this.getAllChildMarkers(),\n\t\t\t\tpoints = [],\n\t\t\t\tp, i;\n\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tp = childMarkers[i].getLatLng();\n\t\t\t\tpoints.push(p);\n\t\t\t}\n\n\t\t\treturn L.QuickHull.getConvexHull(points);\n\t\t}\n\t});\n\n\t//This code is 100% based on https://github.com/jawj/OverlappingMarkerSpiderfier-Leaflet\n\t//Huge thanks to jawj for implementing it first to make my job easy :-)\n\n\tL.MarkerCluster.include({\n\n\t\t_2PI: Math.PI * 2,\n\t\t_circleFootSeparation: 25, //related to circumference of circle\n\t\t_circleStartAngle: 0,\n\n\t\t_spiralFootSeparation:  28, //related to size of spiral (experiment!)\n\t\t_spiralLengthStart: 11,\n\t\t_spiralLengthFactor: 5,\n\n\t\t_circleSpiralSwitchover: 9, //show spiral instead of circle from this marker count upwards.\n\t\t\t\t\t\t\t\t\t// 0 -> always spiral; Infinity -> always circle\n\n\t\tspiderfy: function () {\n\t\t\tif (this._group._spiderfied === this || this._group._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar childMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tcenter = map.latLngToLayerPoint(this._latlng),\n\t\t\t\tpositions;\n\n\t\t\tthis._group._unspiderfy();\n\t\t\tthis._group._spiderfied = this;\n\n\t\t\t//TODO Maybe: childMarkers order by distance to center\n\n\t\t\tif (this._group.options.spiderfyShapePositions) {\n\t\t\t\tpositions = this._group.options.spiderfyShapePositions(childMarkers.length, center);\n\t\t\t} else if (childMarkers.length >= this._circleSpiralSwitchover) {\n\t\t\t\tpositions = this._generatePointsSpiral(childMarkers.length, center);\n\t\t\t} else {\n\t\t\t\tcenter.y += 10; // Otherwise circles look wrong => hack for standard blue icon, renders differently for other icons.\n\t\t\t\tpositions = this._generatePointsCircle(childMarkers.length, center);\n\t\t\t}\n\n\t\t\tthis._animationSpiderfy(childMarkers, positions);\n\t\t},\n\n\t\tunspiderfy: function (zoomDetails) {\n\t\t\t/// <param Name=\"zoomDetails\">Argument from zoomanim if being called in a zoom animation or null otherwise</param>\n\t\t\tif (this._group._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._animationUnspiderfy(zoomDetails);\n\n\t\t\tthis._group._spiderfied = null;\n\t\t},\n\n\t\t_generatePointsCircle: function (count, centerPt) {\n\t\t\tvar circumference = this._group.options.spiderfyDistanceMultiplier * this._circleFootSeparation * (2 + count),\n\t\t\t\tlegLength = circumference / this._2PI,  //radius from circumference\n\t\t\t\tangleStep = this._2PI / count,\n\t\t\t\tres = [],\n\t\t\t\ti, angle;\n\n\t\t\tlegLength = Math.max(legLength, 35); // Minimum distance to get outside the cluster icon.\n\n\t\t\tres.length = count;\n\n\t\t\tfor (i = 0; i < count; i++) { // Clockwise, like spiral.\n\t\t\t\tangle = this._circleStartAngle + i * angleStep;\n\t\t\t\tres[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t\t\t}\n\n\t\t\treturn res;\n\t\t},\n\n\t\t_generatePointsSpiral: function (count, centerPt) {\n\t\t\tvar spiderfyDistanceMultiplier = this._group.options.spiderfyDistanceMultiplier,\n\t\t\t\tlegLength = spiderfyDistanceMultiplier * this._spiralLengthStart,\n\t\t\t\tseparation = spiderfyDistanceMultiplier * this._spiralFootSeparation,\n\t\t\t\tlengthFactor = spiderfyDistanceMultiplier * this._spiralLengthFactor * this._2PI,\n\t\t\t\tangle = 0,\n\t\t\t\tres = [],\n\t\t\t\ti;\n\n\t\t\tres.length = count;\n\n\t\t\t// Higher index, closer position to cluster center.\n\t\t\tfor (i = count; i >= 0; i--) {\n\t\t\t\t// Skip the first position, so that we are already farther from center and we avoid\n\t\t\t\t// being under the default cluster icon (especially important for Circle Markers).\n\t\t\t\tif (i < count) {\n\t\t\t\t\tres[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t\t\t\t}\n\t\t\t\tangle += separation / legLength + i * 0.0005;\n\t\t\t\tlegLength += lengthFactor / angle;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\n\t\t_noanimationUnspiderfy: function () {\n\t\t\tvar group = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tchildMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tm, i;\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\tthis.setOpacity(1);\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\tfg.removeLayer(m);\n\n\t\t\t\tif (m._preSpiderfyLatlng) {\n\t\t\t\t\tm.setLatLng(m._preSpiderfyLatlng);\n\t\t\t\t\tdelete m._preSpiderfyLatlng;\n\t\t\t\t}\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(0);\n\t\t\t\t}\n\n\t\t\t\tif (m._spiderLeg) {\n\t\t\t\t\tmap.removeLayer(m._spiderLeg);\n\t\t\t\t\tdelete m._spiderLeg;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup.fire('unspiderfied', {\n\t\t\t\tcluster: this,\n\t\t\t\tmarkers: childMarkers\n\t\t\t});\n\t\t\tgroup._ignoreMove = false;\n\t\t\tgroup._spiderfied = null;\n\t\t}\n\t});\n\n\t//Non Animated versions of everything\n\tL.MarkerClusterNonAnimated = L.MarkerCluster.extend({\n\t\t_animationSpiderfy: function (childMarkers, positions) {\n\t\t\tvar group = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tlegOptions = this._group.options.spiderLegPolylineOptions,\n\t\t\t\ti, m, leg, newPos;\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\t// Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\n\t\t\t// The reverse order trick no longer improves performance on modern browsers.\n\t\t\tfor (i = 0; i < childMarkers.length; i++) {\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t// Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\n\t\t\t\tleg = new L.Polyline([this._latlng, newPos], legOptions);\n\t\t\t\tmap.addLayer(leg);\n\t\t\t\tm._spiderLeg = leg;\n\n\t\t\t\t// Now add the marker.\n\t\t\t\tm._preSpiderfyLatlng = m._latlng;\n\t\t\t\tm.setLatLng(newPos);\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(1000000); //Make these appear on top of EVERYTHING\n\t\t\t\t}\n\n\t\t\t\tfg.addLayer(m);\n\t\t\t}\n\t\t\tthis.setOpacity(0.3);\n\n\t\t\tgroup._ignoreMove = false;\n\t\t\tgroup.fire('spiderfied', {\n\t\t\t\tcluster: this,\n\t\t\t\tmarkers: childMarkers\n\t\t\t});\n\t\t},\n\n\t\t_animationUnspiderfy: function () {\n\t\t\tthis._noanimationUnspiderfy();\n\t\t}\n\t});\n\n\t//Animated versions here\n\tL.MarkerCluster.include({\n\n\t\t_animationSpiderfy: function (childMarkers, positions) {\n\t\t\tvar me = this,\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tthisLayerLatLng = this._latlng,\n\t\t\t\tthisLayerPos = map.latLngToLayerPoint(thisLayerLatLng),\n\t\t\t\tsvg = L.Path.SVG,\n\t\t\t\tlegOptions = L.extend({}, this._group.options.spiderLegPolylineOptions), // Copy the options so that we can modify them for animation.\n\t\t\t\tfinalLegOpacity = legOptions.opacity,\n\t\t\t\ti, m, leg, legPath, legLength, newPos;\n\n\t\t\tif (finalLegOpacity === undefined) {\n\t\t\t\tfinalLegOpacity = L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity;\n\t\t\t}\n\n\t\t\tif (svg) {\n\t\t\t\t// If the initial opacity of the spider leg is not 0 then it appears before the animation starts.\n\t\t\t\tlegOptions.opacity = 0;\n\n\t\t\t\t// Add the class for CSS transitions.\n\t\t\t\tlegOptions.className = (legOptions.className || '') + ' leaflet-cluster-spider-leg';\n\t\t\t} else {\n\t\t\t\t// Make sure we have a defined opacity.\n\t\t\t\tlegOptions.opacity = finalLegOpacity;\n\t\t\t}\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\t// Add markers and spider legs to map, hidden at our center point.\n\t\t\t// Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\n\t\t\t// The reverse order trick no longer improves performance on modern browsers.\n\t\t\tfor (i = 0; i < childMarkers.length; i++) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\n\t\t\t\t// Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\n\t\t\t\tleg = new L.Polyline([thisLayerLatLng, newPos], legOptions);\n\t\t\t\tmap.addLayer(leg);\n\t\t\t\tm._spiderLeg = leg;\n\n\t\t\t\t// Explanations: https://jakearchibald.com/2013/animated-line-drawing-svg/\n\t\t\t\t// In our case the transition property is declared in the CSS file.\n\t\t\t\tif (svg) {\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegLength = legPath.getTotalLength() + 0.1; // Need a small extra length to avoid remaining dot in Firefox.\n\t\t\t\t\tlegPath.style.strokeDasharray = legLength; // Just 1 length is enough, it will be duplicated.\n\t\t\t\t\tlegPath.style.strokeDashoffset = legLength;\n\t\t\t\t}\n\n\t\t\t\t// If it is a marker, add it now and we'll animate it out\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(1000000); // Make normal markers appear on top of EVERYTHING\n\t\t\t\t}\n\t\t\t\tif (m.clusterHide) {\n\t\t\t\t\tm.clusterHide();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Vectors just get immediately added\n\t\t\t\tfg.addLayer(m);\n\n\t\t\t\tif (m._setPos) {\n\t\t\t\t\tm._setPos(thisLayerPos);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup._forceLayout();\n\t\t\tgroup._animationStart();\n\n\t\t\t// Reveal markers and spider legs.\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t//Move marker to new position\n\t\t\t\tm._preSpiderfyLatlng = m._latlng;\n\t\t\t\tm.setLatLng(newPos);\n\t\t\t\t\n\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\tm.clusterShow();\n\t\t\t\t}\n\n\t\t\t\t// Animate leg (animation is actually delegated to CSS transition).\n\t\t\t\tif (svg) {\n\t\t\t\t\tleg = m._spiderLeg;\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegPath.style.strokeDashoffset = 0;\n\t\t\t\t\t//legPath.style.strokeOpacity = finalLegOpacity;\n\t\t\t\t\tleg.setStyle({opacity: finalLegOpacity});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setOpacity(0.3);\n\n\t\t\tgroup._ignoreMove = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tgroup._animationEnd();\n\t\t\t\tgroup.fire('spiderfied', {\n\t\t\t\t\tcluster: me,\n\t\t\t\t\tmarkers: childMarkers\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t},\n\n\t\t_animationUnspiderfy: function (zoomDetails) {\n\t\t\tvar me = this,\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tthisLayerPos = zoomDetails ? map._latLngToNewLayerPoint(this._latlng, zoomDetails.zoom, zoomDetails.center) : map.latLngToLayerPoint(this._latlng),\n\t\t\t\tchildMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tsvg = L.Path.SVG,\n\t\t\t\tm, i, leg, legPath, legLength, nonAnimatable;\n\n\t\t\tgroup._ignoreMove = true;\n\t\t\tgroup._animationStart();\n\n\t\t\t//Make us visible and bring the child markers back in\n\t\t\tthis.setOpacity(1);\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t//Marker was added to us after we were spiderfied\n\t\t\t\tif (!m._preSpiderfyLatlng) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t//Close any popup on the marker first, otherwise setting the location of the marker will make the map scroll\n\t\t\t\tm.closePopup();\n\n\t\t\t\t//Fix up the location to the real one\n\t\t\t\tm.setLatLng(m._preSpiderfyLatlng);\n\t\t\t\tdelete m._preSpiderfyLatlng;\n\n\t\t\t\t//Hack override the location to be our center\n\t\t\t\tnonAnimatable = true;\n\t\t\t\tif (m._setPos) {\n\t\t\t\t\tm._setPos(thisLayerPos);\n\t\t\t\t\tnonAnimatable = false;\n\t\t\t\t}\n\t\t\t\tif (m.clusterHide) {\n\t\t\t\t\tm.clusterHide();\n\t\t\t\t\tnonAnimatable = false;\n\t\t\t\t}\n\t\t\t\tif (nonAnimatable) {\n\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t}\n\n\t\t\t\t// Animate the spider leg back in (animation is actually delegated to CSS transition).\n\t\t\t\tif (svg) {\n\t\t\t\t\tleg = m._spiderLeg;\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegLength = legPath.getTotalLength() + 0.1;\n\t\t\t\t\tlegPath.style.strokeDashoffset = legLength;\n\t\t\t\t\tleg.setStyle({opacity: 0});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup._ignoreMove = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t//If we have only <= one child left then that marker will be shown on the map so don't remove it!\n\t\t\t\tvar stillThereChildCount = 0;\n\t\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\t\tm = childMarkers[i];\n\t\t\t\t\tif (m._spiderLeg) {\n\t\t\t\t\t\tstillThereChildCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t\tif (!m._spiderLeg) { //Has already been unspiderfied\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\t\tm.setZIndexOffset(0);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (stillThereChildCount > 1) {\n\t\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\t}\n\n\t\t\t\t\tmap.removeLayer(m._spiderLeg);\n\t\t\t\t\tdelete m._spiderLeg;\n\t\t\t\t}\n\t\t\t\tgroup._animationEnd();\n\t\t\t\tgroup.fire('unspiderfied', {\n\t\t\t\t\tcluster: me,\n\t\t\t\t\tmarkers: childMarkers\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t}\n\t});\n\n\n\tL.MarkerClusterGroup.include({\n\t\t//The MarkerCluster currently spiderfied (if any)\n\t\t_spiderfied: null,\n\n\t\tunspiderfy: function () {\n\t\t\tthis._unspiderfy.apply(this, arguments);\n\t\t},\n\n\t\t_spiderfierOnAdd: function () {\n\t\t\tthis._map.on('click', this._unspiderfyWrapper, this);\n\n\t\t\tif (this._map.options.zoomAnimation) {\n\t\t\t\tthis._map.on('zoomstart', this._unspiderfyZoomStart, this);\n\t\t\t}\n\t\t\t//Browsers without zoomAnimation or a big zoom don't fire zoomstart\n\t\t\tthis._map.on('zoomend', this._noanimationUnspiderfy, this);\n\n\t\t\tif (!L.Browser.touch) {\n\t\t\t\tthis._map.getRenderer(this);\n\t\t\t\t//Needs to happen in the pageload, not after, or animations don't work in webkit\n\t\t\t\t//  http://stackoverflow.com/questions/8455200/svg-animate-with-dynamically-added-elements\n\t\t\t\t//Disable on touch browsers as the animation messes up on a touch zoom and isn't very noticable\n\t\t\t}\n\t\t},\n\n\t\t_spiderfierOnRemove: function () {\n\t\t\tthis._map.off('click', this._unspiderfyWrapper, this);\n\t\t\tthis._map.off('zoomstart', this._unspiderfyZoomStart, this);\n\t\t\tthis._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t\tthis._map.off('zoomend', this._noanimationUnspiderfy, this);\n\n\t\t\t//Ensure that markers are back where they should be\n\t\t\t// Use no animation to avoid a sticky leaflet-cluster-anim class on mapPane\n\t\t\tthis._noanimationUnspiderfy();\n\t\t},\n\n\t\t//On zoom start we add a zoomanim handler so that we are guaranteed to be last (after markers are animated)\n\t\t//This means we can define the animation they do rather than Markers doing an animation to their actual location\n\t\t_unspiderfyZoomStart: function () {\n\t\t\tif (!this._map) { //May have been removed from the map by a zoomEnd handler\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._map.on('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t},\n\n\t\t_unspiderfyZoomAnim: function (zoomDetails) {\n\t\t\t//Wait until the first zoomanim after the user has finished touch-zooming before running the animation\n\t\t\tif (L.DomUtil.hasClass(this._map._mapPane, 'leaflet-touching')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t\tthis._unspiderfy(zoomDetails);\n\t\t},\n\n\t\t_unspiderfyWrapper: function () {\n\t\t\t/// <summary>_unspiderfy but passes no arguments</summary>\n\t\t\tthis._unspiderfy();\n\t\t},\n\n\t\t_unspiderfy: function (zoomDetails) {\n\t\t\tif (this._spiderfied) {\n\t\t\t\tthis._spiderfied.unspiderfy(zoomDetails);\n\t\t\t}\n\t\t},\n\n\t\t_noanimationUnspiderfy: function () {\n\t\t\tif (this._spiderfied) {\n\t\t\t\tthis._spiderfied._noanimationUnspiderfy();\n\t\t\t}\n\t\t},\n\n\t\t//If the given layer is currently being spiderfied then we unspiderfy it so it isn't on the map anymore etc\n\t\t_unspiderfyLayer: function (layer) {\n\t\t\tif (layer._spiderLeg) {\n\t\t\t\tthis._featureGroup.removeLayer(layer);\n\n\t\t\t\tif (layer.clusterShow) {\n\t\t\t\t\tlayer.clusterShow();\n\t\t\t\t}\n\t\t\t\t\t//Position will be fixed up immediately in _animationUnspiderfy\n\t\t\t\tif (layer.setZIndexOffset) {\n\t\t\t\t\tlayer.setZIndexOffset(0);\n\t\t\t\t}\n\n\t\t\t\tthis._map.removeLayer(layer._spiderLeg);\n\t\t\t\tdelete layer._spiderLeg;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * Adds 1 public method to MCG and 1 to L.Marker to facilitate changing\n\t * markers' icon options and refreshing their icon and their parent clusters\n\t * accordingly (case where their iconCreateFunction uses data of childMarkers\n\t * to make up the cluster icon).\n\t */\n\n\n\tL.MarkerClusterGroup.include({\n\t\t/**\n\t\t * Updates the icon of all clusters which are parents of the given marker(s).\n\t\t * In singleMarkerMode, also updates the given marker(s) icon.\n\t\t * @param layers L.MarkerClusterGroup|L.LayerGroup|Array(L.Marker)|Map(L.Marker)|\n\t\t * L.MarkerCluster|L.Marker (optional) list of markers (or single marker) whose parent\n\t\t * clusters need to be updated. If not provided, retrieves all child markers of this.\n\t\t * @returns {L.MarkerClusterGroup}\n\t\t */\n\t\trefreshClusters: function (layers) {\n\t\t\tif (!layers) {\n\t\t\t\tlayers = this._topClusterLevel.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.MarkerClusterGroup) {\n\t\t\t\tlayers = layers._topClusterLevel.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.LayerGroup) {\n\t\t\t\tlayers = layers._layers;\n\t\t\t} else if (layers instanceof L.MarkerCluster) {\n\t\t\t\tlayers = layers.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.Marker) {\n\t\t\t\tlayers = [layers];\n\t\t\t} // else: must be an Array(L.Marker)|Map(L.Marker)\n\t\t\tthis._flagParentsIconsNeedUpdate(layers);\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t// In case of singleMarkerMode, also re-draw the markers.\n\t\t\tif (this.options.singleMarkerMode) {\n\t\t\t\tthis._refreshSingleMarkerModeMarkers(layers);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Simply flags all parent clusters of the given markers as having a \"dirty\" icon.\n\t\t * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\n\t\t * @private\n\t\t */\n\t\t_flagParentsIconsNeedUpdate: function (layers) {\n\t\t\tvar id, parent;\n\n\t\t\t// Assumes layers is an Array or an Object whose prototype is non-enumerable.\n\t\t\tfor (id in layers) {\n\t\t\t\t// Flag parent clusters' icon as \"dirty\", all the way up.\n\t\t\t\t// Dumb process that flags multiple times upper parents, but still\n\t\t\t\t// much more efficient than trying to be smart and make short lists,\n\t\t\t\t// at least in the case of a hierarchy following a power law:\n\t\t\t\t// http://jsperf.com/flag-nodes-in-power-hierarchy/2\n\t\t\t\tparent = layers[id].__parent;\n\t\t\t\twhile (parent) {\n\t\t\t\t\tparent._iconNeedsUpdate = true;\n\t\t\t\t\tparent = parent.__parent;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Re-draws the icon of the supplied markers.\n\t\t * To be used in singleMarkerMode only.\n\t\t * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\n\t\t * @private\n\t\t */\n\t\t_refreshSingleMarkerModeMarkers: function (layers) {\n\t\t\tvar id, layer;\n\n\t\t\tfor (id in layers) {\n\t\t\t\tlayer = layers[id];\n\n\t\t\t\t// Make sure we do not override markers that do not belong to THIS group.\n\t\t\t\tif (this.hasLayer(layer)) {\n\t\t\t\t\t// Need to re-create the icon first, then re-draw the marker.\n\t\t\t\t\tlayer.setIcon(this._overrideMarkerIcon(layer));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tL.Marker.include({\n\t\t/**\n\t\t * Updates the given options in the marker's icon and refreshes the marker.\n\t\t * @param options map object of icon options.\n\t\t * @param directlyRefreshClusters boolean (optional) true to trigger\n\t\t * MCG.refreshClustersOf() right away with this single marker.\n\t\t * @returns {L.Marker}\n\t\t */\n\t\trefreshIconOptions: function (options, directlyRefreshClusters) {\n\t\t\tvar icon = this.options.icon;\n\n\t\t\tL.setOptions(icon, options);\n\n\t\t\tthis.setIcon(icon);\n\n\t\t\t// Shortcut to refresh the associated MCG clusters right away.\n\t\t\t// To be used when refreshing a single marker.\n\t\t\t// Otherwise, better use MCG.refreshClusters() once at the end with\n\t\t\t// the list of modified markers.\n\t\t\tif (directlyRefreshClusters && this.__parent) {\n\t\t\t\tthis.__parent._group.refreshClusters(this);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t});\n\n\texports.MarkerClusterGroup = MarkerClusterGroup;\n\texports.MarkerCluster = MarkerCluster;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=leaflet.markercluster-src.js.map\n","var EmitOnOff = module.exports = function(thing){\n  if (!thing) thing = {};\n\n  thing._subs = [];\n  thing._paused = false;\n  thing._pending = [];\n\n  /**\n   * Sub of pubsub\n   * @param  {String}   name name of event\n   * @param  {Function} cb   your callback\n   */\n  thing.on = function(name, cb){\n    thing._subs[name] = thing._subs[name] || [];\n    thing._subs[name].push(cb);\n  };\n\n  /**\n   * remove sub of pubsub\n   * @param  {String}   name name of event\n   * @param  {Function} cb   your callback\n   */\n  thing.off = function(name, cb){\n    if (!thing._subs[name]) return;\n    for (var i in thing._subs[name]){\n      if (thing._subs[name][i] === cb){\n        thing._subs[name].splice(i);\n        break;\n      }\n    }\n  };\n\n  /**\n   * Pub of pubsub\n   * @param  {String}   name name of event\n   * @param  {Mixed}    data the data to publish\n   */\n  thing.emit = function(name){\n    if (!thing._subs[name]) return;\n\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    if (thing._paused) {\n      thing._pending[name] = thing._pending[name] || [];\n      thing._pending[name].push(args)\n      return\n    }\n\n    for (var i in thing._subs[name]){\n      thing._subs[name][i].apply(thing, args);\n    }\n  };\n\n  thing.pause = function() {\n    thing._paused = true;\n  };\n\n  thing.resume = function() {\n    thing._paused = false;\n\n    for (var name in thing._pending) {\n      for (var i = 0; i < thing._pending[name].length; i++) {\n        thing.emit(name, thing._pending[name][i])\n      }\n    }\n  };\n\n  return thing;\n};","import 'whatwg-fetch';\nimport { nlmaps } from '../nlmaps/dist/nlmaps.es.js';\nimport { pointQueryChain } from './lib.js';\nimport 'leaflet.markercluster';\nimport emitonoff from 'emitonoff';\nconst mora = {};\nemitonoff(mora);\n\nmora.createMap = async function(config) {\n  //create map\n  let map = nlmaps.createMap(config);\n  //subscribe chain of API calls to the nlmaps click event\n  nlmaps.on(\"mapclick\", async function(click) {\n    const result = await pointQueryChain(click);\n    mora.emit(\"query-results\", result);\n  });\n\n  mora.on(\"query-results\", function(res) {\n    if (res.dichtstbijzijnd_adres !== null) {\n      let adres = res.dichtstbijzijnd_adres;\n      let display_string = `${adres.openbare_ruimte} ${adres.huisnummer}\n${adres.huisletter ? adres.huisletter : \"\"}\n${adres.huisnummer_toevoeging ? \"-\" + adres.huisnummer_toevoeging : \"\"}\n, ${adres.postcode} ${adres.woonplaats}`;\n      document.getElementById(\n        \"nlmaps-geocoder-control-input\"\n      ).value = display_string;\n    } else {\n      document.getElementById(\"nlmaps-geocoder-control-input\").value = \"\";\n    }\n  });\n\n  nlmaps.on(\"search-select\", async function(e) {\n    let point = {\n      latlng: { lat: e.latlng.coordinates[1], lng: e.latlng.coordinates[0] },\n      resultObject: e.resultObject\n    };\n    const result = await pointQueryChain(point);\n    mora.emit(\"query-results\", result);\n    //emit mapclick so we can place a marker\n    nlmaps.emit(\"mapclick\", point);\n  });\n\n  //attach user-supplied event handlers\n  if (typeof config.clickHandlers === \"function\") {\n    nlmaps.on(\"mapclick\", config.clickHandlers);\n  } else if (Array.isArray(config.clickHandlers)) {\n    config.clickHandlers.forEach(f => {\n      if (typeof f === \"function\") {\n        nlmaps.on(\"mapclick\", f);\n      }\n    });\n  }\n  if (typeof config.onQueryResult === \"function\") {\n    mora.on(\"query-results\", config.onQueryResult);\n  } else if (Array.isArray(config.onQueryResult)) {\n    config.onQueryResult.forEach(f => {\n      if (typeof f === \"function\") {\n        mora.on(\"query-results\", f);\n      }\n    });\n  }\n  //this is the only private subscription we do here, since it belongs to the map viewport.\n  //setup click and feature handlers\n  //let clicks = nlmaps.clickProvider(map);\n  let singleMarker = nlmaps.singleMarker(map);\n  //clicks.subscribe(singleMarker);\n\n  //partially apply singleMarker for search results listener\n  function markerFromSearch(click) {\n    singleMarker(1, click, false, true);\n  }\n\n  nlmaps.on(\"mapclick\", markerFromSearch);\n  return map;\n};\n\nconst pointquery = mora;\nexport default pointquery;\n"],"names":["self","fetch","support","Symbol","Blob","e","arrayBuffer","viewClasses","isDataView","obj","DataView","prototype","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","indexOf","Object","toString","call","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","shift","done","undefined","iterable","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","oldValue","get","has","hasOwnProperty","set","callback","thisArg","keys","push","values","entries","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","length","i","fromCharCode","join","bufferClone","slice","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","_bodyArrayBuffer","Error","type","rejected","then","text","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","toUpperCase","Request","input","options","url","credentials","mode","referrer","clone","form","trim","split","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","preProcessedHeaders","line","parts","key","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","location","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","this","createCommonjsModule","o","exports","err","mergeConfig","_extends","parseBase","CONFIG","BASE_DEFAULTS","defaults","layers","BASEMAP_PROVIDERS","formatBasemapUrl","parseWMS","WMS_DEFAULTS","WMS_PROVIDERS","applyTemplate","parseGeocoder","GEOCODER","lookupUrl","suggestUrl","placeholder","parseMap","MAP","layerName","crs","format","t","workSpaceName","parseFeatureQuery","FEATUREQUERYBASEURL","parseClasses","CLASSNAMES","parseMarker","MARKER","httpGetAsync","r","onreadystatechange","readyState","wktPointToGeoJson","includes","coordinates","parseFloat","parseClasses$1","classList","add","getMarker","getExtent","extent","getProvider","deprecated","console","warn","PROVIDERS","getWmsProvider","log","mapPointerStyle","_container","extentLeafletFormat","L","latLng","latLngBounds","markerLayer","_typeof","getMapCenter","latitude","longitude","marker","alt","icon","iconUrl","iconSize","iconAnchor","bgLayer","nlmapsBgLayer","overlayLayer","nlmapsOverlayLayer","geoLocatorControl","zoomTo","fitBounds","geoJSON","getBounds","maxZoom","geocoderControl","geocoder","createControl","getContainer","parentElement","insertBefore","getCenter","lat","lng","bgLayer$1","arguments","subdomains","ol","layer","Tile","source","XYZ","attributions","Attribution","html","attribution","markerLayer$1","style","Style","image","Icon","anchor","anchorXUnits","anchorYUnits","src","scale","n","getMapCenter$1","a","proj","fromLonLat","s","Feature","geometry","geom","Point","setStyle","Vector","features","overlayLayer$1","TileWMS","serverType","params","LAYERS","VERSION","version","STYLES","styleName","geoLocatorControl$1","getView","getZoom","View","center","coords","zoom","setView","document","createElement","className","addEventListener","start","on","control","Control","element","zoomTo$1","setCenter","setZoom","toLonLat","geocoderControl$1","addControl","AttributionControl","google","maps","backgroundColor","opacity","border","cursor","appendChild","color","fontFamily","fontSize","innerHTML","index","geoLocatorControl$2","id","boxShadow","height","width","borderRadius","margin","zoomTo$2","indexOfMapControl","getArray","toggleAttrControl","getMapTypeId","controls","ControlPosition","BOTTOM_RIGHT","removeAt","makeGoogleAttrControl","addListener","makeGoogleLayerOpts","getTileUrl","bare_url","x","y","tileSize","Size","isPng","minZoom","getWmsTiledOptions","baseUrl","styles","transparent","bgLayer$2","ImageMapType","toMercator","Math","abs","sin","WMSTiled","getProjection","pow","fromPointToLatLng","l","c","u","d","setOpacity","overlayMapTypes","overlayLayer$2","markerLayer$2","getMapCenter$2","LatLng","Marker","title","position","geocoderControl$2","getDiv","positionHandler","emit","positionErrorHandler","geoLocator","window","navigator","emitonoff$1","GeoLocator","stop","query","catch","createAndAddMarker","latlng","addTo","markerStore","popup","offset","setContent","bindPopup","openPopup","addMarker","singleMarker","markers","removeMarker","multiMarker","testWhichLib","initMap","getElementById","target","padding","attributionControl","DomUtil","create","maxBounds","setPrefix","zoomControl","setPosition","zoomposition","Map","zoomControlOptions","LEFT_BOTTOM","fullscreenControl","getTargetElement","getElementsByClassName","cssText","remove","addGoogleLayer","setMap","setOptions","mapTypeControl","mapTypeControlOptions","mapTypeIds","BOTTOM_LEFT","mapTypes","setMapTypeId","addLayerToMap","addLayer","createBackgroundLayer","nlmaps","leaflet","googlemaps","openlayers","createOverlayLayer","createMarkerLayer","getMapCenter$3","mergeOpts","addGeoLocControlToMap","TOP_RIGHT","addGeocoderControlToMap","emitonoff","_subs","_paused","_pending","off","splice","apply","pause","resume","config","basemaps","wms","featureQuery","classnames","geocoderContainer","geocoderSearch","geocoderButton","geocoderResultList","geocoderResultItem","geocoderResultSelected","constructor","assign","attr","resultList","selectedResult","doSuggestRequest","encodeURIComponent","doLookupRequest","docs","centroide_ll","centroide_rd","stopPropagation","setAttribute","code","keyCode","showLookupResult","clearSuggestResults","suggest","preventDefault","lookup","showSuggestResults","weergavenaam","resultObject","NlmapsBgLayer","TileLayer","extend","initialize","Util","scheme","sa_id","NlmapsOverlayLayer","WMS","GeoLocatorControl","onAdd","panTo","geolocator","isStarted","addClass","DomEvent","removeClass","onRemove","geoLocateDefaultOpts","follow","started","geolocation","getCurrentPosition","bind","maximumAge","pointToQuery","queryResult","queryFeatures","subscribe","findIndex","geoLocateDefaultOpts$1","lib","createMap","message","search","overlay","geoLocate","clickProvider","defs","WGS84","GOOGLE","PJD_3PARAM","PJD_7PARAM","PJD_GRIDSHIFT","PJD_WGS84","PJD_NODATUM","SRS_WGS84_SEMIMAJOR","SRS_WGS84_SEMIMINOR","SRS_WGS84_ESQUARED","SEC_TO_RAD","HALF_PI","PI","SIXTH","RA4","RA6","EPSLN","D2R","R2D","FORTPI","TWO_PI","SPI","greenwich","lisbon","paris","bogota","madrid","rome","bern","jakarta","ferro","brussels","stockholm","athens","oslo","to_meter","ignoredChar","match","lkey","testkey","processedKey","defData","paramObj","v","filter","reduce","p","paramName","paramVal","paramOutname","rf","lat0","lat1","lat2","lat_ts","long0","long1","long2","alpha","rectified_grid_angle","longc","x0","y0","k0","b","R_A","zone","parseInt","utmSouth","datum_params","units","unit","from_greenwich","pm","PrimeMeridian","datumCode","nadgrids","legalAxis","substr","axis","approx","NEUTRAL","KEYWORD","NUMBER","QUOTED","AFTERQUOTE","ENDED","whitespace","latin","keyword","endThings","digets","Parser","level","place","root","stack","currentObject","state","readCharicter","char","neutral","quoted","afterquote","number","word","afterItem","pop","newObjects","output","parseString","txt","parser","mapit","unshift","thing","out","newObj","item","sExpr","rename","outName","inName","d2r","cleanWKT","wkt","projName","local","babelHelpers.typeof","PROJECTION","AXIS","axisOrder","ii","UNIT","convert","DATUM","SPHEROID","geogcs","GEOGCS","sphere","ellps","TOWGS84","isFinite","toMeter","ratio","renamer","list","lisp","that","def","charAt","parseProj","EPSG","ESRI","IAU2000","globals","testObj","testDef","codeWords","testWKT","some","codes","checkMercator","auth","checkProjStr","ext","testProj","maybeProjStr","projStr","destination","property","eccent","sinphi","cosphi","con","sqrt","sign","phi","com","tan","ts","eccnth","dphi","atan","es","cos","msfnz","k","forward","lon","adjust_lon","tsfnz","inverse","exp","phi2z","names","identity","pt","projs","merc","longlat","projStore","len","MERIT","SGS85","GRS80","IAU76","airy","APL4","NWL9D","mod_airy","andrae","aust_SA","GRS67","bessel","bess_nam","clrk66","clrk80","clrk80ign","clrk58","CPM","delmbr","engelis","evrst30","evrst48","evrst56","evrst69","evrstSS","fschr60","fschr60m","fschr68","helmert","hough","intl","kaula","lerch","mprts","new_intl","plessis","krass","SEasia","walbeck","WGS60","WGS66","WGS7","eccentricity","a2","b2","ep2","ellipse","Ellipsoid","wgs84","ch1903","ggrs87","nad83","nad27","potsdam","carthage","hermannskogel","militargeographische_institut","osni52","ire65","rassadiran","nzgd49","osgb36","s_jtsk","beduaram","gunung_segara","rnb72","datum","datum_type","grids","loadedNadgrids","nadgrid","data","isLittleEndian","detectLittleEndian","readHeader","subgrids","readSubgrids","getNadgrids","parseNadgridString","optional","mandatory","grid","isNull","secondsToRadians","seconds","nFields","getInt32","decodeString","getFloat64","end","gridOffset","nSubgrids","subHeader","readGridHeader","nodes","readGridNodes","lngColumnCount","round","upperLongitude","lowerLongitude","longitudeInterval","latColumnCount","upperLatitude","lowerLatitude","latitudeInterval","gridNodeCount","mapNodes","longitudeShift","latitudeShift","gridHeader","nodesOffset","gridRecordLength","gridShiftRecords","record","getFloat32","Projection","srsCode","parseCode","ourProj","projections","datumDef","Datum","towgs84","datumName","sphere_","dc_sphere","ecc","dc_eccentricity","datumObj","compareDatums","dest","geodeticToGeocentric","Longitude","Latitude","Height","z","Rn","Sin_Lat","Sin2_Lat","Cos_Lat","Infinity","geocentricToGeodetic","genau","genau2","maxiter","P","RR","CT","ST","RX","RK","RN","CPHI0","SPHI0","CPHI","SPHI","SDPHI","iter","X","Y","Z","atan2","geocentricToWgs84","Dx_BF","Dy_BF","Dz_BF","Rx_BF","Ry_BF","Rz_BF","M_BF","geocentricFromWgs84","x_tmp","y_tmp","z_tmp","checkParams","point","source_a","source_es","gridShiftCode","applyGridShift","dest_a","dest_b","dest_es","destGridShiftResult","Number","NaN","onlyMandatoryGrids","attemptedGrids","j","jj","subgrid","epsilon","del","minX","ll","minY","maxX","lim","maxY","applySubgridShift","isNaN","outer","pin","ct","val","tb","nadInterpolate","tol","dif","indx","floor","frct","inx","f00","cvs","f10","f11","f01","m11","m10","m00","m01","denorm","xin","yin","zin","array","m","checkCoord","num","checkNotWGS","transform","enforceAxis","toPoint","hasZ","adjust_axis","datum_transform","transformer","from","to","transformedArray","concat","checkProj","oProj","proj4","fromProj","toProj","coord","single","NUM_100K_SETS","SET_ORIGIN_COLUMN_LETTERS","SET_ORIGIN_ROW_LETTERS","A","I","O","V","accuracy","encode","LLtoUTM","mgrs","bbox","UTMtoLL","left","bottom","right","top","degToRad","deg","radToDeg","rad","Lat","Long","eccSquared","LongOrigin","eccPrimeSquared","N","T","C","M","LatRad","LongRad","LongOriginRad","ZoneNumber","UTMEasting","UTMNorthing","getLetterDesignator","utm","northing","easting","zoneLetter","zoneNumber","e1","N1","T1","C1","R1","D","mu","phi1Rad","topRight","LetterDesignator","seasting","snorthing","get100kID","setParm","get100kSetForZone","setColumn","setRow","getLetter100kID","column","row","parm","colOrigin","charCodeAt","rowOrigin","colInt","rowInt","rollover","twoLetter","mgrsString","hunK","sb","testChar","substring","east100k","getEastingFromChar","north100k","getNorthingFromChar","getMinNorthing","remainder","sep","sepEasting","sepNorthing","accuracyBonus","sepEastingString","sepNorthingString","curCol","eastingValue","rewindMarker","curRow","northingValue","fromMGRS","mgrsStr","toMGRS","C00","C02","C04","C06","C08","C22","C44","C46","C48","C66","C68","C88","en","sphi","cphi","MAX_ITER","arg","pj_mlfn","pj_enfn","ml0","delta_lon","sin_phi","cos_phi","acos","al","als","cs","tq","ml","f","g","temp","h","asin","pj_inv_mlfn","tan_phi","ds","max","min","log1py","hypot","pp","B","cos_2B","h1","h2","arg_r","hr1","hr2","hr","arg_i","sin_arg_r","cos_arg_r","sinh_arg_i","sinh","cosh_arg_i","cosh","hi1","hi","hi2","tmerc","cgb","cbg","utg","gtu","np","Qn","gatg","Zb","clens","Ce","Cn","sin_Cn","cos_Cn","sin_Ce","cos_Ce","asinhy","tmp","clens_cmplx","dependsOn","adjust_zone","etmerc","esinp","rc","phic0","ratexp","K","srat","DEL_TOL","sinc0","cosc0","R2","sinc","cosc","cosl","rho","ssfn_","phit","eccen","coslat0","sinlat0","cons","ms1","X0","cosX0","sinX0","sinlat","coslat","sinX","cosX","rh","dlon","ce","Chi","phy0","lambda0","sinPhy0","semiMajorAxis","invF","flattening","e2","R","b0","k1","k2","k3","Sa1","Sa2","S","rotI","rotB","lambda","phy","prevPhy","iteration","TOL","isTypeA","typeAProjections","projectionName","cosph0","F","H","sinph0","J","gamma","gamma0","lamc","lam1","lam2","phi1","phi2","alpha_c","AB","no_off","no_rot","alp","gam","one_es","E","lam0","pi","singam","cosgam","sinrot","cosrot","rB","ArB","BrA","u_0","v_pole_n","v_pole_s","U","W","Qp","Sp","Tp","Vp","Up","sin1","cos1","ts1","sin2","cos2","ms2","ts2","ts0","ns","f0","rh1","theta","s45","s90","fi0","alfa","uq","u0","n0","s0","ro0","ad","gfi","deltav","eps","ro","czech","fi1","e0","e3","e0fn","e1fn","e2fn","e3fn","mlfn","lam","nl","gN","tl","asq","cl","dd","ml1","imlfn","nl1","rl1","tl1","dl","dsq","adjust_lat","S_POLE","N_POLE","EQUIT","OBLIQ","qp","qsfnz","mmf","apa","authset","rq","xmf","ymf","sinb1","cosb1","coslam","sinlam","q","sinb","cosb","cCe","sCe","ab","cosz","sinz","authlat","P00","P01","P02","P10","P11","P20","APA","beta","sin_po","cos_po","t1","qs1","t2","qs2","t3","qs0","ns0","qs","phi1z","asinz","eccnts","sin_p14","cos_p14","infinity_dist","coslon","ksp","iqsfnz","dlat","el","bl","tanphi","mln","mlnp","ma","B_re","B_im","C_re","C_im","delta_lat","d_phi","d_lambda","d_phi_n","d_psi","th_re","th_im","th_n_re","th_n_im","th_n_re1","th_n_im1","z_re","z_im","delta_x","delta_y","z_n_re","z_n_im","z_n_re1","z_n_im1","iterations","num_re","num_im","den_re","den_im","den2","d_psi_n","C_y","C_x","delta_theta","ml2","sinth","costh","gsq","msq","xx","yy","xys","c1","c2","c3","a1","m1","th1","sin_p12","cos_p12","Mlp","Ml","Nl1","Nl","psi","Az","G","GH","Hs","kp","cos_c","s2","s3","s4","s5","cosAz","Ee","sinpsi","FACE_ENUM","AREA_ENUM","face","TOP","BOTTOM","FRONT","RIGHT","LEFT","BACK","one_minus_f","one_minus_f_squared","xy","area","AREA_0","AREA_1","AREA_2","AREA_3","sinlon","qsc_shift_lon_origin","qsc_fwd_equat_face_theta","lp","nu","cosmu","tannu","tantheta","invert_sign","xa","slon","COEFS_X","COEFS_Y","FXC","FYC","RC1","NODES","poly3_val","coefs","poly3_der","newton_rapshon","f_df","max_err","iters","upd","degrees","pn1","rp","pfact","omega","tilt","azi","cg","sg","cw","sw","yt","ba","bm","bq","flip_axis","sweep","radius_g_1","radius_g","rone_es","radius_p","radius_p2","radius_p_inv2","shape","v_x","v_y","v_z","det","v_zp","Proj","sterea","stere","somerc","omerc","lcc","krovak","cass","laea","aea","gnom","cea","eqc","poly","nzmg","mill","sinu","moll","eqdc","vandg","aeqd","ortho","qsc","robin","geocent","tpers","geos","defaultDatum","common","includedProjections","click","nummeraanduiding_id","nummeraanduidingId","requestFormatter","responseFormatter","res","getBagInfo","_links","href","openbare_ruimte","_display","huisnummer","huisletter","huisnummer_toevoeging","postcode","woonplaats","dichtstbijzijnd_adres","getFullObjectData","findOmgevingFeature","buurtinfo","wijkinfo","stadsdeelinfo","omgevingsinfo","display","vollcode","getOmgevingInfo","pointQueryChain","transformCoords","feature","find","feat","properties","xyRD","search_id","filtered","results","landelijk_id","type_adres","global","factory","MarkerClusterGroup","FeatureGroup","pane","weight","iconCreateFunction","_defaultIconCreateFunction","_featureGroup","featureGroup","addEventParent","_nonPointGroup","_inZoomAnimation","_needsClustering","_needsRemoving","_currentShownBounds","_queue","_childMarkerEventHandlers","_childMarkerDragStart","_childMarkerMoved","_childMarkerDragEnd","animate","TRANSITION","_withAnimation","_noAnimation","_markerCluster","MarkerCluster","MarkerClusterNonAnimated","LayerGroup","addLayers","getLatLng","fire","_map","hasLayer","_unspiderfy","_addLayer","_maxZoom","_topClusterLevel","_recalculateBounds","_refreshClustersIcons","visibleLayer","currentZoom","_zoom","__parent","contains","animateAddingMarkers","_animationAddLayer","_animationAddLayerNonAnimated","removeLayers","removeLayer","_arraySplice","_latlng","_unspiderfyLayer","_removeLayer","clusterShow","layersArray","skipLayerAddEvent","fg","npg","chunked","chunkedLoading","chunkInterval","chunkProgress","originalArray","Date","getTime","process","elapsed","_extractNonGroupLayers","getChildCount","getAllChildMarkers","otherMarker","_recursivelyAddChildrenToMap","chunkDelay","needsClustering","layersArray2","l2","_gridClusters","_gridUnclustered","_noanimationUnspiderfy","clearLayers","eachLayer","_generateInitialClusters","bounds","LatLngBounds","_bounds","context","needsRemoving","thisNeedsRemoving","stamp","anArray","_group","showMarker","_icon","once","spiderfy","zoomToBounds","getMaxZoom","_maxLat","projection","MAX_LATITUDE","newlatlng","_getExpandedVisibleBounds","_zoomEnd","_moveEnd","_spiderfierOnAdd","_bindEvents","_unbindEvents","_mapPane","_spiderfierOnRemove","_hideCoverage","vMarker","gridUnclustered","getMinZoom","removeObject","project","__dragStart","_ignoreMove","isPopupOpen","_popup","isOpen","_moveChild","oldLatLng","dragStart","removeFromDistanceGrid","dontUpdateMap","gridClusters","_removeFromGridUnclustered","cluster","_markers","_childCount","_boundsNeedUpdate","_cLatLng","addObject","_childClusters","_iconNeedsUpdate","oel","parentNode","propagate","originalEvent","_isOrIsParent","relatedTarget","listens","childCount","DivIcon","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","spiderfyOnEveryZoom","_zoomOrSpiderfy","_showCoverage","bottomCluster","focus","_shownPolygon","_spiderfied","Polygon","getConvexHull","polygonOptions","_mergeSplitClusters","newBounds","_recursivelyRemoveChildrenFromMap","ceil","radius","maxClusterRadius","radiusFn","disableClusteringAtZoom","DistanceGrid","markerPoint","singleMarkerMode","_overrideMarkerIcon","closest","getNearObject","_addChild","parent","newCluster","lastParent","_updateIcon","fn","_queueTimeout","setTimeout","_processQueue","mapZoom","intersects","_animationStart","_animationZoomIn","_animationZoomOut","removeOutsideVisibleBounds","_mapBoundsInfinite","Browser","mobile","_checkBoundsMaxLat","pad","maxLat","getNorth","_northEast","getSouth","_southWest","_addToMap","group","getLayers","include","previousZoomLevel","newZoomLevel","_recursively","startPos","_isSingleParent","clusterHide","_forceLayout","_recursivelyBecomeVisible","_recursivelyRestoreChildPositions","_enqueue","_animationEnd","_animationZoomOutSingle","me","_setPos","latLngToLayerPoint","_recursivelyAnimateChildrenInAndAddSelfToMap","setLatLng","falseFn","offsetWidth","markerClusterGroup","clusterPane","storageArray","ignoreDraggedMarker","fitBoundsOptions","childClusters","boundsZoom","getBoundsZoom","newClusters","setIcon","_iconObj","createIcon","createShadow","new1","isNotificationFromChild","_setClusterCenter","child","latSum","lngSum","totalCount","childLatLng","_resetBounds","_wLatLng","_backupLatlng","cm","mapMinZoom","_recursivelyAnimateChildrenIn","zoomLevel","nm","_restorePosition","previousBounds","exceptBounds","boundsToApplyTo","zoomLevelToStart","zoomLevelToStop","runAtEveryLevel","runAtBottomLevel","backup","cellSize","_cellSize","_sqCellSize","_grid","_objectPoint","_getCoord","cell","removed","dist","objectPoint","closestDistSq","_sqDist","p2","dx","dy","QuickHull","cpt","vY","vX","baseLine","latLngs","maxD","maxPt","newPoints","getDistant","maxPoint","convexHullBaseLines","findMostDistantPointFromBaseLine","buildConvexHull","minLat","maxLng","minLng","maxLatPt","minLatPt","maxLngPt","minLngPt","minPt","ch","childMarkers","points","positions","spiderfyShapePositions","_circleSpiralSwitchover","_generatePointsSpiral","_generatePointsCircle","_animationSpiderfy","zoomDetails","_animationUnspiderfy","count","centerPt","circumference","spiderfyDistanceMultiplier","_circleFootSeparation","legLength","_2PI","angle","_circleStartAngle","angleStep","_round","_spiralLengthStart","separation","_spiralFootSeparation","lengthFactor","_spiralLengthFactor","_preSpiderfyLatlng","setZIndexOffset","_spiderLeg","legOptions","spiderLegPolylineOptions","leg","newPos","layerPointToLatLng","Polyline","thisLayerLatLng","thisLayerPos","svg","Path","SVG","legPath","finalLegOpacity","_path","getTotalLength","strokeDasharray","strokeDashoffset","_latLngToNewLayerPoint","nonAnimatable","closePopup","stillThereChildCount","_unspiderfyWrapper","zoomAnimation","_unspiderfyZoomStart","touch","getRenderer","_unspiderfyZoomAnim","hasClass","unspiderfy","_layers","_flagParentsIconsNeedUpdate","_refreshSingleMarkerModeMarkers","directlyRefreshClusters","refreshClusters","defineProperty","EmitOnOff","module","cb","args","mora","markerFromSearch","adres","display_string","clickHandlers","onQueryResult","pointquery"],"mappings":"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"}